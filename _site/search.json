[
  {
    "objectID": "References.html",
    "href": "References.html",
    "title": "Список литературы и дополнительные источники",
    "section": "",
    "text": "Самсонов Т.Е. Основы геоинформатики: курс лекций : сайт. 2025. — URL: https://tsamsonov.github.io/gis-course/. Дата публикации: 14.02.2025. DOI: 10.5281/zenodo.7902351\nSergio Rey, Dani Arribas-Bel, Levi John Wolf Geographic Data Science with Python - URL: https://geographicdata.science/book/\nManuel Gimond Intro to GIS and Spatial Analysis - URL: https://mgimond.github.io/Spatial/index.html\nYuan, Y., Qiang, Y., Bin Asad, K., and Chow, T. E. (2020). Point Pattern Analysis. The Geographic Information Science & Technology Body of Knowledge (1st Quarter 2020 Edition), John P. Wilson (ed.). DOI: 10.22224/gistbok/2020.1.13.\nPoint pattern analysis - URL: https://arcg.is/0nO0bH",
    "crumbs": [
      "Список литературы и дополнительные источники"
    ]
  },
  {
    "objectID": "References.html#использованная-литература",
    "href": "References.html#использованная-литература",
    "title": "Список литературы и дополнительные источники",
    "section": "",
    "text": "Самсонов Т.Е. Основы геоинформатики: курс лекций : сайт. 2025. — URL: https://tsamsonov.github.io/gis-course/. Дата публикации: 14.02.2025. DOI: 10.5281/zenodo.7902351\nSergio Rey, Dani Arribas-Bel, Levi John Wolf Geographic Data Science with Python - URL: https://geographicdata.science/book/\nManuel Gimond Intro to GIS and Spatial Analysis - URL: https://mgimond.github.io/Spatial/index.html\nYuan, Y., Qiang, Y., Bin Asad, K., and Chow, T. E. (2020). Point Pattern Analysis. The Geographic Information Science & Technology Body of Knowledge (1st Quarter 2020 Edition), John P. Wilson (ed.). DOI: 10.22224/gistbok/2020.1.13.\nPoint pattern analysis - URL: https://arcg.is/0nO0bH",
    "crumbs": [
      "Список литературы и дополнительные источники"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Пространственный анализ урбанизированных территорий",
    "section": "",
    "text": "Материалы для практических занятий по курсу “Пространственный анализ урбанизированных территорий”, весна 2024/2025.\nКурс является продолжением курса по Геоиинформатике и геоинформационным системам и нацелен на более глубокое изучение методов пространственного анализа территорий с использованием геоинформационных систем.\nОсновное программное обеспечение, используемое в курсе:\n\nQGIS\nGeoDa\n\nМатериалы лекций по темам:\n\nанализ точечных паттернов и кластеризация - https://baltti.github.io/point-pattern/\nгравитационные модели\nпространственные веса, пространственная автокорреляция\nпространственная регрессия\n\nМатериалы в работе",
    "crumbs": [
      "О курсе"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html",
    "href": "01-point-pattern-analysis.html",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "",
    "text": "Материалы лекции\nОткрыть лекцию в новой вкладке\nДля практической работы по теме используется геоинформационная система QGIS.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#data",
    "href": "01-point-pattern-analysis.html#data",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "1 Исходные данные",
    "text": "1 Исходные данные\nВ качестве исходных данных для работы будут использованы сведения о преступлениях в Сан-Франциско.\nВсе наборы данных доступен по ссылке.\nВ скачанном архиве вы найдете две папки:\n\nCrime events - векторные слои точечных объектов в формате shapefile для нескольких типов преступлений;\nSF PD Plots - агрегированные по округам данные.\n\nТак как темой занятия является анализ точечных паттернов, то вам понадобится один из слоев из папки Crime events:\n\nsf_cartheft.shp - угоны машин;\nsf_drugs.shp - случаи торговли наркотиками;\nsf_roberry.shp - ограбления;\nsf_vandalism.shp - случаи вандализма.\n\n\n\n\n\n\n\nWarning\n\n\n\nНе забывайте, что shapefile - это коварный формат и вам нужен не только файл с расширением .shp, но и все другие с таким же именем, но другими расширениями.\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\nОписание атрибута\n\n\n\n\nIncidntNum\nUnique identifier for each incident report\nИдентификатор инцидента\n\n\nX_pr\nProjected X-coordinates\nКоордината Х в прямоугнольной системе координат\n\n\nY_pr\nProjected Y-coordinates\nКоордината Y в прямоугнольной системе координат\n\n\nCategory\nCrime classification (robberies, drugs/narcotics possession or sale, vehicle theft, and vandalism)\nТип преступления\n\n\nDescript\nDescription of the crime\nОписание\n\n\nDayOfWeek\nDay of the week that crime was reported\nДень недели, в который было подано заявление\n\n\nDate\nDate of the report\nДата заявления\n\n\nTime\nTime of report\nВремя заявления\n\n\nPdDistrict\nPolice district\nПолицейский участок\n\n\nResolution\nOutcome of the report, e.g. None, Arrest, Unfounded, etc\nРезультат работы по заявлению\n\n\nLocation\nStreet address where the crime occurred\nНазвание улицы, где произошло преступление\n\n\nX\nX-Coordinates of crime location\nДолгота\n\n\nY\nY-Coordinates of crime location\nШирота\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nОткрыть данные вы можете, просто перетащив файл с расширением .shp в пустое окно QGIS или через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить векторный слой.\n\n\nПосле добавления векторного слоя и открытия подложки (опционально), вы должны увидеть что-то похожее на картинку ниже.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nЛокальная оценка плотности по квадрантам рассмотрена по ссылке",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#kde",
    "href": "01-point-pattern-analysis.html#kde",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "2 Ядерная оценка плотности",
    "text": "2 Ядерная оценка плотности\n\n\n\n\n\n\nTip\n\n\n\nВизуальную оценка ядерной плотности можно выполнить с помощью стилизации слоя точечных объектов в виде тепловой карты, о чем рассказано по ссылке. Однако в этом случае следует помнить, что полученная карта не является статичной и будет изменяться в зависимости от масштаба на экране, тогда как описанный ниже метод расчета даст статичную карту.\n\n\nДля построения карты ядерной оценки плотности воспользуемся инструментом Тепловая карта (оценка плотности ядер) из панели инструментов анализа.\n\n\n\n\n\n\nTip\n\n\n\nЕсли у вас закрыта Панель инструментов анализа, то вы можете открыть ее заново из строки меню Вид \\(\\longrightarrow\\) Панели \\(\\longrightarrow\\) Инструменты анализа.\n\n\nВ открывшемся окне инструмента следует выбрать параметры расчета1.\n\n\n\n\n\nРассмотрим основные параметры подробнее:\n\nточечный слой - это векторный слой точечных объектов, для которого будет выполняться оценка плотности;\nрадиус - расстояние, в пределах которого будет рассчитываться значение функции плотности;\nпараметры размера растра - так как полученный результат будет представлен в виде непрерывных значений, он будет сформирован в виде растра, поэтому необходимо задать его основные параметры (чем больше строк и полей или чем меньше размер пикселя вы зададите, тем более подробным и качественным получится ваш результат).\n\nОстальные параметры являются не обязательными для настройки, поэтому мы оставим их без изменений.\nПо умолчанию ваш результат будет сохранен в виде временного слоя, но вы можете настроить его сохранение в файл перед выполнением алгоритма или сохранить уже полученный временный слой.\n\n\n\n\n\n\nWarning\n\n\n\nЗдесь при оценке плотности будут рассчитаны значения функции плотности только в пределах заданного радиуса, поэтому, если вы выберете слишком маленькую его величину, карта может быть не построена.\n\n\nВ результате построения тепловой карты, вы получите следующее изображение (здесь радиус был взят 1000 футов и размер растра примерно 1000 на 1000).",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#оценка-точечного-паттерна",
    "href": "01-point-pattern-analysis.html#оценка-точечного-паттерна",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "3 Оценка точечного паттерна",
    "text": "3 Оценка точечного паттерна\nДля того, чтобы количественно оценить тип точечного паттерна, можно оценить разницу между ожидаемым средним расстоянием до ближашего соседа и фактическим.\n\n\n\n\n\n2\nПо результатам оценки наиболее важными параметрами являются:\n\np-value - вероятность того, что процесс является пространственно случайным;\nz-score - стандартное отклонение распределения.\n\nКак правило, высокие положительные значения z-score говорят о том, что точечный паттерн является регулярным, а низкие отрицательные значения - о том, что точечный паттерн кластеризован.\nВ QGIS эта оценка выполняется с помощью инструмента Анализ ближайших соседей из Панели инструментов анализа.\nДля расчетов с его использованием достаточно только выбрать векторный точечный слой и вариант сохранения результата.\n\n\n\n\n\n\nNote\n\n\n\nОбратите внимание, что здесь сохранение результата будет происходить в формате html файла, а не уже привычного нам векторного или растрового слоя, так как здесь просто дается результат расчета численных показателей.\n\n\n\n\n\n\n\nПолученный результат в текстовом виде будет выглядеть вот так:\n\n\n\n\n\nРассмотрим полученные результаты:\n\nнаблюдаемое среднее расстояние - это среднее расстояние до ближайшего соседа;\nожидаемое среднее расстояние - это среднее расстояние до ближайшего соседа, которое было бы при случайном распределении точек;\nиндекс ближайшего соседа - отношение наблюдаемого расстояния к ожидаемому;\nчисло точек - количество объектов в точечном слое;\nz-счет - стандартное отклонение.\n\nВ соответствии с документацией, отрицательные значения говорят о том, что точечный паттерн не является результатом пространственно случайного процесса, тогда как положительные значения могут говорить о том, что процесс скорее регулярен.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nПолученный результат только говорит о возможности пространственной неслучайности процесса. Наличие конкретных кластеров или регулярность паттерна требует дальнейшей проверки и интерпретации.\n\n\nВ нашем случае, было получено значение z-score = -90.5, что говорит о том, что точечный паттерн скорее всего является кластеризованным.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#кластеризация-к-средних",
    "href": "01-point-pattern-analysis.html#кластеризация-к-средних",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "4 Кластеризация К-средних",
    "text": "4 Кластеризация К-средних\nКак было рассмотрено в лекции, кластеризация методом К-средних позволяет получить обособленные друг от друга кластеры, внутри которых будет минимизироваться расстояние от каждого из объектов до центроида кластера (при этом центроид не будет является одним из исходных объектов, а просто будет центром массы всего кластера).\nВ QGIS этот метод реализован в виде инструмента Кластеризация K-means в Панели инструментов анализа.\n\n\n\n\n\nДля выполнения алгоритма достаточно просто выбрать векторный слой с точечными данными для кластеризации и необходимое количество кластеров.\n\n\n\n\n\n\nNote\n\n\n\nДля кластеризации не обязательно использовать только точечные объекты, ее можно выполнить также для линейных и полигональных объектов, но в этих случаях кластеризация будет выполняться не непосредственно для них, а для их центроидов.\n\n\n\n\n\n\n\n\nNote\n\n\n\nВ нашем случае количество кластеров выбирается произвольно, однако существуют определенные методы расчета наиболее оптимального числа кластеров. Почитать про эти методы можно почитать, например, здесь.\n\n\nВ качестве дополнительных параметров алгоритма можно задать свои имена для полей с номером кластера и размером кластера.\nПо результатам кластеризации вы получите точечный слой, главным отличием которого от исходного будут являться два новых поля:\n\nCLUSTER_ID - порядковый номер кластера (начинаются с 0, так как индексация здесь унаследована от языка программирования);\nCLUSTER-SIZE - размер кластера (количество точек в нем).\n\nДля того, чтобы показать, где расположены точки каждого из кластеров на карте, настроим их символы в окне Свойств слоя. В качестве типа стиля следует выбрать Символизация по уникальным значениям, а в качестве значения - CLUSTER_ID.\n\n\n\n\n\nПосле этого каждый кластер получит свой цвет на карте.\n\n\n\n\n\nКластеризация методом К-средних позволяет сформировать обособленные и компактные кластеры. Проверим, действительно ли это так. Для проверки впишем каждый кластер в выпуклый многоугольник.\nЕсли кластеры действительно компактны и обособлены друг от друга, то полученные многоугольники не будут соприкасаться или пересекаться.\nДля построения выпуклых многоугольников воспользуемся инструментом Минимальная охватывающая геометрия из Панели инструментов анализа. Он позволяет построить нужный тип минимальной охватывающей геометрии.\n\n\n\n\n\nВ качестве параметров здесь следует выбрать\n\nслой, для объектов которого будет строиться минимальная охватывающая геометрия;\nполе классификации - то поле/атрибут, на основе которого объекты будут объединяться в группы для построения минимальной охватывающей геометрии;\nтип геометрии - так как мы хотим получить выпуклые многоугольники вокруг каждого кластера, то нужный тип геометрии - выпуклая оболочка; другие типы геометрии - охват (прямоугольник по минимальным и максимальным координатам слоя), минимальный ориентированный прямоугольник (прямоугольник, ориентированный с учетом разброса наблюдений), минимальная описывающая окружность.\n\n\n\n\n\n\nВ результате будет построен новый векторный слой с полигонами - выпуклыми многоугольниками, описывающими каждый кластер.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nНа этой карте вы можете заметить еще и то, что некоторые обособленные точки (например, на острове в правом верхнем углу или в левой части) перетягивают в свою сторону центроиды кластеров, что может разбить некоторые довольно плотные группы.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#кластеризация-dbscan",
    "href": "01-point-pattern-analysis.html#кластеризация-dbscan",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "5 Кластеризация DBSCAN",
    "text": "5 Кластеризация DBSCAN\nВвиду того, что метод кластеризации К-средних всегда все точки отнесет к тому или иному кластеру, что может привести к некорректной разбивке на группы, он может показывать неудовлетворительные результаты на реальных данных, в которых может присутствовать шум и выбросы.\nВ этих случаях более оптимальным методом кластеризации будет основанный на плотности DBSCAN (Density-based spatial clustering of applications with noise).\nВ QGIS этот алгоритм реализован в виде инструмента Кластеризация DBSCAN.\n\n\n\n\n\nОсновными параметрами являются:\n\nвекторный слой с объектами, для которых выполняется кластеризация;\nминимальный размер кластера - минимальное количество соседей в пределах заданного расстояния, при котором точка будет включена в ядро кластера;\nмаксимальное расстояние между кластеризованными точками - расстояние, в пределах которого будет осуществляться поиск соседей для каждой их точек.\n\nДополнительными параметрами так же, как и для кластеризации К-средних будут являться CLUSTER_ID и CLUSTER-SIZE, а кроме того - возможность рассматривать граничные точки в качестве шума.\n\n\n\n\n\n\nNote\n\n\n\nКак и для кластеризации методом К-средних параметры в нашем случае были выбраны произвольно, но в случае реального исследования они должны быть обоснованы, исходя из знания предметной области и природы простраственного процесса.\n\n\nВ результате снова получим векторный слой с точечными объектами и двумя новыми атрибутами CLUSTER_ID и CLUSTER-SIZE. Обратите внимание, что для некоторых из точек будут пропущены значения этих полей, это значит, что точка не попала ни в один из кластеров и является точкой шума.\nАналогично предыдущему разделу покажем кластеры на карте разными цветами.\n\n\n\n\n\nНа карте видно, что в результате нами были получены небольшие кластеры в местах с наибольшей плотностью наблюдений, тогда как значительное число точек было отнесено к точкам шума, то есть не вошло ни в один из кластеров.\n\n\n\nКластеры\n\n\n\n\n\nТочки шума\n\n\nДля проверки наличия пересечений между кластерами можно аналогично предыдущему разделу построить минимальные охватывающие геометрии каждого из кластеров.\n\n\n\n\n\n\nTip\n\n\n\nТакже имеющаяся в стандартном наборе Панели инструментов анализа кластеризация ST-DBSCAN является вариацией метода DBSCAN, в котором дополнительно учитывается время события. Такой метод кластеризации полезен, если вы знаете или предполагаете, что точечный процесс происходит с разной интенсивностью в разные временные периоды или происходит преимущественно в определенные периоды времени.\nПодробно метод описан в статье",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#footnotes",
    "href": "01-point-pattern-analysis.html#footnotes",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nБолее подробно почитать про параметры можно по ссылке↩︎\nИсточник изображения: https://gistbok-topics.ucgis.org/AM-03-007↩︎",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  }
]