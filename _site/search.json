[
  {
    "objectID": "04-spatial-weights.html",
    "href": "04-spatial-weights.html",
    "title": "Пространственные веса",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новой вкладке",
    "crumbs": [
      "Пространственные веса и пространственная автокорреляция",
      "Пространственные веса"
    ]
  },
  {
    "objectID": "04-spatial-weights.html#теория",
    "href": "04-spatial-weights.html#теория",
    "title": "Пространственные веса",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новой вкладке",
    "crumbs": [
      "Пространственные веса и пространственная автокорреляция",
      "Пространственные веса"
    ]
  },
  {
    "objectID": "04-spatial-weights.html#программа-geoda",
    "href": "04-spatial-weights.html#программа-geoda",
    "title": "Пространственные веса",
    "section": "2 Программа GeoDa",
    "text": "2 Программа GeoDa",
    "crumbs": [
      "Пространственные веса и пространственная автокорреляция",
      "Пространственные веса"
    ]
  },
  {
    "objectID": "04-spatial-weights.html#расчет-весов-по-смежности",
    "href": "04-spatial-weights.html#расчет-весов-по-смежности",
    "title": "Пространственные веса",
    "section": "3 Расчет весов по смежности",
    "text": "3 Расчет весов по смежности\n\n\n\n\n\n\nNote\n\n\n\nТакже вы можете попробовать определить соседей по смежности, используя QGIS.\n\nЕще один вариант расчета ближайших соседей с использованием скрипта python для QGIS рассмотрен по ссылке.",
    "crumbs": [
      "Пространственные веса и пространственная автокорреляция",
      "Пространственные веса"
    ]
  },
  {
    "objectID": "Exam.html",
    "href": "Exam.html",
    "title": "Перечень вопросов и заданий к экзамену",
    "section": "",
    "text": "Что такое точечный паттерн?\nКакие виды точечных паттернов есть?\nОсновные виды пространственных эффектов точечного процесса.\nОсновные подходы к анализу точечных паттернов.\nВ чем разница между глобальной и локальной плотностью?\nАнализ точечных паттернов на основе плотности.\nАнализ точечных паттернов на основе расстояния между наблюдениями.\nОценка локальной плотности на основе квадрантов.\nЯдерная оценка плотности.\nАнализ ближайших соседей.\n\\(k\\)-функция и ее вариации.\nЧто такое кластеризация?\nИерархические методы кластеризации.\nРазделительные методы кластеризации.\nКластеризация на основе плотности.\n\n\n\n\n\nПервый закон географии.\nЧто такое затухание расстояния?\nЧто такое сжатие пространства и времени?\nНа чем основаны гравитационные модели?\nГравитационная модель Хаффа.\nКакие есть гравитационные модели?\nКак применяются гравитационные модели?\nОт чего зависит вероятность использования сервиса в гравитационной модели Хаффа?\n\n\n\n\n\n\nЧто такое пространственные веса?\nМетоды расчета пространственных весов.\nОсновное применение пространственных весов.\nЧто такое пространственная автокорреляция?\nВ чем разница между глобальной и локальной пространственной автокорреляцией?\nЧто такое пространственный лаг?\nКластеры, выявляемые при расчете локальной пространственной автокорреляции.\nГрафическая интерпретация индекса Морана."
  },
  {
    "objectID": "Exam.html#перечень-вопросов-и-заданий",
    "href": "Exam.html#перечень-вопросов-и-заданий",
    "title": "Перечень вопросов и заданий к экзамену",
    "section": "",
    "text": "Что такое точечный паттерн?\nКакие виды точечных паттернов есть?\nОсновные виды пространственных эффектов точечного процесса.\nОсновные подходы к анализу точечных паттернов.\nВ чем разница между глобальной и локальной плотностью?\nАнализ точечных паттернов на основе плотности.\nАнализ точечных паттернов на основе расстояния между наблюдениями.\nОценка локальной плотности на основе квадрантов.\nЯдерная оценка плотности.\nАнализ ближайших соседей.\n\\(k\\)-функция и ее вариации.\nЧто такое кластеризация?\nИерархические методы кластеризации.\nРазделительные методы кластеризации.\nКластеризация на основе плотности.\n\n\n\n\n\nПервый закон географии.\nЧто такое затухание расстояния?\nЧто такое сжатие пространства и времени?\nНа чем основаны гравитационные модели?\nГравитационная модель Хаффа.\nКакие есть гравитационные модели?\nКак применяются гравитационные модели?\nОт чего зависит вероятность использования сервиса в гравитационной модели Хаффа?\n\n\n\n\n\n\nЧто такое пространственные веса?\nМетоды расчета пространственных весов.\nОсновное применение пространственных весов.\nЧто такое пространственная автокорреляция?\nВ чем разница между глобальной и локальной пространственной автокорреляцией?\nЧто такое пространственный лаг?\nКластеры, выявляемые при расчете локальной пространственной автокорреляции.\nГрафическая интерпретация индекса Морана."
  },
  {
    "objectID": "Exam.html#list-of-exam-questions-and-tasks",
    "href": "Exam.html#list-of-exam-questions-and-tasks",
    "title": "Перечень вопросов и заданий к экзамену",
    "section": "2 List of exam questions and tasks",
    "text": "2 List of exam questions and tasks\n\n2.1 Point pattern analysis and clusterisation\n\nWhat is point pattern?\nName types of point patterns.\nMain types of spatial effects in point process.\nMain approaches in point pattern analysis.\nDifference between global and local spatial density.\nDensity based point pattern analysis.\nDistance based point pattern analysis.\nQuadrant local density estimation.\nKernel density estimation.\nNearest neighbour analysis.\n\\(k\\)-function and its variations.\nWhat is clusterisation?\nHierarchical clusterisation methods.\nPartitioning clusterisation methods.\nDensity based clusterisation methods.\n\n\n\n2.2 Gravity models\n\nFirst law of geography.\nWhat is distance decay?\nWhat is time-space compression?\nFoundation for gravity models.\nHuff’s gravity model.\nWhat types of gravity models exist?\nHow gravity models can be applied?\nIn Huff’s model, what parameters does probability depend on?\n\n\n\n\n2.3 Spatial weights and spatial autocorrelation\n\nWhat are spatial weights?\nSpatial weights calculation methods.\nMain application of spatial weights.\nWhat is spatial autocorrelation?\nDifference between global and local spatial autocorrelation?\nWhat is spatial lag?\nClusters calculated through local spatial autocorrelation.\nMoran graph.\n\n\n\n2.4 Spatial regression"
  },
  {
    "objectID": "02-location-allocation.html",
    "href": "02-location-allocation.html",
    "title": "Анализ размещения-распределения",
    "section": "",
    "text": "Анализ размещения-распределения (location-allocation analysis) необходим для решения двух основных задач:\n\nпоиск оптимального размещения объекта относительно точек спроса с учетом минимизации транспортных расходов (времени в пути или затрат на перевозку), например, размещение экстренных служб, которые должны располагаться так, чтобы время их прибытия было минимальным;\nпоиск оптимального распределения от размещаемого нового объекта до точек спроса с учетом минимизации транспортных расходов, например, размещение склада, с которого осуществляется доставка, или размещение даркстора службы доставки, чтобы максимально охватывать зоной доставки ближайшее окружение.\n\nОсновная часть решения таких задач сводится к определению медианного расположения: необходимо таким образом разместить медианную точку, чтобы минимизировать среднюю стоимость транспортировки с учетом спроса или расстояние между точками спроса и сервисом1. Параметры решения будут зависеть от трех показателей:\n\nколичество точек сервиса, которые необходимо разместить;\nколичество, тип и размещение точек спроса - точки спроса могут представлять собой как индивидуальные локации, так и центры полигонов (например, административно-территориальных единиц), наиболее простым случаем здесь будет являться небольшое число равномерно распределенных по территории точек спроса;\nтип рассчитываемого расстояния.\n\nФактически решение этой задачи сводится к линейной оптимизации.\n\\[ Min: \\sum_{a} \\sum_{b}g(Q(a,b)),\\ Q(a,b)\\geq0\n\\]\nгде \\(Q(a,b)\\) - трафик между источником \\(a\\) и пунктом назначения \\(b\\) , \\(g\\) - функция стоимости.\nТо есть \\(g(Q(a,b))\\) - транспортные расходы, связанные с перевозками из точки \\(a\\) в пункт назначения \\(b\\).\nДля анализа городской среды наиболее простым примером является поиск оптимального расположения объектов сервиса так, чтобы их зона обслуживания охватывала как можно больше горожан (потребителей этих сервисов) при минимальном до них расстоянии.\n\n\n\nРазмещение и площадь распределительных складов Amazon с учетом расселения2\n\n\n\n\n\nПоиск наиболее оптимального расположения больниц3",
    "crumbs": [
      "Анализ размещения-распределения"
    ]
  },
  {
    "objectID": "02-location-allocation.html#общие-сведения",
    "href": "02-location-allocation.html#общие-сведения",
    "title": "Анализ размещения-распределения",
    "section": "",
    "text": "Анализ размещения-распределения (location-allocation analysis) необходим для решения двух основных задач:\n\nпоиск оптимального размещения объекта относительно точек спроса с учетом минимизации транспортных расходов (времени в пути или затрат на перевозку), например, размещение экстренных служб, которые должны располагаться так, чтобы время их прибытия было минимальным;\nпоиск оптимального распределения от размещаемого нового объекта до точек спроса с учетом минимизации транспортных расходов, например, размещение склада, с которого осуществляется доставка, или размещение даркстора службы доставки, чтобы максимально охватывать зоной доставки ближайшее окружение.\n\nОсновная часть решения таких задач сводится к определению медианного расположения: необходимо таким образом разместить медианную точку, чтобы минимизировать среднюю стоимость транспортировки с учетом спроса или расстояние между точками спроса и сервисом1. Параметры решения будут зависеть от трех показателей:\n\nколичество точек сервиса, которые необходимо разместить;\nколичество, тип и размещение точек спроса - точки спроса могут представлять собой как индивидуальные локации, так и центры полигонов (например, административно-территориальных единиц), наиболее простым случаем здесь будет являться небольшое число равномерно распределенных по территории точек спроса;\nтип рассчитываемого расстояния.\n\nФактически решение этой задачи сводится к линейной оптимизации.\n\\[ Min: \\sum_{a} \\sum_{b}g(Q(a,b)),\\ Q(a,b)\\geq0\n\\]\nгде \\(Q(a,b)\\) - трафик между источником \\(a\\) и пунктом назначения \\(b\\) , \\(g\\) - функция стоимости.\nТо есть \\(g(Q(a,b))\\) - транспортные расходы, связанные с перевозками из точки \\(a\\) в пункт назначения \\(b\\).\nДля анализа городской среды наиболее простым примером является поиск оптимального расположения объектов сервиса так, чтобы их зона обслуживания охватывала как можно больше горожан (потребителей этих сервисов) при минимальном до них расстоянии.\n\n\n\nРазмещение и площадь распределительных складов Amazon с учетом расселения2\n\n\n\n\n\nПоиск наиболее оптимального расположения больниц3",
    "crumbs": [
      "Анализ размещения-распределения"
    ]
  },
  {
    "objectID": "02-location-allocation.html#определение-ближайшего-сервиса-на-основе-матрицы-старт-назначение",
    "href": "02-location-allocation.html#определение-ближайшего-сервиса-на-основе-матрицы-старт-назначение",
    "title": "Анализ размещения-распределения",
    "section": "2 Определение ближайшего сервиса на основе матрицы старт-назначение",
    "text": "2 Определение ближайшего сервиса на основе матрицы старт-назначение\nВ этой работе мы определим ближайшую локацию сервиса относительно жилых домов с использованием матрицы старт-назначение.\n\n\n\n\n\n\nNote\n\n\n\nМатрица старт-назначение - таблица, содержащая в себе значения времени или расстояния перевозки между всеми возможными парами стартовых точек и точек назначения.\n\n\n\n\n\nПример матрицы старт-назначение4\n\n\nПрактическое занятие основано на туториале.\n\n2.1 Исходные данные\nДля расчетов нам необходимо три набора данных:\n\nжилые дома (полигоны) - точки спроса, которые будут служит стартовыми точками для расчета матрицы старт-назначение;\nточки сервиса (точки), которые будут служить конечными точками при расчете матрицы старт-назначение (вы можете выбрать точки сервиса, которые посчитаете нужным);\nулично-дорожная сеть (линейные объекты) для расчета расстояния или времени в пути.\n\nВсе данные следует загрузить из OSM с использованием плагина QuickOSM.\n\n\n\n\n\n\nTip\n\n\n\nКак пользоваться плагином описано по ссылке\n\n\nДля загрузки жилых домов будет использован запрос building=apartments.\nДля точек сервиса можно использовать одно из значений ключа amenity (подробнее здесь) или shop (подробнее про него здесь). Здесь будут использованы супермаркеты, поэтому был использован запрос shop=supermarket .\nОбъекты улично-дорожной сети определялись по запросу highway=primary or highway=secondary or highway=tertiary.\n\n\n\n\n\n\nWarning\n\n\n\nВ нашем пример для построения маршрутов будут учитываться только наиболее крупные городские магистрали для ускорения и упрощения расчетов, что может привести к не очень реалистичной картине доступности сервисов. Если вы хотите выполнить расчет более корректно, лучше будет включить в него и более мелкие улицы. Полный перечень типов дорог и значений ключей для них приведен по ссылке.\n\n\n\n\n\nПодготовленный для анализа проект с загруженными слоями\n\n\n\n\n\n\n\n\nWarning\n\n\n\nЧем больше будет ваша территория для анализа, тем дольше будет осуществляться расчет. То же самое касается и количества объектов: чем больше у вас домов или точек сервиса, тем дольше будут идти расчеты.\n\n\n\n\n2.2 Расчет матрицы старт-назначение\nДля расчета матрицы воспользуемся уже знакомым нам по прошлому семестру плагином QNEAT3.\nНо предварительно нужно подготовить наши данные о жилых домах: пока они у нас представлены в виде полигонов, но плагин может осуществлять расчеты только между двумя слоями точечных объектов, поэтому необходимо из полигонов получить точки.\nПерейти от точек к полигонам мы можем либо построив центроиды, либо воспользовавшись инструментом Точка на поверхности.\nВ первом варианте мы получим геометрические центры полигонов, но в случае сложной формы зданий, они могу лежать за его пределами, тогда как при использовании инструмента Точка на поверхность полученные точечные объекты будут гарантированно размещены внутри полигонов.\n\n\n\n\n\nВ данном случае было выбрано создавать точки для каждой части мультиполигонов, чтобы не были потеряны отдельные части зданий.\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nДля улучшения качества расчетов можно воспользоваться не просто центром здания, а точками подъездов.\n\n\nДалее построим матрицу старт-назначение. Для этого воспользуемся инструментом OD Matrix from Layers as Lines (m:n). В данном случае мы построим не просто таблицу, а векторный линейный слой, в котором будут соединяться все возможные пары дом-супермаркет.\n\n\n\n\n\nВ качестве необходимых параметров следует указать:\n\nnetwork layer - слой, содержащий объекты улично-дорожной сети;\nfrom-point layer - слой стартовых точек;\nunique point ID field - уникальный идентификатор стартовых точек;\nto-point layer - слой конечных точек;\nunique point ID field - уникальный идентификатор конечных точек;\noptimization criterion - показатель, минимизируемый при расчете маршрута: кратчайший или быстрейший).\n\n\n\n\n\n\nВ дополнительных параметрах укажем среднюю скорость пешехода - 5 км/ч (default speed) и стиль генерации линий - по прямой (generated matrix geometry style). Второй вариант генерации линий будет повторять сегменты улично-дорожной сети, но такое построение требует большего времени и ресурса компьютера, поэтому остановимся на более простом варианте.\nПо результатам расчета вы получите довольно неясную картинку, в которой будет много пересекающихся между собой линий - это графическая интерпретация матрицы старт-назначение.\n\n\n\n\n\nЕсли вы откроете таблицу атрибутов полученного слоя, вы увидите собственно матрицу старт-назначение.\n\n\n\n\n\nОбратите внимание, что расстояние в пути (cost) представлено сразу четырьмя атрибутами:\n\nentry_cost - расстояние, которое нужно пройти, чтобы от стартовой точки попасть на ближайший сегмент улично-дорожной сети;\nnetwork_cost - расстояние, которое будет пройдено только по сегментам улично-дорожной сети;\nexit_cost - расстояние, которое нужно пройти от ближайшего к конечной точке сегмента улично-дорожной сети до конечной точки;\ntotal_cost - сумма перечисленных выше расстояний.\n\n\n\n2.3 Определение ближайшего объекта сервиса\nПоследний шаг нашего расчета - это из всех возможных пар жилой дом-супермаркет найти те, которые расположены ближе всего друг к другу. Для этого мы выполним SQL-запрос.\nВ качестве источника данных следует выбрать вычисленную матрицу старт-назначение (в моем случае это слой Output OD matrix), а сам запрос будет выглядеть следующим образом:\nselect origin_id, destination_id, min(total_cost) as shortest_distance, geometry\nfrom input1 group by origin_id\nТак как структура матрицы стандартна, то и запрос будет выглядеть у всех одинаково.\n\n\n\n\n\n\nTip\n\n\n\nОбратите внимание на то, что в запросе использован поиск минимального значения для поля total_cost, так как нам необходимо найти ближайшие к жилым домам супермаркеты, кроме того здесь использован псевдоним этого поля (задается с помощью as).\nТакже следует отметить, что необходимо включать в запрос поле geometry, так как без него будет осуществлен только поиск прочих атрибутов и геометрия будет исключена.\n\n\nВ результате выполнения запроса будет получен новый слой, показывающий жители каких домов наиболее вероятно будут ходить в какие магазины, так как эти магазины являются к ним ближайшими. Также этот результат можно рассматривать как зоны обслуживания магазинов.\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nПроцесс может быть автоматизирован с помощью создания геомодели.\nПример геомодели для этого расчета можно скачать по ссылке.",
    "crumbs": [
      "Анализ размещения-распределения"
    ]
  },
  {
    "objectID": "02-location-allocation.html#footnotes",
    "href": "02-location-allocation.html#footnotes",
    "title": "Анализ размещения-распределения",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nОдин из классических методов решения медианной задачи описан по ссылке↩︎\nИсточник: https://transportgeography.org/contents/methods/location-allocation-models/weighted-median-location-amazon-distribution-facilities/↩︎\nИсточник: https://www.esri.com/about/newsroom/wp-content/uploads/2018/10/solving-a-public-health-problem.pdf↩︎\nИсточник: https://docs.platform-xyzt.ai/articles/origin-destination/introduction.html↩︎",
    "crumbs": [
      "Анализ размещения-распределения"
    ]
  },
  {
    "objectID": "03-gravity-model.html",
    "href": "03-gravity-model.html",
    "title": "Гравитационная модель Хаффа",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новой вкладке",
    "crumbs": [
      "Гравитационная модель Хаффа"
    ]
  },
  {
    "objectID": "03-gravity-model.html#теория",
    "href": "03-gravity-model.html#теория",
    "title": "Гравитационная модель Хаффа",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новой вкладке",
    "crumbs": [
      "Гравитационная модель Хаффа"
    ]
  },
  {
    "objectID": "03-gravity-model.html#исходные-данные",
    "href": "03-gravity-model.html#исходные-данные",
    "title": "Гравитационная модель Хаффа",
    "section": "2 Исходные данные",
    "text": "2 Исходные данные\nВ качестве исходных данных нам необходимы:\n\nжилые дома - место жизни наших потенциальных покупателей;\nулично-дорожная сеть, которая будет использоваться для расчета времени в пути от жилого дома до магазина;\nслой с локациями торговых точек.\n\nПервые два слоя необходимо скачать из OSM аналогично исходным данным в предыдущей работе или же можно взять из предыдущей работы готовые данные.\nСлой с локациями торговых точек мы создадим самостоятельно. Для этого в строке меню необходимо выбрать Слой \\(\\longrightarrow\\) Создать слой \\(\\longrightarrow\\) Создать слой GeoPackage.\nДалее в открывшемся окне следует указать характеристики слоя:\n\nбаза данных - это путь к файлу, в котором будет храниться слой;\nимя таблицы - название слоя, которое будет отображаться в панели слоев;\nтип геометрии - нам нужны точечные объекты;\nсистема координат - можно оставить географическую систему координат по умолчанию, она будет совпадать с системой координат данных, скачанных из OSM;\nсписок полей, который будет включать два обязательных для нас поля - name (название магазина, текстовый формат данных) и area (площадь магазина в метрах квадратных, целое число).\n\n\n\n\n\n\nПосле создания слоя, его необходимо будет сделать редактируемым и нарисовать на карте несколько точек в разных частях исследуемой территории и заполнить для них атрибутивные данные - название магазина и площадь.\n\n\n\n\n\n\nWarning\n\n\n\nНазвания точек должны быть уникальными, в противном случае модель не будет работать.",
    "crumbs": [
      "Гравитационная модель Хаффа"
    ]
  },
  {
    "objectID": "03-gravity-model.html#geomodel",
    "href": "03-gravity-model.html#geomodel",
    "title": "Гравитационная модель Хаффа",
    "section": "3 Построение геомодели",
    "text": "3 Построение геомодели\nВ этой работе мы будем оценивать вероятность посещения того или иного магазина, исходя из их доступности и площади (как прокси-метрики разнообразия ассортимента), с использованием гравитационной модели Хаффа.\n\\[P_{ij} = \\frac{\\frac{S_{j}}{T^\\lambda_{ij}}}{\\sum_{j}^{n}\\frac{S_{j}}{T^\\lambda_{ij}}}\\]\n\n\\(P_{ij}\\) - вероятность того, что покупатель из локации \\(i\\) пойдет в магазин \\(j\\);\n\\(S_{j}\\) - площадь магазина \\(j\\);\n\\(T_{ij}\\) - время/расстояние, которое нужно преодолеть, чтобы попасть в магазин;\n\\(\\lambda\\) - параметр, отражающий влияние времени в пути на покупателя.\n\n\n\n\n\n\n\nWarning\n\n\n\nМы воспользуемся упрощенной моделью, приняв параметр \\(\\lambda\\) равным единице, так как у нас нет подробных данных о предпочтениях покупателей.\n\n\nДля построения моделей будем использовать редактор моделей.\n\n\n\n\n\n\nTip\n\n\n\nРедактор моделей позволяет выстроить последовательный процесс вычислений из цепочки операций с помощью простого графического интерфейса.\nПолученная геомодель позволяет автоматизировать вычисления и избежать вывода промежуточных результатов.\nПодробнее про построение геомоделей можно в документации\n\n\nОткрыть редактор моделей можно из строки меню Анализ данных \\(\\longrightarrow\\) Конструктор моделей или по клику на кнопку Модели в Панели инструментов анализа.\n\n\n\n\n\nВ открывшемся новом окне основная часть предназначена для отображения модели в графическом виде, слева панель данных и алгоритмов (переключаются по вкладкам внизу панели), свойства и переменные модели, а также история команд.\n\n\n\n\n\n\n3.1 Входные данные\nВ первую очередь зададим для нашей модели входные данные. В нашем случае все входные данные будут представлены в виде векторных слоев:\n\nздания - обязательный параметр, полигоны;\nмагазины - обазятельный параметр, точки;\nулично-дорожная сеть - обязательный параметр, линии.\n\n\n\n\n\n\n\nNote\n\n\n\nОбязательный параметр - это тот, без включения которого в исходные данные запуск модели осуществляться не будет.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nЖелательно называть входные данные буквами английского алфавита, так как иногда они могут не добавляться в модель или работать некорректно при использовании кириллицы.\n\n\n\n\n\n\n\nВходные данные в модели обозначаются зеленым плюсом перед названием.\n\n\n\n\n\n\n\n3.2 Расчет матрицы старт-назначение между потребителями и сервисами\nТакже как и для анализа размещения-распределения нам необходимо преобразовать полигональные здания в точечные объекты с помощью инструмента Точка на поверхности.\n\n\n\n\n\nВ модели появится первый шаг, соединенный с одним из исходных параметров.\n\n\n\n\n\nДалее мы можем непосредственно рассчитать матрицу старт-назначение с использованием плагина QNEAT3.\n\n\n\n\n\nПараметры здесь указываются аналогично тому, как указывались просто в инструменте для построения матрицы.\nТак как нам здесь нет необходимости впоследствии визуально отображать пути покупателей от жилых домов до магазинов, то строить матрицу будем просто в виде таблицы на основе двух слоев.\n\n\n\n\n\n\nWarning\n\n\n\nИдентификаторы объектов стартовых и конечных точек должны быть уникальными (внутри слоя естественно).\nВ нашем случае для стартовых точек (домов) будет использовать osm_id, который всегда будет уникальным и есть в этом слое, так как данные брались из OSM, а для магазинов будет использоваться поле имени name (поэтому нам очень важно, чтобы в этом слое названия магазинов были уникальными).\n\n\nТак как в качестве стартовых точек мы используем не непостредственно здания, а результат применения инструмента Точки на поверхности, то необходимо выбрать, что здесь мы хотим использовать результаты выхода этого алгоритма.\n\n\n\n\n\nПолученный результат будет представлен только в виде таблицы без атрибутов, которую можно присоединить к одному из векторных слоев.\nТак как мы будет рассчитывать вероятность посещения того или иного магазина для каждого из жилых домов, то основной расчет вероятности будет осуществляться внутри атрибутов жилых домов. Поэтому значения времени или расстояния из матрицы старт-назначение присоединим к слою жилых домов.\nПрисоединение будет осуществляться по совпадающим значениям полей: у исходного слоя есть osm_id, а в матрице есть origin_id - идентификатор стартовой точки, который был взят из osm_id исходного слоя.\n\n\n\n\n\n\n\n3.3 Расчет вероятности посещения конкретного сервиса\nЕсли мы обратимся к формуле в начале раздела, то увидим, что в формуле используется не только расстояние между потребителями и сервисом, но и площадь сервиса.\nПоэтому атрибуты магазинов тоже следует присоединить к слою жилых домов.\n\n\n\n\n\nПрисоединение здесь будет осуществляться по названию магазина к результатам предыдущего шага, поэтому в качестве связыющих полей будет использовано destination_id и поле name слоя с магазинами.\n\n\n\n\n\n\nNote\n\n\n\nОбратите внимание, что тип объединения здесь один-ко-многим, то есть если с объектом исходного слоя совпадет более одного объекта присоединяемого слоя, то исходный объект будет продублирован и к нему присоединен атрибут второго совпавшего объекта.\nВ нашем случае это необходимо так как нужно рассчитать вероятность для всех магазинов и, если мы присоединим только первый совпавший по атрибуту, то в расчет мы сможем включить только его и таким образом получим безальтернативную вероятность посещения только одного магазина.\n\n\n\n\n\n\n\n\nTip\n\n\n\nДля того, чтобы не запутаться в однотипных операциях в одинаковыми названиями, вы можете менять его в графе Описание (Description).\n\n\nСледующим шагом рассчитаем числитель в формуле: \\(\\frac{S_{j}}{T^\\lambda_{ij}}\\), разделив площадь каждого магазина на время в пути до него с помощью калькулятора полей.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nКалькулятор полей здесь устроен почти также как и стандартный калькулятор в таблице атрибутов. Все функции и формулы стандратны.\nОбязательно здесь необходимо указать название нового поля и тип данных.\n\n\nСледующим шагом нужно рассчитать знаменатель модели: \\(\\sum_{j}^{n}\\frac{S_{j}}{T^\\lambda_{ij}}\\).\nДля этого необходимо фактически просуммировать все полученные нами на предыдущем шаге значения, но только для каждого жилого дома и соответствующих магазинов. То есть нам нужно просуммировать не все значения по столбцу, а только значения соответствующие одному жилому дому.\nРасчет осуществим с использованием SQL-запроса и оконной функции внутри него.\n\n\n\n\n\n\nTip\n\n\n\nОконная функция в SQL - функция, которая работает с выделенным набором строк (окном, партицией) и выполняет вычисление для этого набора строк в отдельном столбце.\nОсновное отличие оконной функции от группировки по параметру состоит в том, что количество строк в запросе не уменьшается по сравнении с исходной таблицей.\nПодробнее можно почитать по ссылке.\n\n\nПолучается, что в нашем запросе сначала таблица будет поделена на группы строк, соответствующие одному и тому же жилому дому (имеющие один и тот же индентификатор дома), а потом суммирование значений будет производиться только в пределах этих групп строк.\nСтруктура запроса:\nselect origin_id, destination_id, total_cost, area, area_time, geometry,  sum(area_time) over (partition by origin_id) as summa from input1\n\n\n\n\n\nИ последним шагом рассчитаем вероятность посещения того или иного магазина, еще раз использовав калькулятор полей и поделив друг на друга два полученных нами на последних шагах значения.\n\n\n\n\n\nЭтот результат уже можно рассматривать как итоговый и ввести его название, чтобы это считалось выводом всей модели.\n\n\n\n\n\nПолученная схема модели показана на рисунке ниже.\n\n\n\n\n\nПеред запуском модель можно проверить командой из строки меню Модель \\(\\longrightarrow\\) Проверить модель.\nЗапуск модели осуществляется либо по кнопке , либо из строки меню Модель \\(\\longrightarrow\\) Запустить модель.\nПосле запуска модель выглядит практически как стандартный инструмент из Панели инструментов анализа.\n\n\n\n\n\nПолученный результат на карте будет выглядеть идентично исходному слою жилых зданий, так как использовалась их неизмененная геометрия.\nСамая интересная часть результатов - это атрибутивная таблица со всеми значениями.\n\n\n\n\n\nВ этой таблице как раз можно увидеть повторяемость каждого из зданий (обратите внимание, что в колонке origin_id значения повторяются столько раз, сколько у вас было магазинов в примере):\n\norigin_id - идентификатор дома из исходных данных;\ndestination_id - идентификатор (название) магазина из исходных данных;\ntotal_cost - расстояние от конкретного дома до магазина из матрицы старт-назначение;\narea - площадь магазина из исходных данных;\narea_time - отношение площади магазина к расстоянию, рассчитанное на промежуточном этапе;\nsumma - сумма всех предыдущих значение для каждого дома;\nprobability - вероятность посещения конкретного магазина жителями этого дома.\n\n\n\n\n\n\n\nTip\n\n\n\nПроверить корректность своих расчетов можно проверив два условия:\n\nвероятность (последняя колонка может находиться только в пределах от нуля до единицы);\nсумма вероятностей для каждого дома должна равняться единице.\n\n\n\nВ качестве финального этапа можем разделить полученный в итоге слой так, чтобы для каждого из магазинов был свой отдельный слой.\nДля этого воспользуемся инструментом Разбить векторный слой и разобьем его на отдельные слои по идентификаторам магазинов.\n\n\n\n\n\nЗдесь результат тоже будет выводиться как конечный.\nТаким образом, по результату запуска модели будет выводиться слой, содержащий вероятности по всем домам и магазинам, и слои, содержащие вероятности по отдельным магазинам (этих слоев будет столько, сколько было магазинов в исходном слое).\n\n\n\n\n\n\nTip\n\n\n\nПри необходимости вы можете сделать столько выводов из модели, сколько посчитаете нужным.\n\n\n\n\n\n\n\nОкно запуска модели немного изменится: в нем появится возможность выбора папки для сохранения наших результатов разделения слоя.\n\n\n\n\n\nВ выбранной папке по результатам работы модели появятся файлы с префиксом destination_id_ и названием магазина: .\nАтрибутивная таблица сохранит свою структуру, но, естественно будет содержать только данные по одному из магазинов.\n\n\n\n\n\nПолученная модель может быть сохранена как отдельный файл в формате .model3 (Модель \\(\\longrightarrow\\) Сохранить модель как) или как часть проекта (Модель \\(\\longrightarrow\\) Сохранить модель в проекте).\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nЕсли бы было известно количество жителей в каждом доме, то можно было бы рассчитать потенциальное число покупателей для каждого из магазинов по формуле:\n\\[\nE_{ij} = P_{ij}C_{i}\n\\]\nгде \\(E_{ij}\\) - предполагаемое количество покупателей из локации \\(i\\), которые пойдут в магазин \\(j\\);\n\\(P_{ij}\\) - вероятность того, что покупатель из локации \\(i\\) пойдет в магазин \\(j\\);\n\\(C_{i}\\) - количество покупателей в локации \\(i\\).\n\n\n\n\n\n\n\n\nTip\n\n\n\nРабочий пример геомодели можно скачать по ссылке.\nОбратите внимание на названия полей для таблицы в магазинами в геомодели - они такие же, как описаны выше в тексте, если вы называли их по-другому, то их нужно исправить в геомодели.",
    "crumbs": [
      "Гравитационная модель Хаффа"
    ]
  },
  {
    "objectID": "Homework.html#homework",
    "href": "Homework.html#homework",
    "title": "Домашнее задание",
    "section": "2 Homework",
    "text": "2 Homework"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Пространственный анализ урбанизированных территорий",
    "section": "",
    "text": "Материалы для практических занятий по курсу “Пространственный анализ урбанизированных территорий”, весна 2024/2025.\nКурс является продолжением курса по Геоиинформатике и геоинформационным системам и нацелен на более глубокое изучение методов пространственного анализа территорий с использованием геоинформационных систем.\nОсновное программное обеспечение, используемое в курсе:\n\nQGIS\nGeoDa\n\nМатериалы лекций по темам:\n\nанализ точечных паттернов и кластеризация - https://baltti.github.io/point-pattern/ (рус.) и https://baltti.github.io/point-pattern-eng/ (eng.)\nгравитационные модели - https://baltti.github.io/gravity-model/ (рус.) и https://baltti.github.io/gravity-model-eng (eng.)\nпространственные веса, пространственная автокорреляция\nпространственная регрессия\nанализ рельефа\nинтерполяция\n\n\n\n\n\n\n\nNote\n\n\n\nМатериалы обновляются по мере прохождения курса.",
    "crumbs": [
      "О курсе"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html",
    "href": "01-point-pattern-analysis.html",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новойвкладке\nДля практической работы по теме используется геоинформационная система QGIS.\n\n\n\n\n\n\nNote\n\n\n\nВесь приведенный ниже порядок действий показан для версии QGIS 3.34, поэтому возможны небольшие расхождения в названиях функций/инструментов, если у вас установлена другая версия.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#теория",
    "href": "01-point-pattern-analysis.html#теория",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новойвкладке\nДля практической работы по теме используется геоинформационная система QGIS.\n\n\n\n\n\n\nNote\n\n\n\nВесь приведенный ниже порядок действий показан для версии QGIS 3.34, поэтому возможны небольшие расхождения в названиях функций/инструментов, если у вас установлена другая версия.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#data",
    "href": "01-point-pattern-analysis.html#data",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "2 Исходные данные",
    "text": "2 Исходные данные\nВ качестве исходных данных для работы будут использованы сведения о преступлениях в Сан-Франциско.\nВсе наборы данных доступен по ссылке.\nВ скачанном архиве вы найдете две папки:\n\nCrime events - векторные слои точечных объектов в формате shapefile для нескольких типов преступлений;\nSF PD Plots - агрегированные по округам данные.\n\nТак как темой занятия является анализ точечных паттернов, то вам понадобится один из слоев из папки Crime events:\n\nsf_cartheft.shp - угоны машин;\nsf_drugs.shp - случаи торговли наркотиками;\nsf_roberry.shp - ограбления;\nsf_vandalism.shp - случаи вандализма.\n\n\n\n\n\n\n\nWarning\n\n\n\nНе забывайте, что shapefile - это коварный формат и вам нужен не только файл с расширением .shp, но и все другие с таким же именем, но другими расширениями.\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\nОписание атрибута\n\n\n\n\nIncidntNum\nUnique identifier for each incident report\nИдентификатор инцидента\n\n\nX_pr\nProjected X-coordinates\nКоордината Х в прямоугнольной системе координат\n\n\nY_pr\nProjected Y-coordinates\nКоордината Y в прямоугнольной системе координат\n\n\nCategory\nCrime classification (robberies, drugs/narcotics possession or sale, vehicle theft, and vandalism)\nТип преступления\n\n\nDescript\nDescription of the crime\nОписание\n\n\nDayOfWeek\nDay of the week that crime was reported\nДень недели, в который было подано заявление\n\n\nDate\nDate of the report\nДата заявления\n\n\nTime\nTime of report\nВремя заявления\n\n\nPdDistrict\nPolice district\nПолицейский участок\n\n\nResolution\nOutcome of the report, e.g. None, Arrest, Unfounded, etc\nРезультат работы по заявлению\n\n\nLocation\nStreet address where the crime occurred\nНазвание улицы, где произошло преступление\n\n\nX\nX-Coordinates of crime location\nДолгота\n\n\nY\nY-Coordinates of crime location\nШирота\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nОткрыть данные вы можете, просто перетащив файл с расширением .shp в пустое окно QGIS или через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить векторный слой.\n\n\nПосле добавления векторного слоя и открытия подложки (опционально), вы должны увидеть что-то похожее на картинку ниже.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nЛокальная оценка плотности по квадрантам рассмотрена по ссылке",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#kde",
    "href": "01-point-pattern-analysis.html#kde",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "3 Ядерная оценка плотности",
    "text": "3 Ядерная оценка плотности\n\n\n\n\n\n\nTip\n\n\n\nВизуальную оценка ядерной плотности можно выполнить с помощью стилизации слоя точечных объектов в виде тепловой карты, о чем рассказано по ссылке. Однако в этом случае следует помнить, что полученная карта не является статичной и будет изменяться в зависимости от масштаба на экране, тогда как описанный ниже метод расчета даст статичную карту.\n\n\nДля построения карты ядерной оценки плотности воспользуемся инструментом Тепловая карта (оценка плотности ядер) из панели инструментов анализа.\n\n\n\n\n\n\nTip\n\n\n\nЕсли у вас закрыта Панель инструментов анализа, то вы можете открыть ее заново из строки меню Вид \\(\\longrightarrow\\) Панели \\(\\longrightarrow\\) Инструменты анализа.\n\n\nВ открывшемся окне инструмента следует выбрать параметры расчета1.\n\n\n\n\n\nРассмотрим основные параметры подробнее:\n\nточечный слой - это векторный слой точечных объектов, для которого будет выполняться оценка плотности;\nрадиус - расстояние, в пределах которого будет рассчитываться значение функции плотности;\nпараметры размера растра - так как полученный результат будет представлен в виде непрерывных значений, он будет сформирован в виде растра, поэтому необходимо задать его основные параметры (чем больше строк и полей или чем меньше размер пикселя вы зададите, тем более подробным и качественным получится ваш результат).\n\nОстальные параметры являются не обязательными для настройки, поэтому мы оставим их без изменений.\nПо умолчанию ваш результат будет сохранен в виде временного слоя, но вы можете настроить его сохранение в файл перед выполнением алгоритма или сохранить уже полученный временный слой.\n\n\n\n\n\n\nWarning\n\n\n\nЗдесь при оценке плотности будут рассчитаны значения функции плотности только в пределах заданного радиуса, поэтому, если вы выберете слишком маленькую его величину, карта может быть не построена.\n\n\nВ результате построения тепловой карты, вы получите следующее изображение (здесь радиус был взят 1000 футов и размер растра примерно 1000 на 1000).",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#оценка-точечного-паттерна",
    "href": "01-point-pattern-analysis.html#оценка-точечного-паттерна",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "4 Оценка точечного паттерна",
    "text": "4 Оценка точечного паттерна\nДля того, чтобы количественно оценить тип точечного паттерна, можно оценить разницу между ожидаемым средним расстоянием до ближашего соседа и фактическим.\n\n\n\n\n\n2\nПо результатам оценки наиболее важными параметрами являются:\n\np-value - вероятность того, что процесс является пространственно случайным;\nz-score - стандартное отклонение распределения.\n\nКак правило, высокие положительные значения z-score говорят о том, что точечный паттерн является регулярным, а низкие отрицательные значения - о том, что точечный паттерн кластеризован.\nВ QGIS эта оценка выполняется с помощью инструмента Анализ ближайших соседей из Панели инструментов анализа.\nДля расчетов с его использованием достаточно только выбрать векторный точечный слой и вариант сохранения результата.\n\n\n\n\n\n\nNote\n\n\n\nОбратите внимание, что здесь сохранение результата будет происходить в формате html файла, а не уже привычного нам векторного или растрового слоя, так как здесь просто дается результат расчета численных показателей.\n\n\n\n\n\n\n\nПолученный результат в текстовом виде будет выглядеть вот так:\n\n\n\n\n\nРассмотрим полученные результаты:\n\nнаблюдаемое среднее расстояние - это среднее расстояние до ближайшего соседа;\nожидаемое среднее расстояние - это среднее расстояние до ближайшего соседа, которое было бы при случайном распределении точек;\nиндекс ближайшего соседа - отношение наблюдаемого расстояния к ожидаемому;\nчисло точек - количество объектов в точечном слое;\nz-счет - стандартное отклонение.\n\nВ соответствии с документацией, отрицательные значения говорят о том, что точечный паттерн не является результатом пространственно случайного процесса, тогда как положительные значения могут говорить о том, что процесс скорее регулярен.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nПолученный результат только говорит о возможности пространственной неслучайности процесса. Наличие конкретных кластеров или регулярность паттерна требует дальнейшей проверки и интерпретации.\n\n\nВ нашем случае, было получено значение z-score = -90.5, что говорит о том, что точечный паттерн скорее всего является кластеризованным.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#кластеризация-к-средних",
    "href": "01-point-pattern-analysis.html#кластеризация-к-средних",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "5 Кластеризация К-средних",
    "text": "5 Кластеризация К-средних\nКак было рассмотрено в лекции, кластеризация методом К-средних позволяет получить обособленные друг от друга кластеры, внутри которых будет минимизироваться расстояние от каждого из объектов до центроида кластера (при этом центроид не будет является одним из исходных объектов, а просто будет центром массы всего кластера).\nВ QGIS этот метод реализован в виде инструмента Кластеризация K-means в Панели инструментов анализа.\n\n\n\n\n\nДля выполнения алгоритма достаточно просто выбрать векторный слой с точечными данными для кластеризации и необходимое количество кластеров.\n\n\n\n\n\n\nNote\n\n\n\nДля кластеризации не обязательно использовать только точечные объекты, ее можно выполнить также для линейных и полигональных объектов, но в этих случаях кластеризация будет выполняться не непосредственно для них, а для их центроидов.\n\n\n\n\n\n\n\n\nNote\n\n\n\nВ нашем случае количество кластеров выбирается произвольно, однако существуют определенные методы расчета наиболее оптимального числа кластеров. Почитать про эти методы можно почитать, например, здесь.\n\n\nВ качестве дополнительных параметров алгоритма можно задать свои имена для полей с номером кластера и размером кластера.\nПо результатам кластеризации вы получите точечный слой, главным отличием которого от исходного будут являться два новых поля:\n\nCLUSTER_ID - порядковый номер кластера (начинаются с 0, так как индексация здесь унаследована от языка программирования);\nCLUSTER-SIZE - размер кластера (количество точек в нем).\n\nДля того, чтобы показать, где расположены точки каждого из кластеров на карте, настроим их символы в окне Свойств слоя. В качестве типа стиля следует выбрать Символизация по уникальным значениям, а в качестве значения - CLUSTER_ID.\n\n\n\n\n\nПосле этого каждый кластер получит свой цвет на карте.\n\n\n\n\n\nКластеризация методом К-средних позволяет сформировать обособленные и компактные кластеры. Проверим, действительно ли это так. Для проверки впишем каждый кластер в выпуклый многоугольник.\nЕсли кластеры действительно компактны и обособлены друг от друга, то полученные многоугольники не будут соприкасаться или пересекаться.\nДля построения выпуклых многоугольников воспользуемся инструментом Минимальная охватывающая геометрия из Панели инструментов анализа. Он позволяет построить нужный тип минимальной охватывающей геометрии.\n\n\n\n\n\nВ качестве параметров здесь следует выбрать\n\nслой, для объектов которого будет строиться минимальная охватывающая геометрия;\nполе классификации - то поле/атрибут, на основе которого объекты будут объединяться в группы для построения минимальной охватывающей геометрии;\nтип геометрии - так как мы хотим получить выпуклые многоугольники вокруг каждого кластера, то нужный тип геометрии - выпуклая оболочка; другие типы геометрии - охват (прямоугольник по минимальным и максимальным координатам слоя), минимальный ориентированный прямоугольник (прямоугольник, ориентированный с учетом разброса наблюдений), минимальная описывающая окружность.\n\n\n\n\n\n\nВ результате будет построен новый векторный слой с полигонами - выпуклыми многоугольниками, описывающими каждый кластер.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nФакт того, что полученные выпуклые многоугольники не пересекаются между собой, говорит о том, что кластеры обособлены друг от друга.\n\n\n\n\n\n\n\n\nNote\n\n\n\nНа этой карте вы можете заметить еще и то, что некоторые обособленные точки (например, на острове в правом верхнем углу или в левой части) перетягивают в свою сторону центроиды кластеров, что может разбить некоторые довольно плотные группы.",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#кластеризация-dbscan",
    "href": "01-point-pattern-analysis.html#кластеризация-dbscan",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "6 Кластеризация DBSCAN",
    "text": "6 Кластеризация DBSCAN\nВвиду того, что метод кластеризации К-средних всегда все точки отнесет к тому или иному кластеру, что может привести к некорректной разбивке на группы, он может показывать неудовлетворительные результаты на реальных данных, в которых может присутствовать шум и выбросы.\nВ этих случаях более оптимальным методом кластеризации будет основанный на плотности DBSCAN (Density-based spatial clustering of applications with noise).\nВ QGIS этот алгоритм реализован в виде инструмента Кластеризация DBSCAN.\n\n\n\n\n\nОсновными параметрами являются:\n\nвекторный слой с объектами, для которых выполняется кластеризация;\nминимальный размер кластера - минимальное количество соседей в пределах заданного расстояния, при котором точка будет включена в ядро кластера;\nмаксимальное расстояние между кластеризованными точками - расстояние, в пределах которого будет осуществляться поиск соседей для каждой их точек.\n\nДополнительными параметрами так же, как и для кластеризации К-средних будут являться CLUSTER_ID и CLUSTER-SIZE, а кроме того - возможность рассматривать граничные точки в качестве шума.\n\n\n\n\n\n\nNote\n\n\n\nКак и для кластеризации методом К-средних параметры в нашем случае были выбраны произвольно, но в случае реального исследования они должны быть обоснованы, исходя из знания предметной области и природы простраственного процесса.\n\n\nВ результате снова получим векторный слой с точечными объектами и двумя новыми атрибутами CLUSTER_ID и CLUSTER-SIZE. Обратите внимание, что для некоторых из точек будут пропущены значения этих полей, это значит, что точка не попала ни в один из кластеров и является точкой шума.\nАналогично предыдущему разделу покажем кластеры на карте разными цветами.\n\n\n\n\n\nНа карте видно, что в результате нами были получены небольшие кластеры в местах с наибольшей плотностью наблюдений, тогда как значительное число точек было отнесено к точкам шума, то есть не вошло ни в один из кластеров.\n\n\n\nКластеры\n\n\n\n\n\nТочки шума\n\n\nДля проверки наличия пересечений между кластерами можно аналогично предыдущему разделу построить минимальные охватывающие геометрии каждого из кластеров.\n\n\n\n\n\n\nTip\n\n\n\nТакже имеющаяся в стандартном наборе Панели инструментов анализа кластеризация ST-DBSCAN является вариацией метода DBSCAN, в котором дополнительно учитывается время события. Такой метод кластеризации полезен, если вы знаете или предполагаете, что точечный процесс происходит с разной интенсивностью в разные временные периоды или происходит преимущественно в определенные периоды времени.\nПодробно метод описан в статье",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "01-point-pattern-analysis.html#footnotes",
    "href": "01-point-pattern-analysis.html#footnotes",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nБолее подробно почитать про параметры можно по ссылке↩︎\nИсточник изображения: https://gistbok-topics.ucgis.org/AM-03-007↩︎",
    "crumbs": [
      "Анализ точечных паттернов и кластеризация"
    ]
  },
  {
    "objectID": "References.html",
    "href": "References.html",
    "title": "Список литературы и дополнительные источники",
    "section": "",
    "text": "Самсонов Т.Е. Основы геоинформатики: курс лекций : сайт. 2025. — URL: https://tsamsonov.github.io/gis-course/. Дата публикации: 14.02.2025. DOI: 10.5281/zenodo.7902351\nSergio Rey, Dani Arribas-Bel, Levi John Wolf Geographic Data Science with Python - URL: https://geographicdata.science/book/\nManuel Gimond Intro to GIS and Spatial Analysis - URL: https://mgimond.github.io/Spatial/index.html\nYuan, Y., Qiang, Y., Bin Asad, K., and Chow, T. E. (2020). Point Pattern Analysis. The Geographic Information Science & Technology Body of Knowledge (1st Quarter 2020 Edition), John P. Wilson (ed.). DOI: 10.22224/gistbok/2020.1.13.\nPoint pattern analysis - URL: https://arcg.is/0nO0bH\nFrançois Sémécurbe Beyond the Modifiable Areal Unit Problem! - URL: https://fsemecurbe.github.io/fractal-for-geographers/\nk-FUNCTION AND KERNEL DENSITY ESTIMATION - URL: https://storymaps.arcgis.com/stories/728743b4ae534275a22a15b19e0e781f\nКластеризация в ML: от теоретических основ популярных алгоритмов к их реализации с нуля на Python - URL: https://habr.com/ru/articles/798331/\nИнтересные алгоритмы кластеризации, часть вторая: DBSCAN - URL: https://habr.com/ru/articles/322034/\nОсобенности кластеризации пространственных данных - URL: https://cartetika.ru/tpost/xbr62rng41-osobennosti-klasterizatsii-prostranstven\nКластеризация пространственных данных – k-means и иерархические алгоритмы - URL: https://cartetika.ru/tpost/uun5jy5tk1-klasterizatsiya-prostranstvennih-dannih\nКластеризация пространственных данных – плотностные алгоритмы и DBCSAN - URL: https://cartetika.ru/tpost/k05o2ndpf1-klasterizatsiya-prostranstvennih-dannih\nDr. Jean-Paul Rodrigue Location-Allocation Models - URL: https://transportgeography.org/contents/methods/location-allocation-models/\nUjaval Gandhi Locating Nearest Facility with Origin-Destination Matrix (QGIS3) - URL: https://www.qgistutorials.com/en/docs/3/origin_destination_matrix.html\nMonica Pratt, Harry Moore, and Tim Craig Solving a Public Health Problem Using Location-Allocation - URL: https://www.esri.com/about/newsroom/wp-content/uploads/2018/10/solving-a-public-health-problem.pdf\nLocation-allocation analysis - URL: https://desktop.arcgis.com/en/arcmap/latest/extensions/network-analyst/location-allocation.htm\nGuide to Network Analysis (Part 6 - Solve Location Allocation) - URL: https://developers.arcgis.com/python/latest/guide/part6-solve-location-allocation/\nExercise 9: Choosing optimal store locations using location-allocation - URL: https://desktop.arcgis.com/en/arcmap/latest/extensions/network-analyst/exercise-9-choosing-optimal-store-sites-using-location-allocation.htm\nHaynes, K.E., & Fotheringham, A.S. (1985). Gravity and Spatial Interaction Models. Reprint. Edited by Grant Ian Thrall. WVU Research Repository, 2020. - URL: https://researchrepository.wvu.edu/cgi/viewcontent.cgi?article=1010&context=rri-web-book\nFriske, Wesley & Choi, Sunhee. (2013). Another Look at Retail Gravitation Theory: History, Analysis, and Future Considerations. Academy of Business Disciplines Journal. 5. 88-106.\nArhipova, I., Berzins, G., Erglis, A., Ansonska, E., Binde, J. and Kovalcuks, A. Huff Model for Shopping Centre Assessment using Aggregated Mobile Phone Data. DOI: 10.5220/0009361400910097 In Proceedings of the 2nd International Conference on Finance, Economics, Management and IT Business (FEMIB 2020), pages 91-97. - URL: https://www.scitepress.org/Papers/2020/93614/93614.pdf\nSam Marshall Gravity Model of Spatial Interaction in QGIS. - URL: https://gsmarshall.github.io/gravity/gravity.html\nHuff Model Calibration with ArcGIS Business Analyst Pro. - URL: https://www.esri.com/arcgis-blog/products/bus-analyst/business/huff-model-calibration-with-arcgis-business-analyst-pro/\nAnalyze distance and attractiveness using Huff models in ArcGIS Business Analyst Pro - URL: https://www.esri.com/arcgis-blog/products/bus-analyst/analytics/analyze-distance-and-attractiveness-using-huff-models-in-arcgis-business-analyst-pro/\nКак мы используем модель Хаффа для открытия новых магазинов. - URL: https://habr.com/ru/companies/magnit/articles/717536/\nSteven J. Anderson, John X. Volker, Michael D. Phillips Converse’s Breaking-Point Model Revised - URL: https://www.aabri.com/manuscripts/09219.pdf\n[UCGIS] GIS&T Body of Knowledge - URL: https://gistbok-topics.ucgis.org/UCGIS\nHuff Gravity Model: Store Customer Predictions - URL: https://gisgeography.com/huff-gravity-model/\nРазработка плагина для применения гравитационной модели Хаффа в проектах QGIS / Д. Р. Гусев, А. А. Камышева, А. В. Павлик [и др.]. — Текст : электронный // Математическое и информационное моделирование : материалы Всероссийской конференции молодых ученых, Тюмень, 25 апреля 2024 г. / отв. ред. Л. Н. Бакановская, М. С. Воробьева ; Министерство науки и высшего образования РФ, Тюменский государственный университет, Школа компьютерных наук. — Тюмень : ТюмГУ-Press, 2024. — Вып. 22. — С. 187–190. - URL: https://elib.utmn.ru/jspui/bitstream/ru-tsu/35705/1/miim_2024_187_190.pdf\nElijah Knaap Urban Analysis & Spatial Science - URL: https://knaaptime.com/urban_analysis/",
    "crumbs": [
      "Литература"
    ]
  }
]