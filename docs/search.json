[
  {
    "objectID": "04-spatial-weights.html",
    "href": "04-spatial-weights.html",
    "title": "Пространственные веса",
    "section": "",
    "text": "GeoDa - это бесплатный программный инструмент с открытым исходным кодом, который служит для ознакомления с пространственной наукой о данных. Он разработан для того, чтобы способствовать получению новых выводов на основе анализа данных путем изучения и моделирования пространственных моделей.\n\n\n\n\n\nСайт программы: https://geodacenter.github.io/ (на нем же можно скачать файл установки программы).\n\n\n\n\n\n\nДополнительно\n\n\n\nОзнакомиться с документацией можно по ссылке.\n\n\n\n\n\nОсновной интерфейс программы состоит из панели инструментов и строки меню.\n\n\n\nРезультаты анализа, карты и атрибутивные таблицы будут открываться в отдельных окнах.\n\n\nGeoDa поддерживает основные векторные форматы пространственных данных, а также подключение к базам данных и использование векторных данных с веб-ресурсов в формате .geojson и WFS.\nПри запуске программы у вас появится окно открытия источника данных.\n\n\n\n\n\nВ том случае, если это окно не открылось, необходимый вам файл можно открыть по клику на значок ."
  },
  {
    "objectID": "04-spatial-weights.html#программа-geoda",
    "href": "04-spatial-weights.html#программа-geoda",
    "title": "Пространственные веса",
    "section": "",
    "text": "GeoDa - это бесплатный программный инструмент с открытым исходным кодом, который служит для ознакомления с пространственной наукой о данных. Он разработан для того, чтобы способствовать получению новых выводов на основе анализа данных путем изучения и моделирования пространственных моделей.\n\n\n\n\n\nСайт программы: https://geodacenter.github.io/ (на нем же можно скачать файл установки программы).\n\n\n\n\n\n\nДополнительно\n\n\n\nОзнакомиться с документацией можно по ссылке.\n\n\n\n\n\nОсновной интерфейс программы состоит из панели инструментов и строки меню.\n\n\n\nРезультаты анализа, карты и атрибутивные таблицы будут открываться в отдельных окнах.\n\n\nGeoDa поддерживает основные векторные форматы пространственных данных, а также подключение к базам данных и использование векторных данных с веб-ресурсов в формате .geojson и WFS.\nПри запуске программы у вас появится окно открытия источника данных.\n\n\n\n\n\nВ том случае, если это окно не открылось, необходимый вам файл можно открыть по клику на значок ."
  },
  {
    "objectID": "04-spatial-weights.html#исходные-данные",
    "href": "04-spatial-weights.html#исходные-данные",
    "title": "Пространственные веса",
    "section": "2 Исходные данные",
    "text": "2 Исходные данные\nВ качестве исходных данных будет использоваться набор данных о стоимости недвижимости в Санкт-Петербурге, который можно скачать по ссылке.\n\n\n\n\n\n\nПредупреждение\n\n\n\nОтноситесь к этим данным как к синтетическим, так как их источник ненадежен."
  },
  {
    "objectID": "04-spatial-weights.html#общие-инструменты-работы-с-данными",
    "href": "04-spatial-weights.html#общие-инструменты-работы-с-данными",
    "title": "Пространственные веса",
    "section": "3 Общие инструменты работы с данными",
    "text": "3 Общие инструменты работы с данными\nПосле того, как вы открыли файл с исходными данными, у вас появится окно карты.\n\nВ этой карте как и в прочих геоинформационных системах вы можете добавить подложку для контекста с использованием иконки .\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nКроме открытия слоя с имеющейся геометрией программа имеет функции по созданию геометрии точечного слоя из таблицы или создания сетки, а также пространственного объединения слоев (Spatial join) и слияния объектов (Dissolve).\n\n\n\n\n\nПространственное объединение позволяет объединять объекты из разных слоев, а слияние - объекты одного слоя по значению атрибута (например, мы могли бы так объединить муниципальные образования в районы).\n\n\nНастройка карты для визуализации показателя может быть осуществлена двумя способами:\n\nчерез строку меню;\n\n\n\n\n\n\n\nправым кликом на карте\n\n\n\n\n\n\nНастройка здесь может быть осуществлена на основе стилей/тем по умолчанию, либо создана в виде кастомных интервалов.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nНа самом деле любой стиль по умолчанию можно подредактировать при необходимости и получить свой собственный стиль. Для этого нужно просто открыть редактор категорий .\n\n\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nПри необходимости сохранения интервалов, вы можете это сделать, просто кликнув правой кнопкой мыши и выбрав Save rates. Тогда номера интервалов будут сохранены в атрибутивную таблицу.\n\n\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nКроме обычной фоновой картограммы, также есть опция создания картограммы Дорлинга , в которой все объекты будут заменены на круги различного диаметра в зависимости от значения показателя.\nПричем отдельно здесь можно указать, что будет обозначать цвет символа, а что - его размер.\n\n\n\n\n\nПолученная картограмма также может быть отдельно донастроена по цветовой палитре.\n\n\n\n\n\n\n\nАтрибутивную таблицу можно открыть в отдельном окне по клику на иконку .\n\n\n\n\n\nВ строке меню есть отдельный пункт Table, который содержит в себе инструменты для работы с таблицами.\n\n\n\n\n\nПри необходимости вы можете добавлять или удалять атрибуты, а также редактировать типы данных в столбцах, если они были определены при открытии неправильно.\n\n\n\n\n\nДля атрибутивной таблицы есть калькулятор полей, позволяющий осуществлять расчеты.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nТакже в программе есть довольно большой выбор инструментов для исследовательского анализа данных, представленных в основной панели инструментов."
  },
  {
    "objectID": "04-spatial-weights.html#расчет-пространственных-весов",
    "href": "04-spatial-weights.html#расчет-пространственных-весов",
    "title": "Пространственные веса",
    "section": "4 Расчет пространственных весов",
    "text": "4 Расчет пространственных весов\nДля создания матрицы пространственных весов необходимо воспользоваться менеджером весов , также его можно открыть из строки меню.\n\n\n\n\n\nВ открывшемся окне менеджера весов вы увидите опции для создания новых и загрузки уже рассчитанных матриц пространственных весов.\n\n\n\n\n\nПосле начала создания матрицы пространственных весов вы увидите окно, в котором можно выбрать тип рассчитаваемого веса.\n\n\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nОчень важно, чтобы при создании матрицы весов у каждого объекта в наборе данных был уникальный идентификатор - порядковый номер, если такого идентификатора нет, то его можно просто создать Add ID variable.\n\n\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nВсе матрицы весов сохраняются во внутреннем формате программы: два разных формата - один для матриц по смежности, второй - для матриц на основе расстояния. При необходимости они могут быть открыты просто в текстовом редакторе.\n\n\n\n4.1 Расчет весов по смежности\n\n4.1.1 Принцип ферзя (королевы)\n\n\n\n\n\n\nВажное уведомление\n\n\n\nДля того, чтобы объекты считались соседями, достаточно, чтобы у них была хотя бы одна общая точка.\n\n\nПри создании весов по смежности достаточно выбрать используемый принцип смежности и порядок (мы везде по умолчанию используем только первый порядок соседства).\n\n\n\n\n\nПараметр Precision threshold (порог точности) здесь нужен в том счучае, если вы сомневаетесь в качестве своих исходных данных и корректном примыкании пространственных объектов друг к другу, так как позволяет задать размер потенциального зазора или наложения.\nПосле создания вам будет предложено сохранить матрицу весов в специализированном формате. Полученная матрица появится в менеджере весов.\n\n\n\n\n\nВ менеджере весов вы можете ознакомиться с параметрами каждой матрицы:\n\nее тип;\nсимметричность;\nназвание файла, в котором она сохранена;\nатрибут с порядковым номером;\nпорядок соседства (для матриц по смежности);\nколичество наблюдений;\nминимальное и максимальное число соседей внутри набора данных;\nсреднее и медианное число соседей;\nпроцент ненулевых элементов матрицы.\n\nКроме того, вы можете изучить матрицу весов визуально с помощью гистограммы, карты или графа связности.\nНа гистограмме высота столбцов показывает количество объектов, имеющее определенное число соседей, которое показано по оси X.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nПри выделении любого из столбиков вы сможете увидеть на карте, про какие именно объекты идет речь.\n\n\n\n\n\n\n\nКарта связности показывает выделенный объект, на который наведен курсор (зеленым цветом) и его соседей в соответствии с матрицей весов.\n\n\n\n\n\nГраф связности же отображает топологические связи между объектами соседями.\n\n\n\n\n\nПри выделении одного из объектов на графе будут отображаться только его соседи.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nЕсли вы откроете матрицу пространственных весов в текстовом редакторе вы увидите только ее ненулевые элементы.\n\n\n\n\n\n\n\n\n\n4.1.2 Принцип ладьи\n\n\n\n\n\n\nВажное уведомление\n\n\n\nДля того, чтобы объекты считались соседями, между ними должна быть общая ненулевая граница (то есть общей точки здесь недостаточно).\n\n\nПостроение матрицы весов по принципу ладьи происходит аналогично предыдущему пункту.\n\n\n\n\n\nИ после создания эта матрица также будет отображена в менеджере весов.\n\n\n\n\n\nАналогично матрице весов по принципу ферзя/королевы вы можете более подробно изучить структуру матрицы с помощью графиков:\n\nгистограмма;\n\n\n\n\n\n\n\nкарта связности;\n\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nОбратите внимание, что в нижней панели окна карты связности отображается номер объекта, на котором расположен курсор и номера его соседей.\n\n\n\nграф связности.\n\n\n\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nОбратите внимание, что при использовании принципа ладьи вы получаете в среднем меньше соседей для каждого из объектов.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nТакже вы можете попробовать определить соседей по смежности, используя QGIS.\n\nЕще один вариант расчета ближайших соседей с использованием скрипта python для QGIS рассмотрен по ссылке.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nМатрицы весов по смежности всегда будут симметричными относительно главной диагонали, что с точки зрения соседства значит, что объект \\(i\\) будет соседом объекту \\(j\\) и наоборот.\n\n\n\n\n\n4.2 Расчет весов по расстоянию\nПри расчете весов по расстоянию необходимо задать значительно больше параметров.\n\n\n\n\n\nВ первую очередь следует указать, как и между чем будет рассчитываеться расстояние.\nПо умолчанию для полигональных объектов предлагается использовать центроиды по координатам, но эти же центроиды могут рассчитываться по значениям любого числового показателя. Кроме того для расчета расстояния не обязательно вообще использовать центроиды или пространственное положение объектов, вы можете воспользоваться любыми числовыми показателями вашей атрибутивной таблицы.\n\n\n\n\n\nРасстояние может быть рассчитано двумя способами:\n\nевклидово расстояние на плоскости;\nрасстояние на эллипсоиде (в милях или метрах).\n\nДалее следует выбрать метод расчета весов по расстоянию и его параметры:\n\ndistance band (гибридные веса) - объекты будут считаться соседями, если расстояние между ними не превышает заданного. Здесь в качестве параметра необходимо задать это расстояние, по умолчанию устанавливается такая величина расстояния, которая гарантирует всем объектам как минимум одного соседа (максимальное расстояние между ближайшими объектами).\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nОбратите внимание, что здесь вы можете использовать обратное расстояние (Inverse distance), то есть в результате в матрице весов будет исвользоваться не само расстояние, а \\(\\dfrac{1}{distance^{power}}\\).\n\n\n\nk-ближайших соседей, где необходимо задать необходимое число соседей;\nядерные веса, для которых вы можете выбрать:\n\nтип функции;\nнеобходимость применения ее только в пределах определенного расстояния (specify bandwidth);\nадаптивное расстояние, которое должно включать в себя определенное заданное число соседей;\nвозможность использовать максимальное расстояние для заданного числа соседей как ширину полосы пропускания.\n\n\n\n\n\n\n\nВ текстовом виде матрицы весов будут выглядеть иначе:\n\n\n\nМатрица весов по расстоянию (гибридные веса)\n\n\n\n\n\nМатрица ядерных весов\n\n\nЗдесь уже не будут просто перечислены ненулевые элементы, то есть список соседей для каждого объекта, а расстояние для каждой пары соседей: в случае гибридных весов и \\(k\\)-ближайших соседей - расстояние (то, которое было рассчитано), а в случае ядерных весов - значение ядерной функции от расстояния.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nПопробуйте построить различные матрицы весов для разных параметров и сравнить их между собой.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nМатрицы весов по расстоянию уже не будут симметричными, то есть объект \\(i\\) может быть соседом объекту \\(j\\), в то время как объект \\(j\\) не будет являться соседом объекту \\(i\\)."
  },
  {
    "objectID": "01-relief.html",
    "href": "01-relief.html",
    "title": "Анализ рельефа",
    "section": "",
    "text": "В качестве исходных данных мы воспользуемся слоем с границами двух природных заповедников: Кавказского государственного природного биосферного заповедника и Приэльбрусье.\nСлой с их границами вы можете скачать по ссылке: https://disk.yandex.ru/d/tcUoFxV-mqNang\nВторым источником данных в нашем случае станет цифровая модель рельефа FABDEM, которая доступна по ссылке https://data.bris.ac.uk/data/dataset/s5hqmjcdj8yo2ibzi9b4ew3sn\nЭта цифровая модель предствалена в виде растровых данных, которые покрывают всю поверхность Земли кусочками размером 1 градус широты на 1 градус долготы (одноградусная трапеция).\nНужные вам для работы одноградусные трапеции вы можете скачать по ссылке https://disk.yandex.ru/d/Q6K-Ly-kT6jiNg",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#исходные-данные",
    "href": "01-relief.html#исходные-данные",
    "title": "Анализ рельефа",
    "section": "",
    "text": "В качестве исходных данных мы воспользуемся слоем с границами двух природных заповедников: Кавказского государственного природного биосферного заповедника и Приэльбрусье.\nСлой с их границами вы можете скачать по ссылке: https://disk.yandex.ru/d/tcUoFxV-mqNang\nВторым источником данных в нашем случае станет цифровая модель рельефа FABDEM, которая доступна по ссылке https://data.bris.ac.uk/data/dataset/s5hqmjcdj8yo2ibzi9b4ew3sn\nЭта цифровая модель предствалена в виде растровых данных, которые покрывают всю поверхность Земли кусочками размером 1 градус широты на 1 градус долготы (одноградусная трапеция).\nНужные вам для работы одноградусные трапеции вы можете скачать по ссылке https://disk.yandex.ru/d/Q6K-Ly-kT6jiNg",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#цифровая-модель-рельефа",
    "href": "01-relief.html#цифровая-модель-рельефа",
    "title": "Анализ рельефа",
    "section": "2 Цифровая модель рельефа",
    "text": "2 Цифровая модель рельефа\nЦифровая модель рельефа (ЦМР) — это растровое представление непрерывной поверхности, обычно относящееся к поверхности Земли1.\n\n\n\n\n\n\nВажное уведомление\n\n\n\nРазличают цифровую модель рельефа и цифровую модель местности. Разница между ними состоит в том, что цифровая модель местности включает в себя все объекты, расположенные на поверхности, тогда как цифровая модель рельефа - это только поверхность земли без растительности и строений.\n\n\n\nИсточник: https://innoter.com/articles/matritsa-vysot/\n\n\n\n\nЦифровые модели рельефа, как правило, строят либо по результатам интерполяции, либо на основе открытых данных.\nСамым распространенным источником данных о рельефе является цифровая модель рельефа SRTM (shuttle radar topographic mission). Эта цифровая модель была получена в 2000 году на основе спутниковой радарной съемки. Она охватывает планету между 54 градусами южной широты и 60 градусами северной широты. Подробнее на русском можно почитать про нее здесь\nСкачать данные SRTM можно на сайте Геологической службы США (https://earthexplorer.usgs.gov/) или с помощью плагина SRTM downloader2.\n\n\n\n\n\n\nВнимание\n\n\n\nДля использования модуля и загрузки данных напрямую из QGIS все равно необходимы реквизиты аккаунта на сайте USGS.\n\n\n\n\n\n\n\n\nВнимание\n\n\n\nЗначительным недостатком SRTM является ее ограниченный пространственный охват, из-за которого значительная часть нашей страны не покрыта этой цифровой моделью рельефа.\n\n\nИз SRTM выгружается сразу целая 1-градусная трапеция (фрагмент 1 градус по широте и 1 градус по долготе), в этом случае трапеция была обрезана до более маленького фрагмента (вообще не очень рекомендую работать с большими растрами, охватывающими сразу градус и более по долготе и широте).\n\n\n\n\n\n\nНа заметку\n\n\n\nБолее современной и точной цифровой моделью рельефа является модель FABDEM, к тому же она действительно глобальная и охватывает всю территорию земного шара.\nНемного почитать о ней на русском можно по ссылке.\nСамое главное ее отличие от более ранних моделей в наличии процессинга и удалении из нее объектов, расположенных на поверхности Земли.\n\n\n\nИсточник: https://iopscience.iop.org/article/10.1088/1748-9326/ac4d4f\n\n\nСама модель является открытой и данные можно скачать по ссылке из репозитория - https://data.bris.ac.uk/data/dataset/s5hqmjcdj8yo2ibzi9b4ew3sn\nВсе данные организованы в архивы, которые включают в себя охват 10 широты на 10 градусов долготы. Растровые данные внутри архивов - это одноградусные трапеции (как и в SRTM).\nДля того, чтобы понять, какой именно архив и файл из него нужен вам на исследуемую территорию, можно скачать файл FABDEM_v1-2_tiles.geojson и открыть его либо в QGIS, либо с использованием сервиса geojson.io. Прямоугольники в этом файле показывают одноградусные трапеции, а в их атрибутах указано название архива и файла.\n\n\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nБолее современная и точная модель рельефа, основанная на ансамблевом расчете обобщенной модели с использованием распространенных открытых цифровых моделей рельефа - Global Ensemble Digital Terrain Model 30m (GEDTM30) (https://zenodo.org/records/14900181) глобальная цифровая модель рельефа (DTM) в виде двух GeoTIFF файлов оптимизированных для облачной работы (cloud GeoTIFF) общим объёмом чуть менее 39 гигабайт.\n\n\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nЕще одна современная недавно вышедшая цифровая модель рельефа FathomDEM: Uhe, P. et al. (2025). FathomDEM: an improved global terrain map using a hybrid vision transformer model. Environmental Research Letters, 20(3), 034002. https://doi.org/10.1088/1748-9326/ada972\nДанные предоставляются бесплатно по запросу Америка (https://doi.org/10.5281/zenodo.14511570), Евразия и Африка (https://doi.org/10.5281/zenodo.14523356).\nВидео инструкция по работе с данными в QGIS https://www.youtube.com/watch?v=KWwg4EmJMkk",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#скачивание-цифровой-модели-рельефа",
    "href": "01-relief.html#скачивание-цифровой-модели-рельефа",
    "title": "Анализ рельефа",
    "section": "3 Скачивание цифровой модели рельефа",
    "text": "3 Скачивание цифровой модели рельефа\nВсе данные организованы в архивы, которые включают в себя охват 10 широты на 10 градусов долготы. Растровые данные внутри архивов - это одноградусные трапеции.\nДля того, чтобы понять, какой именно архив и файл из него нужен вам на исследуемую территорию, можно скачать файл FABDEM_v1-2_tiles.geojson и открыть его либо в QGIS, либо с использованием сервиса geojson.io. Прямоугольники в этом файле показывают одноградусные трапеции, а в их атрибутах указано название архива и файла.\nВоспользуемся QGIS для поиска нужных названий нужных нам архивов и файлов.\nВ первую очередь откроем файл заповедники.geojson, который вы должны скачать по ссылке выше.\n\n\n\n\n\nДалее здесь же откроем файл FABDEM_v1-2_tiles.geojson.\n\n\n\n\n\nКаждый прямоугольник в этом файле определяет одноградусную трапецию.\nЧтобы посмотреть в атрибутах этих объектов названия нужных вам архивов и файлов, вы можете просто выделить интересующие вас прямоугольники на карте, а потом открыть таблицу атрибутов и посмотреть в нее.\n\n\n\n\n\nВ атриубтивной таблице вы видите три поля/атрибута:\n\ntile_name - имя отдельной трапеции;\nfile_name - название файла;\nzipfile_name - название архива, в котором этот файл размещен.\n\nВторой вариант - это воспользоваться инструментом Определить объекты .\nПосле клика на объект с использованием этого инструмента вы увидите панель, в которой показаны атрибуты объекта, на который вы кликнули.\n\n\n\n\n\nДля создания нашей карты нам нужно скачать два архива:\n\nN40E040-N50E050_FABDEM_V1-2\nN40E030-N50E040_FABDEM_V1-2\n\nПосле скачивания архивы необходимо распаковать, чтобы вы могли работать с содержащимися в них растрами.\nПосле того, как вы определились с нужными вам архивами и файлами, слой с названиями тайлов можно убрать, он вам больше не будет нужен.\n\n\n\n\n\n\nДополнительно\n\n\n\nВ том случае, если у вас плохо открывается слой в программе, вы можете воспользоваться сервисом geojson.io и открыть файл в нем, чтобы определить нужные вам архивы и файлы.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#загрузка-цмр-в-qgis",
    "href": "01-relief.html#загрузка-цмр-в-qgis",
    "title": "Анализ рельефа",
    "section": "4 Загрузка ЦМР в QGIS",
    "text": "4 Загрузка ЦМР в QGIS\nВ каждой ячейке исходного растрового изображения содержится значение высоты.\nДобавление растрового слоя осуществляется через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить растровый слой.\n\nПосле открытия файла его лучше сразу перепроецировать на лету в EPSG:3857.\n\n\n\n\n\n\nДополнительно\n\n\n\nПерепроецирование на лету не будет изменять систему координат слоя, а только изменит систему координат проекта и то, как ваша карта будет отображаться на экране.\nПерепроецирование на лету может быть выполнено с использованием кнопки в правом нижнем углу основного окна программы.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#карта-теневого-рельефа",
    "href": "01-relief.html#карта-теневого-рельефа",
    "title": "Анализ рельефа",
    "section": "5 Карта теневого рельефа",
    "text": "5 Карта теневого рельефа\nОтмывка рельефа (также теневой рельеф, shaded relief) – это метод представления рельефа, при котором кажется, что на элементы рельефа сбоку падает свет3.\nДля создания карты теневого рельефа воспользуемся одноградусной трапецией, которая попадает на территорию Приэльбрусья.\nОткроем нужный нам растр с использованием строки меню: Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить растровый слой.\n\n\n\n\n\nДобавленная цифровая модель рельефа будет показана в оттенках серого цвета. Темные цвета соотвествуют маленьким значениям высоты, светлые - большим.\n\n\n5.1 Обрезка растра\nОбрежем наш исходный растр с цифровой моделью по границам заповедника.\nДля этого воспользуемся строкой меню Растр \\(\\longrightarrow\\) Извлечение \\(\\longrightarrow\\) Обрезать растр по маске.\n\n\n\n\n\nВ качестве маски у нас будет выступать векторный слой с границами заповедников.\nЗдесь обязательно необходимо указать, какой растр будет обрезаться и что будет использоваться в качестве маски, остальные параметры опциональны.\n\n\n\n\n\nВ результате мы получим растр, обрезанный по границам полигона.\n\n\n\n\n\n\n\n5.2 Теневой рельеф как стиль растрового слоя\nТеневой рельеф может быть задан как вариант стиля для растрового слоя.\n\n\n\n\n\nПараметры высота и азимут задают положение источника света.\n\n\n\n\n\n\nВажное уведомление\n\n\n\nВ данном случае одним из самых важных параметров является Масштабирование по Z - этот параметр позволяет соотнести между собой единицы измерения плановых координат и высот. В нашем случае высоты в ячейках растра приведены в метрах, а координаты - в градусах., кроме того, стоит учитывать, что в географических системах координат искажение зависит от долготы.\nС этим можно справиться двумя способами - перепроецировать растра в прямоугольную систему координат или задать масштабирование по Z (Z-factor). Фактически с помощью этого коэффициента мы переходим от градусов к метрам. Так как у нас окрестности Эльбруса, то можно воспользоваться значением коэффициента для 40 градусов долготы - 0.000011714\n\n\n\nШирота\nZ factor (метры)\n\n\n0\n0.00000898\n\n\n10\n0.00000912\n\n\n20\n0.00000956\n\n\n30\n0.00001036\n\n\n40\n0.00001171\n\n\n50\n0.00001395\n\n\n60\n0.00001792\n\n\n70\n0.00002619\n\n\n80\n0.00005156\n\n\n\n\n\nВ результате применения этого стиля вы увидите, что ваш рельеф стал выглядеть объемным.\n\n\n\n\n\n\n\nДополнительно\n\n\n\nМожете попробовать поэкспериментировать с азимутом и высотой источника света.\n\n\nЭтот теневой рельеф можно использовать, чтобы добавить дополнительный объем подложке (предварительно нужно добавить) или исходному рельефу растра. Для этого нужно открыть свойства слоя с теневым рельефом и изменить режим смешивания на Добавление, Осветление или Затемнение (также можно поэкспериментировать с настройками яркости и контрастности).\n\n\n\n\n\nКроме того вы можете настроить разнонаправленные источники света для того, чтобы сделать рельеф еще более выразительным.\n\n\n\n\n\n\n\nПредупреждение\n\n\n\nВ случае использования теневого рельефа как стиля растрового слоя и в отсутствие перепроецирования вы увидите на карте некоторые артефакты - “рябь” на картинке.\n\n\n\n\n5.3 Расчет теневого рельефа\nБолее стабильной опцией без артефактов будет расчет теневого рельефа как отдельного слоя.\nДля этого воспользуемся инструментом из панели инструментов анализа Теневой рельеф.\n\n\n\n\n\nЗдесь необходимо указать исходный растр для расчета, коэффициент масштабирования по Z, о котором говорилось выше, и местоположение источника света.\n\nВ результате вы получите новый слой, который далее можно настраивать так, как вы посчитаете нужным.\n\nНапример, можно воспользоваться режимом смешивания и комбинировать его с подложкой.\n\n\n\n\n\n\n\n5.4 Расчет теневого рельефа с использованием модуля Terrain shading\nДля еще большей выразительности рельефа можно воспользоваться модулем Terrain shading.\nЧуть подробнее про его функции можно почитать в блоге разработчика.\n\n\n\n\n\nЭтот модуль после установки должен появиться у вас в панели инструментов анализа.\n\n\n\n\n\nМодуль содержит сразу три функции, которые позволяют строить теневую отмывку:\n\nHillshade (terrain shading) - аналогичен стандартному построению теневого рельефа;\nShadow depth - инструмент для генерации теней;\nToposhade - комбинация теневого рельефа и индекса топографического положения, который показывает выпуклость и вогнутость рельефа. Такая комбинация позволяет добиться более выраженной карты теневого рельефа;\nTexture shading - добавление текстуры.\n\nДобавим отбрасываемые тени к нашему рельефу.\n\n\n\n\n\nВ качестве параметров здесь нам необходимо указать исходный растр и местоположение источника света (азимут и угол падения лучей).\n\n\n\n\n\n\nВнимание\n\n\n\nДанный модуль рекомендует использование плоской прямоугольной системы координат с метрическими единицами измерения. Так достигается одинаковый размер ячеек растра.\nНаш растр в географической системе, поэтому вы увидите предупреждение об этом, но расчет будет выполнен.\n\n\n\n\n\n\n\nПолученный растр с тенями будет добавлен в проект.\n\n\n\n\n\nЕго вы можете использовать в комбинации с другими растрами и подложками, чтобы получить выразительный рельеф на карте.\n\n\n\nКомбинация теневого рельефа, теней (режим смешивания умножение и затемнение соответственно) и подложки 2ГИС\n\n\nРассчитаем и добавим на карту текстуру.\n\n\n\n\n\nРезультат создания текстуры с подложкой показан на рисунке ниже.\n\n\n\n\n\nСочетание с теневым рельефом и тенями дает достаточно драматичный эффект.\n\n\n\n\n\nВоспользуемся инструментом, который по мнению разработчика модуля дает лучший результат, чем просто теневой рельеф - Toposhade.\n\n\n\n\n\nЭтот инструмент комбинирует расчет теневого рельеф и так называемого индекса топографического положения.\nФормы рельефа определяются на основе индекса топографического положения (Topographic position index - TPI). Этот индекс позволяет классифицировать формы рельефа по высоте конкретного пикселя относительно соседей: если он ниже, то значение индекса будет отрицательным и он будет отнесен к вогнутой форме рельефа; если он выше соседей, то индекс будет больше нуля и этот пиксель будет классифицирован как выпуклая часть рельефа.\n\n\n\nИсточник: https://landscapearchaeology.org/2019/tpi/\n\n\n\n\n\nИсточник: https://chuck-sutherland.blogspot.com/2019/10/topographic-position-index-tpi-as.html\n\n\n\n\n\n\n\n\n\n5.5 Добавление эффекта тумана5\nДля того, чтобы имитировать туман, сделаем полупрозрачную заливку только небольших высот на карте.\nВ качестве исходной карты рельефа будет взята карта с текстурным рельефом, тенями и теневым рельефом.\n\n\n\n\n\nВ первую очередь нужно продублировать исходный слой с цифровой моделью рельефа (можно сразу его переименовать для того, чтобы не запутаться).\nВ настройках стиля этого продублированного растра выберем опцию Одноканальное псевдоцветное. После чего нужно выбрать градиент (здесь подойдет любой градиент, так как мы все равно его будет редактировать).\nПосле выбора градиента нужно открыть его редактирование (просто кликнув на полосу градиента в настройках). В градиенте необходимо оставить только начальную и конечную опорные точки, удалив все промежуточные.\nДля удаления промежуточных опорных точек в градиенте нужно кликнуть на флажок под изображением градиента (это выделит нужную опорную точку), а потом нажать на клавиатуре клавишу Delete.\nДля начальной точки вы можете выбрать свой цвет и установить его прозрачность на 75%, а для конечной точки нужно просто установить белый цвет с прозрачностью в 100 %.\n\n\n\n\n\n\nДополнительно\n\n\n\nТак как мы пытаемся добиться эффекта тумана лучше использовать серые или серо-голубые оттенки.\n\n\n\n\n\n\n\nПосле применения свойств стиля ваша карта будет покрыта дымкой.\n\n\n\n\n\nЧтобы сделать туман только в низине, можно добавить дополнительную опорную точку.\n\nЭто позволит уменьшить разброс заливки по высотам цифровой модели рельефа.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#карта-рельефа-с-горизонталями",
    "href": "01-relief.html#карта-рельефа-с-горизонталями",
    "title": "Анализ рельефа",
    "section": "6 Карта рельефа с горизонталями",
    "text": "6 Карта рельефа с горизонталями\nКарту рельефа с горизонталями мы построим для территории второго рассматриваемого заповедника Кавказского государственного природного биосферного заповедника.\n\n6.1 Склеивание растров\nКак видно из картинки территория заповедника попадает на несколько одноградусных трапеций сразу. Для того, чтобы нам было проще с ними работать дальше сначала мы склеим их в единый растр, а потом обрежем по границам заповедника аналогично предыдущей карте.\n\nОткроем все нужные нам растры.\n\nДля объединения нескольких растров в один воспользуемся инструментом слияния растров: Растр \\(\\longrightarrow\\) Прочее \\(\\longrightarrow\\) Создать виртуальный растр.\n\n\n\n\n\nОсобенность виртуального растра состоит в том, что он не создает привычный файл в растровом формате, а скорее собирает уже существующие растры вместе. Отчасти это похоже на проект в QGIS, в котором тоже сохраняются связи между файлами слоев.\nВ открывшемся окне необходимо выбрать нужные нам растры и указать место для сохранения. В нашем случае - это промежуточный этап, поэтому сохранять не обязательно.\n\nИтоговый растр будет отображаться единым слоем на карте и в панели слоев.\n\n\n\n\n\nОбрежем растр аналогично предыдущему разделу.\n\nИтогом будет обрезанное по границам заповедника цифровая модель рельефа.\n\n\n\n6.2 Построение горизонталей и их стилизация\nДля создания горизонталей воспользуемся инструментом из строки меню Растр \\(\\longrightarrow\\) Извлечение \\(\\longrightarrow\\) Создать изолинии.\n\n\n\n\n\nИсходным слоем выступает цифровая модель рельефа. Основной параметр - расстояние между изолиниями, то есть интервал высот между изолиниями.\nЖелательно подбирать этот интервал так, чтобы изолинии не были слишком часто или слишком редко.\n\n\n\n\n\nПосле окончания расчетов вы получите новый векторный слой с линейными объектами - изолиниями.\nОсновным атрибутом их будет указанный на предыдущем этапе атрибут высоты (у меня оставлен по умолчанию ELEV).\n\n\n\n\n\nКак правило, на топографических картах утолщается каждая пятая горизонталь. В нашем случае это будут горизонтали со значением кратным 1000.\nЗададим толщину линий на основе выражения.\n\n\n\n\n\nНужное нам выражение условия:\nif (\"ELEV\"%1000=0,1,0.3)\nЭто стандартное условие если. В скобках указывается само условие, потом, что необходимо сделать, если условие выполнено, и что, если не выполнено.\nВ нашем случае условием является целочисленное деление на 1000 без остатка: то есть, если высота горизонтали кратна 1000. При выполнении условия толщина будет 1 единица, при невыполнении 0,3.\n\n\n\n\n\nПосле применения условия на карте часть изолиний будет утолщена, а часть останется тонкой.\n\n\n\n6.3 Настройка подписей горизонталей\nПо принятым правилам составления топографических карт:\n\nподписывать нужно только утолщенные горизонтали;\nгоризонталь должна прерываться для размещения подписи;\nподписи должны размещаться “головой” в сторону увеличения высоты.\n\nСоздадим подпись на основе правила, в качестве которого используем целочисленное деление, которое уже фигурировало выше в условии для утолщения линий.\n\"ELEV\"%1000=0\n\n\n\n\n\nТекстом для подписи будет выступать атрибут ELEV.\nТак как для подписей горизонтали должны прерываться, но мы воспользуемся уже знакомой нам опцией буфера для текста.\nЧтобы подписи были размещены прямо на линии, необходимо в настройке Размещение выбрать режим “Вдоль кривых” и установить разрешенные позиции “На линии”.\n\n\n\n\n\nНа карте вы увидите подписи только нужных вам горизонталей.\n\nДля настройки ориентации подписей воспользуемся генератором геометрии в настройках размещения:\nreverse($geometry)\n\n\n\n\n\nЕще необходимо разрешить перевернутые подписи.\n\n\n\n\n\nПолученные горизонтали с подписями соответствуют тому, как они должны размещаться на топографических картах.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#профиль-местности",
    "href": "01-relief.html#профиль-местности",
    "title": "Анализ рельефа",
    "section": "7 Профиль местности",
    "text": "7 Профиль местности\n\n7.1 Построение профиля местности\nПри построении профиля местности рельеф рассекается вертикальной плоскостью и путем соединения точек пересечения этой плоскости и рельефа строится профиль.\n\n\n\n\n\nДля построения профиля существует специальный инструмент Профиль высот, который можно найти в строке меню в пункте Вид.\n\n\n\n\n\nПанель для построения профиля откроется у вас в нижней части окна. В нее должны автоматически добавиться все ваши цифровые модели рельефа.\n\n\n\n\n\n\n\nДополнительно\n\n\n\nЕсли нужная вам цифровая модель рельефа не появилась на панели, то вам нужно в свойствах растрового слоя указать, что он представляет высотные данные.\n\n\n\nНа панели построения профиля есть некоторые инструменты, специфичные только для нее.\n\n\n\n\n\nСохранить свой профиль вы можете как картинкой, так и экспортироваеть саму линию (в том числе с параметром высоты), а также сохранить таблицу со значениями высот и расстояний.\n\n\n\n\n\n\n\n7.2 Добавление профиля на макет\nПри необходимости вы можете добавить высотный профиль на макет карты при ее оформлении.\nОн добавляется как любой элемент макета с вертикальной панели слева .\nДля того, чтобы в добавленном элементе был отображен высотный профиль, вы можете просто скопировать его из основного окна проекта.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#построение-трехмерной-поверхности",
    "href": "01-relief.html#построение-трехмерной-поверхности",
    "title": "Анализ рельефа",
    "section": "8 Построение трехмерной поверхности",
    "text": "8 Построение трехмерной поверхности\nТакже QGIS поддреживает отображение трехмерных поверхностей. Для этого нужно просто в строке меню выбрать Вид - Новая 3D карта.\n\nПосле чего в окне программы появится окно трехмерной карты (перемещение по карте левой кнопкой мыши, поворот и наклон - колесико, приближение - правая кнопка мыши).\n\nСразу после открытия нового окна поверхность все еще является плоской, потому что не задано на основе чего строить трехмерную поверхность.\nВ окне трехмерной карты нужно нажать кнопку Настройки (в панели значков крайняя справа) и в открывшемся окне настроек выбрать тип DEM (raster layer), высота (растровый слой с высотами) и вертикальный масштаб (здесь лучше всзять что-то от 1 до 5, чтобы поверхность была повыразительнее).\nДополнительно можно добавить Terrain shading (фактически теневая отмывка) и подкорректировать tile resolution (чем больше, тем более подробным будет рельеф), и skirt height (если правильно нашла - высота подставки под саму поверхность).\n\nПосле чего в окне будет отображена трехмерная поверхность.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#расчет-параметров-рельефа",
    "href": "01-relief.html#расчет-параметров-рельефа",
    "title": "Анализ рельефа",
    "section": "9 Расчет параметров рельефа",
    "text": "9 Расчет параметров рельефа\n\n\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nУклон поверхности – это угол наклона в точке пересечения между горизонтальной плоскостью и плоскостью касательной к земной поверхности; фиксирует интенсивность перепада высот (градиент) между двумя заданными точками.\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nЭкспозиция поверхности – угол по часовой стрелке между определенным направлением (как правило, на север) и проекцией уклона на горизонтальную плоскость; фиксирует направление (азимут) максимального уклона (градиента) земной поверхности6.\n\n\n\n\n\nОпределение основных геоморфометрических параметров по Zevenbergen, Thorne (1987). Источник: https://gis-lab.info/qa/geomorphometric-parameters-theory.html\n\n\nРасчет осуществляется по принципу «движущегося окна», где в центре находится целевая ячейка, для которой осуществляется расчет – z5, а значения смежных ячеек используются для вычислений.\nУклон или крутизна склона рассчитывается по формуле:\n\\[\n\\alpha = arctan(\\sqrt{G^2+H^2})\n\\]\nгде \\(G=\\dfrac{z_6-z_4}{2l}\\) - уклон по направлению восток-запад;\n\\(H=\\dfrac{z_2-z_8}{2l}\\) - уклон по направлению север-юг;\n\\(l\\) - размер ячейки растра.\nЭкспозиция склона рассчитывается по формуле;\n\\[\n\\beta=180^{\\circ}-arctan (\\dfrac{\\pm H}{\\pm G}) + 90 ^{\\circ}(\\dfrac{\\pm G}{|G|})\n\\]\n\n9.1 Расчет крутизны склонов7\nРассчитаем крутизну склонов - угол наклона каждого склона в градусах.\n\n\n\n9.1.1 Выделение территорий пригодных для строительства с учетом уклона\nДля того, чтобы выделить области пригодные для строительства, воспользуемся переклассификацией растра.\nПри переклассификации будем рассматривать территории с уклоном менее 10 %.\nТак как уклон был рассчитан в градусах, а параметр пригодности для строительства задан в процентах, то пересчитаем этот параметр в градусы по формуле:\n\\[\nSlope_{degree}=arctg(\\dfrac{Slope_{percent}}{100})\n\\]\nПолученное значение пригодности - 6 градусов.\nПереклассифицируем растр и выделим области пригодные или непригодные для строительства.\n\n\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nОбратите внимание, что здесь в дополнительных параметрах можно указать, как именно будут задаваться границы интервалов, то есть будут ли включаться в них нижний или верхний предел интервала.\n\n\n\n\n\n\n\nВ таблице реклассификации следует ввести границы интервалов и соответствующее им значение (эти значения должны быть целочисленными.\n\n\n\n\n\nВ результате будет получен дискретный растр с двумя значениями (или с тем количеством значений классов, которое вы указали в таблице реклассификации.\n\n\n\n\n\n\n\n\n9.2 Экспозиция склонов8\nЭта функция позволяет определить ориентацию склонов по сторонам света.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#расчет-высоты-расположения-зданий",
    "href": "01-relief.html#расчет-высоты-расположения-зданий",
    "title": "Анализ рельефа",
    "section": "10 Расчет высоты расположения зданий",
    "text": "10 Расчет высоты расположения зданий\nВ том случае, если необходимо рассчитать значение высот в пределах объектов векторного слоя (административных районов, например) или значение высот, на которых расположены здания, можно воспользоваться стандартным инструментом Зональная статистика.\nЭтот инструмент позволяет рассчитать значение какой-либо из статистик растрового слоя в пределах векторных объектов.\nВ качестве исходных данных была использована цифровая модель рельефа FABDEM для территории Москвы и векторный слой со зданиями, скачанными из OSM.\n\n\n\n\n\n\n\n\n\n\nДоступные для расчета статистические показатели приведены на рисунке ниже. Вы можете использовать один из них или любой набор из нескольких.\n\nПо результатам расчета вы получите векторный слой с объектами из исходного слоя, но в их атрибутивную таблицу будет добавлено новое поле с полученными значениями показателя (или несколько полей, если вы рассчитывали несколько показателей).",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#построение-зон-видимости",
    "href": "01-relief.html#построение-зон-видимости",
    "title": "Анализ рельефа",
    "section": "11 Построение зон видимости",
    "text": "11 Построение зон видимости\nАнализ видимости здесь рассмотрен на основе модуля Visibility analysis.\n\n11.1 Индекс видимости9\nИндекс видимости - это метрика, показывающая поле зрения для любой точки ланшафта.\nИндекс видимости рассчитывается как отношение положительных визуальных связей: 1,0 или 100% означает, что точка видна со всех своих соседей.\nВ качестве исходных данных здесь задается только цифровая модель рельефа, остальные параметры устанавливаются непосредственно при расчете:\n\nрадиус анализа - насколько далеко необходимо осуществлять видимость;\nвысота наблюдателя, то есть высота, с которой осуществляется обзор относительно поверхности земли;\nsample - количество линий обзора;\nнаправление - расчет с точки зрения наблюдения за ландшафтом или как точек обзора.\n\n\n\n\n\nИндекс видимости\n\n\n\n\n11.2 Расчет бассейнов видимости10\nРезультатом расчета бассейна видимости, как правило, является бинарный растр со значениями 1 (пиксель видим с точки обзора) или 0 (пиксель не виден с точки обзора).\nЕсли точек обзора много, то их бассейны видимости будут суммироваться при наложении.\nНа первом этапе необходимо создать точки обзора из имеющегося точечного слоя - Create viewpoints.\n\n\n\n\n\nВ качестве исходных данных в расчет передаются точечный слой, для которого будут осуществляться расчеты, и цифровая модель рельефа.\n\n\n\n\n\n\nВажное уведомление\n\n\n\nВажно, что слой с точками обзора и цифровая модель рельефа должны быть в одной системе координат.\n\n\nОбязательными параметрами являются:\n\nрадиус анализа (в метрах) - максимальное расстояние видимости;\nвысота наблюдателя, то есть высота, с которой ведется обзор (здесь может быть задана как высота среднего роста человека, так и высота здания, если обзор будет осуществляться с него);\nцелевая высота - значение высоты, которое добавляется ко всем участкам местности, проверяемым на видимость из точки наблюдателя.\n\nВ результате вы получите точечный слой из объектов, которые могут использоваться как точки обзора, так как имеют свою собственную высоту.\nДалее можно рассчитать бассейны видимости с помощью инструмента Viewshed.\n\n\n\n\n\nИнструмент позволяет рассчитать три вида бассейнов видимости:\n\nбинарный - видно/не видно (1/0);\nрасположение ниже горизонта - высота, на которую должно подняться каждое место, чтобы стать видимым;\nгоризонт - внешний край бассейна видимости.\n\n\n\n\n\n\nПри использовании двух точек обзора были получены зоны видимости, показанные на рисунке ниже.\n\n\n\n\n\nДля отображения зон видимости поверх остального рельефа можно настроить стиль полученного слоя как Палитра/Уникальные значения и сделать нулевые значения прозрачными.\n\n\n\n\n\nВ результате на карте у вас будут отображаться только те зоны, которые видны с ваших точек обзора, поверх остальных слоев.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nВ том случае, если у вас есть цифровая модель поверхности со всеми зданиями для исследуемой территории, можно воспользоваться модулем Visibility analysis и вот этим туториалом.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nДля добавления зданий к цифровой модели рельефа можно использовать модуль UMEP.",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "01-relief.html#footnotes",
    "href": "01-relief.html#footnotes",
    "title": "Анализ рельефа",
    "section": "Сноски",
    "text": "Сноски\n\n\nЧто такое цифровые модели рельефа (ЦМР) - https://pro.arcgis.com/ru/pro-app/latest/tool-reference/spatial-analyst/exploring-digital-elevation-models.htm↩︎\nПлагин SRTM-Downloader — загрузка SRTM с сервера прямо в QGIS https://cartetika.ru/tpost/98m7ngx971-plagin-srtm-downloader-zagruzka-srtm-s-s↩︎\nОтмывка рельефа в QGIS – покажем рельеф эстетично! https://cartetika.ru/tpost/6eul4ld921-otmivka-relefa-v-qgis-pokazhem-relef-est↩︎\nSetting the Z Factor parameter correctly https://www.esri.com/arcgis-blog/products/product/imagery/setting-the-z-factor-parameter-correctly↩︎\nКарта рельефа с эффектом тумана в QGIS https://cartetika.ru/tpost/ncjlhkl2u1-karta-relefa-s-effektom-tumana-v-qgis↩︎\nОсновные геоморфометрические параметры: теория - https://gis-lab.info/qa/geomorphometric-parameters-theory.html#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5_%D0%B3%D0%B5%D0%BE%D0%BC%D0%BE%D1%80%D1%84%D0%BE%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B↩︎\nДокументация функции https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasterterrainanalysis.html?highlight=relief%20analysis#slope↩︎\nЭкспозиция - https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasterterrainanalysis.html?highlight=relief%20analysis#aspect↩︎\nVisibility index (total viewshed) for QGIS : finally there! - https://landscapearchaeology.org/2020/visibility-index/↩︎\nViewshed analysis in QGIS 3: a tutorial - https://landscapearchaeology.org/2020/viewshed-tutorial/↩︎",
    "crumbs": [
      "Курс лекций",
      "Анализ рельефа"
    ]
  },
  {
    "objectID": "05-spatial-autocorrelation.html",
    "href": "05-spatial-autocorrelation.html",
    "title": "Пространственная автокорреляция",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новой вкладке"
  },
  {
    "objectID": "05-spatial-autocorrelation.html#теория",
    "href": "05-spatial-autocorrelation.html#теория",
    "title": "Пространственная автокорреляция",
    "section": "",
    "text": "Материалы лекции\n\nОткрыть лекцию в новой вкладке\nМатериалы лекции (eng.)\n\nОткрыть лекцию в новой вкладке"
  },
  {
    "objectID": "05-spatial-autocorrelation.html#пространственный-лаг",
    "href": "05-spatial-autocorrelation.html#пространственный-лаг",
    "title": "Пространственная автокорреляция",
    "section": "2 Пространственный лаг",
    "text": "2 Пространственный лаг\n\n\n\n\n\n\nНа заметку\n\n\n\nПространственный лаг - это взвешенная сумма значений для каждого из объектов. Так как веса задаются матрицей пространственных весов, то пространственный лаг фактически описывает окружение каждого объекта.\n\n\nВычисление пространственного лага осуществляется с использованием калькулятора.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nЕсли по результатам прошлого занятия вы не сохранили себе данные как проект и у вас нет весовых матриц, вы можете просто загрузить их в менеджере весов.\nВ том случае, если идентификаторы для матрицы весов пропали, вы можете просто добавить их заново аналогично тому, как мы добавляли их в прошлый раз.\n\n\nДля его вычисления необходимо указать:\n\nиспользуемую матрицу весов (если у вас их несколько, то может быть выбрана одна из них);\nпеременную, для которой осуществляется вычисление лага (здесь может быть выбрана любая количественная переменная из вашей атрибутивной таблицы);\nпеременную для записи результата - здесь может быть выбрана существующая колонка или создана новая.\n\n\n\n\n\n\nВ качестве дополнительный опций вы можете указать необходимость стандартизации весов по строкам матрицы, включение диагональных элементов (фактически определяет включение значение для самого объекта в пространственный лаг).\n\n\n\n\n\n\nВажное уведомление\n\n\n\nРекомендуется использовать стандартизованные веса для того, чтобы избежать значительных выбросов и получить более сглаженные значения.\n\n\nВ результате вы получите новую переменную, которая будет содержать в себе значения пространственного лага, то есть значения исследуемой переменной в окружении каждого объекта.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nПопробуйте рассчитать пространственный лаг с использованием разных матриц весов и сравнить полученный результат."
  },
  {
    "objectID": "05-spatial-autocorrelation.html#глобальная-пространственная-автокорреляция",
    "href": "05-spatial-autocorrelation.html#глобальная-пространственная-автокорреляция",
    "title": "Пространственная автокорреляция",
    "section": "3 Глобальная пространственная автокорреляция",
    "text": "3 Глобальная пространственная автокорреляция\nГлобальная пространственная автокорреляция позволяет выявить наличие связи значений объектов друг с другом.\n\n\n\n\n\n\nНа заметку\n\n\n\nПроцесс тестирования на наличие пространственной автокорреляции по этапам:\n1. нулевая и альтернативная гипотезы \\(H_0: I = E[I]\\) (пространственная случайность) и \\(H_1: I \\neq E[I]\\) (наличие пространственной автокорреляции);\n2. установление уровня значимости \\(\\alpha\\) (как правило, стандартным уровнем значимости является \\(\\alpha=0,05\\));\n3. вычисление статистики тестирования \\(z = \\frac{I-E(I)}{Var(I)^{1/2}}\\), где \\(Var[I] = \\frac{n^2(n-1)S_1 - n(n-1)S_2 - 2 S_0^2}{(n+1)(n-1)^2 S_0^2}\\) , \\(S_0 = \\sum_{i \\neq j} w_{ij},\\ S_1= \\frac{1}{2}\\sum_{i\\neq j} (w_{ij}+w_{ji})^2\\) и \\(S_2 = \\sum_k \\left(\\sum_j w_{kj}+\\sum_i w_{ik}\\right)^2\\);\n4. определить \\(p\\) - значение (либо с использованием нормального распределения, либо с использованием рандомизации по методу Монте-Карло);\n5. определение наличия (\\(p\\) - значение \\(&lt; \\alpha\\)) или отсутствия (\\(p\\) - значение \\(\\geq \\alpha\\)) пространственной автокорреляции.\n\n\nРасчет глобальных индексов простанственной автокорреляции может быть осуществлен либо инструментом (Moran scatter plot) , либо с использованием пункта Space строки меню (здесь на данном этапе вас интересуют только пункты, перечисленные до первой горизонтальной черты).\n\n\n\n\n\nПри использовании инструмента напрямую из панели, вы увидите выбор их нескольких вариаций коэффицента пространственной автокорреляции - индекса Морана I:\n\nвычисление индекса по одной переменной - Univariate Moran’s I;\nвысисление индекса по двум переменным (для второй из них используется на само значение, а величина пространственного лага) - Bivariate Moran’s I;\nдифференциальный индекс, позволяющий выявлять временные изменения в переменной (подробнее здесь) - Differential Moran’s I;\nбайесовский эмпирический индекс - Moran’s I with EB rate.\n\n\n\n\n\n\n\n\n\n\n\n\nВнимание\n\n\n\nМы с вами будем рассчитывать только индекс Морана для одной переменной.\n\n\nВ качестве параметров для расчета необходимо указать используемую переменную и матрицу весов.\n\n\n\n\n\nПо результататм расчета вы получите график Морана в отдельном окне.\n\n\n\n\n\nПо оси \\(X\\) графика отображается значение самой переменной, а по оси \\(Y\\) - пространственный лаг этой переменной. Обе эти переменные нормализованы для того, чтобы график был более легко интерпретируемым. Поэтому ноли графика - это не нулевые значения, а средние.\nНад графиком показано значение индекса Морана для исследуемой переменной и использованной матрицы весов.\nПо углу наклона прямой на графике и значению индекса Морана мы получаем положительную пространственную автокорреляцию, то есть объекты с близким значением переменной будут располагаться рядом друг с другом.\n\n\n\n\n\n\nПредупреждение\n\n\n\nЗначение индекса Морана будет варьироваться в зависимости от выбора матрицы весов даже, если вы используете одну и ту же переменную.\n\n\nДля проверки статистической значимости индекса Морана используется метод Монте-Карло, то есть выполняется случайная перестановка данных заданное количество раз и рассчитывается коэффициент пространственной автокорреляции. Полученные результаты формируют график распределения значения индекса Морана и сравниваются с фактическим значением.\nЗапуск процесса проверки на статистическую значимость осуществляется по клику правой кнопки мыши на пустом пространстве графика Морана.\n\n\n\n\n\nНа представленном ниже графике бордовым показан график распределения значений индекса Морана по результатам случайных перестановок, а зеленым столбцом - фактическое значение. В верхней части окна приведена величина уровня значимости, а отдельные рассчитанные значения статистической значимости под графиком.\n\n\n\n\n\nВ представленном примере фактическое значение не попадает в график распределения, полученный случайными перестановками, что говорит о статистической значимости полученного индекса. То есть для рассматриваемой величины может быть отвергнута нулевая гипотеза о пространственной случайности.\n\n\n\n\n\n\nДополнительно\n\n\n\nПопробуйте протестировать на пространственную автокорреляцию несколько разных переменных с разными матрицами весов.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nКроме того с использованием инструмента Spatial correlogram вы можете протестировать коэффициент пространственной автокорреляции на разных расстояниях.\nЭтот график показывает зависимость коэффициента корреляции в зависимости от расстояния. Таким образом можно отследить изменение пространственного процесса в разных масштабах."
  },
  {
    "objectID": "05-spatial-autocorrelation.html#локальная-пространственная-автокорреляция",
    "href": "05-spatial-autocorrelation.html#локальная-пространственная-автокорреляция",
    "title": "Пространственная автокорреляция",
    "section": "4 Локальная пространственная автокорреляция",
    "text": "4 Локальная пространственная автокорреляция\nЕсли глобальная пространственная автокорреляция дает общую оценку, то локальная пространственная автокорреляция позволяет выявить паттерны распределения величины и найти кластеры.\n\n\n\n\n\n\nПредупреждение\n\n\n\nСледует понимать, что здесь речь идет несколько об иных кластерах, чем мы говорили в теме “Анализ точечных паттернов”. Если в той теме кластеры - это просто близкие объекты (если говорить о чисто пространственной кластеризации) или объекты с похожими характеристиками, то здесь кластеры - это группы похожих объектов значительно отличающихся от своего окружения.\n\n\nВ программе реализовано несколько различных индексов, но мы с вами будем использовать только локальную вариацию индекса Морана.\nРасчет индексов локальной пространственной автокорреляции осуществляется либо инструментом Cluster maps , либо инструментом из строки меню:\n\n\n\n\n\nПри использовании инструмента из панели инструментов меню будет немного отличаться, но будет содержать все доступные методы для тестирования на локальную пространственную автокорреляцию.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nВариации индекса Морана здесь такие же, как и для глобального индекса.\n\n\nТочно также, как и при вычислении глобального индекса необходимо выбрать интересующую вас переменную и матрицу весов.\n\n\n\n\n\nПосле выбора вам предлагается несколько вариантов вывода результата расчета локальной пространственной автокорреляции:\n\nSignificance map - карта статистической значимости полученных значений локальных индексов;\nCluster map - карта выявленных кластеров;\nMoran scatter plot - график Морана.\n\n\n\n\n\n\nГрафик Морана здесь строится аналогично предыдущему разделу, но может уже более подробно интерпретироваться с точки зрения принадлежности объектов к тем или иным группам:\n\nквадрант с высоким значением переменной и высоким значением пространственного лага (High-High -квадрант);\nквадрант с низким значением переменной и низким значением пространственного лага (Low-low-квадрант);\nквадрант с высоким значением переменной и низким значением пространственного лага (High-Low-квадрант);\nквадрант с низким значением переменной и высоким значением пространственного лага (Low-High-квадрант).\n\n\n\n\n\n\nПолученная карта значимости показывает статистическую значимость рассчитанных коэффициентов локальной пространственной автокорреляции.\nВ легенде указан уровень значимости для тех объектов, для которых коэффициенты являются статистически значимыми.\n\n\n\n\n\nНа карте кластеров показаны выявленные кластеры. Фактически здесь все объекты раскрашены цветом в зависимости от того, в какой квадрант из перечисленных выше они попадают, за исключением тех из них, для которых значение локального индекса не является статистически значимым.\n\n\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nЗдесь как и для глобальной пространственной автокорреляции будет большую роль играть матрица пространственных весов.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nПопробуйте рассчитать индексы локальной пространственной автокорреляции для различных матриц пространственных весов и сравнить их между собой, а также попробовать проинтерпретировать ваши результаты."
  },
  {
    "objectID": "05-surface-temperature.html",
    "href": "05-surface-temperature.html",
    "title": "Расчет температуры поверхности",
    "section": "",
    "text": "Подготовлено по материалам телеграм канала “О картах” - https://gommersh.notion.site/361cd5e111174365afcb777143bcd078"
  },
  {
    "objectID": "05-surface-temperature.html#описание-расчета",
    "href": "05-surface-temperature.html#описание-расчета",
    "title": "Расчет температуры поверхности",
    "section": "1 Описание расчета",
    "text": "1 Описание расчета\nОпределение температуры поверхности по космическим снимкам основано на анализе теплового излучения, зарегистрированного инфракрасными сенсорами на спутниках. Эти данные позволяют точно измерять температурные характеристики земной поверхности и водных объектов, что критично для исследований в области изменения климата, горожов, мониторинга лесных пожаров, оценки состояния сельскохозяйственных угодий и управления водными ресурсами.\nНа сайте геологической службы США можно скачать космоснимки, среди них есть отдельная группа снимков Ландсат, которые представляют собой информацию о температуре приземного слоя. Такие снимки помечены префиксом ST (“Surface temperature”).\n\n\n\n\n\n\n\n\n\n\n\n\nST_URAD\nвосходящее тепловое излучение\n\n\n\n\nST_DRAD\nнисходящее тепловое излучение\n\n\nST_ATRAN\nатмосферная прозрачность (проницаемость атмосферы)\n\n\nST_EMIS\nповерхностная излучательная способность\n\n\nST_EMSD\nстандартное отклонение поверхностной излучательной способности\n\n\nST_QA\nнеопределенность полосы измерения, в кельвинах\n\n\nST_CDIST\nрасстояние в пикселях от ближайшего определенного облака\n\n\nST_B10\nтемпература земной поверхности, измеряется в Кельвинах\n\n\n\nЧтобы исследовать температуру земной поверхности нам нужен файл с ST_B10. Если посмотреть на реальные данные, то можно увидеть, что числа в пикселях в данном канале совсем не похожи на реальные показатели температуры. А значит, нужно как-то преобразовать существующие данные.\n\n\n\n\n\nПодробное описание преобразования данных в температуру есть в технической документации.\n\n\n\n\n\nДля значений этого канала есть некий multiplicative scale factor и additive offset:\n\nMultiplicative scale factor (MSF) – чтобы получить температуру, на это число нужно умножать значение пикселя. Слово multiplicative указывает на то, что значение пикселя нужно умножать на это число.\nAddtive Offset (AO) - специальное число, которое нужно добавить, чтобы получить температуру приземного слоя. Слово additive указывает на то, что к значению пикселя нужно прибавить это число.\n\nТакже заметьте, что значения в данном канале представлены в кельвинах. Поэтому от полученного значения нужно будет отнять 273,15 чтобы получить температуру не в кельвинах, а в градусах цельсия.\nУчитываем все это, и у нас получается формула температуры приземного слоя для ландсат 8-9:\n\\[LST_{rescaled} = LST*MSF+ AO - 273,5\\]\nЗначение пикселя в канале 10 умножаем на MSF, прибавляем АО и отнимаем 273,15. Теперь подставим числа и получим финальную формулу:\n\\[LST_{rescaled} = B\\_10\\_ST*0.00341802 + 149 - 273,5\\]\nЭту формулу мы будем использовать для того, чтобы из значения пикселя получить температуру поверхности земли в градусах цельсия."
  },
  {
    "objectID": "05-surface-temperature.html#расчет-температуры",
    "href": "05-surface-temperature.html#расчет-температуры",
    "title": "Расчет температуры поверхности",
    "section": "2 Расчет температуры",
    "text": "2 Расчет температуры\nШаг 1. Скачиваем космоснимок\nСнимки можно скачать с сайта геологической службы США (процесс скачивания снимков описан в разделе Открытые данные дистанционного зондирования).\n\n\n\n\n\n\nВажное уведомление\n\n\n\nЗдесь вам подойдут только снимки Landsat-8 или Landsat-9.\nПричем вам достаточно скачать только 10 канал, прочие для расчета температуры не требуются.\n\n\n\n\n\n\n\nШаг 2. Считаем температуру\nОткрываем QGIS и добавляем в пустой проект наш снимок.\n\n\n\n\n\nОткроем калькулятор растра (Растр \\(\\longrightarrow\\) Калькулятор растра) и воспользуемся формулой:\n\\[LST_{rescaled} = LST*MSF+ AO - 273,5\\]\nВместо B_10_ST поставим наше значение из рассматриваемого растра.\n\n\n\n\n\n\n\nПредупреждение\n\n\n\nВ калькуторе растров лучше сохранять результат не в виде временного растра, а сразу в файл, так как сохранение во временный растр может привести к ошибкам и некорректным расчетам.\n\n\nДалее при необходимости можно обрезать снимок и подобрать цветовой градиент для лучшей иллюстрации температурных аномалий.\n\nЧто можно с этим делать:\n\nНаглядно показать, как нагревается асфальт в городе и насколько он влияет на общую температуру в районе;\nНаглядно показать обратное - как хорошо влияет зелень на среднюю температуру;\nОценить городские острова тепла;\nОценить изменение температуры в динамике и отметить температурные тренды.\n\n\n\n\n\n\n\n\n\n\nИсточник: https://t.me/gisgoo/262\n\n\n\n\n\nИсточник: https://app.geohub.ru/maps/1685\n\n\nБолее подробно про расчет температуры поверхности можно почитать по ссылке."
  },
  {
    "objectID": "Lectures.html",
    "href": "Lectures.html",
    "title": "Лекции",
    "section": "",
    "text": "Как смотреть лекции\n\n\n\nПрезентации можно смотреть либо пользуясь стрелками навигации, либо, листая их стрелками на клавиатуре, после одного щелчка левой кнопки мыши. Если презентация открыта в новой вкладке браузера, вы можете развернуть ее в полноэкранный режим кнопкой F."
  },
  {
    "objectID": "Lectures.html#лекции",
    "href": "Lectures.html#лекции",
    "title": "Лекции",
    "section": "1 Лекции",
    "text": "1 Лекции\n\n1.1 Основы дистанционного зондирования\n\nОткрыть в новой вкладке"
  },
  {
    "objectID": "Exam.html",
    "href": "Exam.html",
    "title": "Перечень вопросов и заданий к экзамену",
    "section": "",
    "text": "Что такое точечный паттерн?\nКакие виды точечных паттернов есть?\nОсновные виды пространственных эффектов точечного процесса.\nОсновные подходы к анализу точечных паттернов.\nВ чем разница между глобальной и локальной плотностью?\nАнализ точечных паттернов на основе плотности.\nАнализ точечных паттернов на основе расстояния между наблюдениями.\nЯдерная оценка плотности.\nАнализ ближайших соседей.\n\\(k\\)-функция и ее вариации.\nЧто такое кластеризация?\nМетоды кластеризации.\n\n\n\n\n\nПервый закон географии.\nЧто такое затухание расстояния?\nЧто такое сжатие пространства и времени?\nНа чем основаны гравитационные модели?\nГравитационная модель Хаффа.\nКакие есть гравитационные модели?\nКак применяются гравитационные модели?\nОт чего зависит вероятность использования сервиса в гравитационной модели Хаффа?\nКак на вероятность использования сервиса влияет расстояние/площадь сервиса?\n\n\n\n\n\nЧто такое пространственные веса?\nМетоды расчета пространственных весов.\nОсновное применение пространственных весов.\nЧто такое пространственная автокорреляция?\nВ чем разница между глобальной и локальной пространственной автокорреляцией?\nЧто такое пространственный лаг?\nКластеры, выявляемые при расчете локальной пространственной автокорреляции.\nГрафическая интерпретация индекса Морана.\n\n\n\n\n\nКак пространственная составляющая может быть включена в уравнение регрессии?\nЧто такое пространственные эффекты?\nЧто такое пространственная неоднородность?\nЧто подразумевает метод пространственных режимов?\nЧто такое географическая взвешенная регрессия?\nЧто такое пространственная зависимость и как она может влиять на регрессионную модель?\n\n\n\n\n\nЧто такое дистанционное зондирование?\nКак можно классифицировать спутниковые снимки?\nЧто такое пространственное/спектральное разрешение?\nНа чем основан принцип расчета спектральных индексов?\nКак из снимков для отдельных каналов может быть составлен цветной снимок?\nКакие существуют спектральные индексы?\nДля чего составляются композиты в искусственных цветах?"
  },
  {
    "objectID": "Exam.html#перечень-вопросов",
    "href": "Exam.html#перечень-вопросов",
    "title": "Перечень вопросов и заданий к экзамену",
    "section": "",
    "text": "Что такое точечный паттерн?\nКакие виды точечных паттернов есть?\nОсновные виды пространственных эффектов точечного процесса.\nОсновные подходы к анализу точечных паттернов.\nВ чем разница между глобальной и локальной плотностью?\nАнализ точечных паттернов на основе плотности.\nАнализ точечных паттернов на основе расстояния между наблюдениями.\nЯдерная оценка плотности.\nАнализ ближайших соседей.\n\\(k\\)-функция и ее вариации.\nЧто такое кластеризация?\nМетоды кластеризации.\n\n\n\n\n\nПервый закон географии.\nЧто такое затухание расстояния?\nЧто такое сжатие пространства и времени?\nНа чем основаны гравитационные модели?\nГравитационная модель Хаффа.\nКакие есть гравитационные модели?\nКак применяются гравитационные модели?\nОт чего зависит вероятность использования сервиса в гравитационной модели Хаффа?\nКак на вероятность использования сервиса влияет расстояние/площадь сервиса?\n\n\n\n\n\nЧто такое пространственные веса?\nМетоды расчета пространственных весов.\nОсновное применение пространственных весов.\nЧто такое пространственная автокорреляция?\nВ чем разница между глобальной и локальной пространственной автокорреляцией?\nЧто такое пространственный лаг?\nКластеры, выявляемые при расчете локальной пространственной автокорреляции.\nГрафическая интерпретация индекса Морана.\n\n\n\n\n\nКак пространственная составляющая может быть включена в уравнение регрессии?\nЧто такое пространственные эффекты?\nЧто такое пространственная неоднородность?\nЧто подразумевает метод пространственных режимов?\nЧто такое географическая взвешенная регрессия?\nЧто такое пространственная зависимость и как она может влиять на регрессионную модель?\n\n\n\n\n\nЧто такое дистанционное зондирование?\nКак можно классифицировать спутниковые снимки?\nЧто такое пространственное/спектральное разрешение?\nНа чем основан принцип расчета спектральных индексов?\nКак из снимков для отдельных каналов может быть составлен цветной снимок?\nКакие существуют спектральные индексы?\nДля чего составляются композиты в искусственных цветах?"
  },
  {
    "objectID": "Exam.html#list-of-exam-questions",
    "href": "Exam.html#list-of-exam-questions",
    "title": "Перечень вопросов и заданий к экзамену",
    "section": "2 List of exam questions",
    "text": "2 List of exam questions\n\n2.1 Point pattern analysis and clusterisation\n\nWhat is point pattern?\nName types of point patterns.\nMain types of spatial effects in point process.\nMain approaches in point pattern analysis.\nDifference between global and local spatial density.\nDensity based point pattern analysis.\nDistance based point pattern analysis.\nQuadrant local density estimation.\nKernel density estimation.\nNearest neighbour analysis.\n\\(k\\)-function and its variations.\nWhat is clusterisation?\nHierarchical clusterisation methods.\nPartitioning clusterisation methods.\nDensity based clusterisation methods.\n\n\n\n2.2 Gravity models\n\nFirst law of geography.\nWhat is distance decay?\nWhat is time-space compression?\nFoundation for gravity models.\nHuff’s gravity model.\nWhat types of gravity models exist?\nHow gravity models can be applied?\nIn Huff’s model, what parameters does probability depend on?\nWhat impact does the distance/area of the service have on the probability of its use?\n\n\n\n2.3 Spatial weights and spatial autocorrelation\n\nWhat are spatial weights?\nSpatial weights calculation methods.\nMain application of spatial weights.\nWhat is spatial autocorrelation?\nDifference between global and local spatial autocorrelation?\nWhat is spatial lag?\nClusters calculated through local spatial autocorrelation.\nMoran graph.\n\n\n\n2.4 Spatial regression\n\nHow can a spatial component be included in a regression equation?\nWhat are spatial effects?\nWhat is spatial heterogeneity?\nWhat does the spatial modes method imply?\nWhat is geographically weighted regression?\nHow can spatial dependence affect a regression model?\n\n\n\n2.5 Analysis of remote sensing data\n\nWhat is remote sensing?\nHow can satellite imagery be categorised?\nWhat are spatial and spectral resolutions?\nWhat is the basis for calculating spectral indices, and how are they used?\nHow can you make a colour image from images for each band?\nWhat are spectral indices?\nWhat are composite images in false colours used for?"
  },
  {
    "objectID": "02-remote-sensing-data.html",
    "href": "02-remote-sensing-data.html",
    "title": "Загрузка данных дистанционного зондирования из открытых источников",
    "section": "",
    "text": "Подготовлено на основе материалов портала Gis-lab.\nОдним из основных источников материалов ДЗЗ, в том числе и бесплатных, является архив Геологической службы (ГС) США (USGS - United States Geological Survey). Доступ к нему возможен как для простого просмотра каталога, так и для непосредственного получения хранимых в нём материалов.",
    "crumbs": [
      "Курс лекций",
      "Работа с данными дистанционного зондирования",
      "Загрузка данных дистанционного зондирования из открытых источников"
    ]
  },
  {
    "objectID": "02-remote-sensing-data.html#другие-источники",
    "href": "02-remote-sensing-data.html#другие-источники",
    "title": "Загрузка данных дистанционного зондирования из открытых источников",
    "section": "1 Другие источники",
    "text": "1 Другие источники\n\n\n\n\n\n\nНа заметку\n\n\n\nДля скачивания данных российских систем спутникового наблюдения есть Фонд данных ДЗЗ, в котором после регистрации вы сможете осуществлять поиск и заказ нужных вам изображений на территорию исследования.\nСервис является платным.\nИнструкция по работе с сервисом по ссылке.\nДоступны к заказу снимки различного пространственного разрешения:\n\n«Низкое» — снимки ЦА «МСУ-МР»;\n«Среднее низкое» — снимки ЦА ШМСА-СР, КМСС (включая КМСС-М и КМСС-2), TM, MSS, ETM+, OLI, MSI;\n«Среднее» — снимки ЦА ГСА, ШМСА-ВР, TM, ETM+, OLI, MSI;\n«Высокое» — снимки ЦА Геотон-Л1(мультиспектральные каналы), ПСС, МСС (КА «Канопус-В1, Канопус-В2, Канопус-В4, Канопус-В-ИК), MSI;\n«Детальное» — снимки ЦА Геотон-Л1 (панхроматический канал).\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nТакже есть бесплатный и открытый ресурс Роскосмоса метеорологических систем https://api.gptl.ru/stac/browser/web-free/\n\nВысокоэллиптическая КС Арктика-М,\nГеостационарная КС Электро-Л,\nСолнечно-синхронная КС Метеор-М.\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nОт компании “Спутникс” опубликована общедоступная коллекция снимков https://disk.sputnix.ru/index.php/s/HbkKc34batcjkSX?dir=/\nОписание данных https://disk.sputnix.ru/index.php/s/xyzdn9GnMig3LWW?dir=/&editing=false&openfile=true\nДанные предназначены для некоммерческого использования.\n\n\nБольшое количество различных данных ДЗЗ доступно через каталоги Google earth engine. Для работы с ними напрямую из QGIS есть несколько модулей:\n\nEarth Engine Data Catalogs - https://github.com/opengeos/qgis-gee-data-catalogs-plugin\nGeemap - https://github.com/opengeos/qgis-geemap-plugin.",
    "crumbs": [
      "Курс лекций",
      "Работа с данными дистанционного зондирования",
      "Загрузка данных дистанционного зондирования из открытых источников"
    ]
  },
  {
    "objectID": "02-remote-sensing-data.html#footnotes",
    "href": "02-remote-sensing-data.html#footnotes",
    "title": "Загрузка данных дистанционного зондирования из открытых источников",
    "section": "Сноски",
    "text": "Сноски\n\n\nИсточники: https://www.usgs.gov/faqs/what-are-best-landsat-spectral-bands-use-my-research, https://innoter.com/sputniki/landsat-8/↩︎\nСтандартные уровни обработки и форматы представления данных ДЗЗ из космоса. Мировой опыт - https://sovzond.ru/upload/iblock/487/2009_04_002.pdf↩︎",
    "crumbs": [
      "Курс лекций",
      "Работа с данными дистанционного зондирования",
      "Загрузка данных дистанционного зондирования из открытых источников"
    ]
  },
  {
    "objectID": "02-location-allocation.html",
    "href": "02-location-allocation.html",
    "title": "Анализ размещения-распределения",
    "section": "",
    "text": "Анализ размещения-распределения (location-allocation analysis) необходим для решения двух основных задач:\n\nпоиск оптимального размещения объекта относительно точек спроса с учетом минимизации транспортных расходов (времени в пути или затрат на перевозку), например, размещение экстренных служб, которые должны располагаться так, чтобы время их прибытия было минимальным;\nпоиск оптимального распределения от размещаемого нового объекта до точек спроса с учетом минимизации транспортных расходов, например, размещение склада, с которого осуществляется доставка, или размещение даркстора службы доставки, чтобы максимально охватывать зоной доставки ближайшее окружение.\n\nОсновная часть решения таких задач сводится к определению медианного расположения: необходимо таким образом разместить медианную точку, чтобы минимизировать среднюю стоимость транспортировки с учетом спроса или расстояние между точками спроса и сервисом1. Параметры решения будут зависеть от трех показателей:\n\nколичество точек сервиса, которые необходимо разместить;\nколичество, тип и размещение точек спроса - точки спроса могут представлять собой как индивидуальные локации, так и центры полигонов (например, административно-территориальных единиц), наиболее простым случаем здесь будет являться небольшое число равномерно распределенных по территории точек спроса;\nтип рассчитываемого расстояния.\n\nФактически решение этой задачи сводится к линейной оптимизации.\n\\[ Min: \\sum_{a} \\sum_{b}g(Q(a,b)),\\ Q(a,b)\\geq0\n\\]\nгде \\(Q(a,b)\\) - трафик между источником \\(a\\) и пунктом назначения \\(b\\) , \\(g\\) - функция стоимости.\nТо есть \\(g(Q(a,b))\\) - транспортные расходы, связанные с перевозками из точки \\(a\\) в пункт назначения \\(b\\).\nДля анализа городской среды наиболее простым примером является поиск оптимального расположения объектов сервиса так, чтобы их зона обслуживания охватывала как можно больше горожан (потребителей этих сервисов) при минимальном до них расстоянии.\n\n\n\nРазмещение и площадь распределительных складов Amazon с учетом расселения2\n\n\n\n\n\nПоиск наиболее оптимального расположения больниц3"
  },
  {
    "objectID": "02-location-allocation.html#общие-сведения",
    "href": "02-location-allocation.html#общие-сведения",
    "title": "Анализ размещения-распределения",
    "section": "",
    "text": "Анализ размещения-распределения (location-allocation analysis) необходим для решения двух основных задач:\n\nпоиск оптимального размещения объекта относительно точек спроса с учетом минимизации транспортных расходов (времени в пути или затрат на перевозку), например, размещение экстренных служб, которые должны располагаться так, чтобы время их прибытия было минимальным;\nпоиск оптимального распределения от размещаемого нового объекта до точек спроса с учетом минимизации транспортных расходов, например, размещение склада, с которого осуществляется доставка, или размещение даркстора службы доставки, чтобы максимально охватывать зоной доставки ближайшее окружение.\n\nОсновная часть решения таких задач сводится к определению медианного расположения: необходимо таким образом разместить медианную точку, чтобы минимизировать среднюю стоимость транспортировки с учетом спроса или расстояние между точками спроса и сервисом1. Параметры решения будут зависеть от трех показателей:\n\nколичество точек сервиса, которые необходимо разместить;\nколичество, тип и размещение точек спроса - точки спроса могут представлять собой как индивидуальные локации, так и центры полигонов (например, административно-территориальных единиц), наиболее простым случаем здесь будет являться небольшое число равномерно распределенных по территории точек спроса;\nтип рассчитываемого расстояния.\n\nФактически решение этой задачи сводится к линейной оптимизации.\n\\[ Min: \\sum_{a} \\sum_{b}g(Q(a,b)),\\ Q(a,b)\\geq0\n\\]\nгде \\(Q(a,b)\\) - трафик между источником \\(a\\) и пунктом назначения \\(b\\) , \\(g\\) - функция стоимости.\nТо есть \\(g(Q(a,b))\\) - транспортные расходы, связанные с перевозками из точки \\(a\\) в пункт назначения \\(b\\).\nДля анализа городской среды наиболее простым примером является поиск оптимального расположения объектов сервиса так, чтобы их зона обслуживания охватывала как можно больше горожан (потребителей этих сервисов) при минимальном до них расстоянии.\n\n\n\nРазмещение и площадь распределительных складов Amazon с учетом расселения2\n\n\n\n\n\nПоиск наиболее оптимального расположения больниц3"
  },
  {
    "objectID": "02-location-allocation.html#определение-ближайшего-сервиса-на-основе-матрицы-старт-назначение",
    "href": "02-location-allocation.html#определение-ближайшего-сервиса-на-основе-матрицы-старт-назначение",
    "title": "Анализ размещения-распределения",
    "section": "2 Определение ближайшего сервиса на основе матрицы старт-назначение",
    "text": "2 Определение ближайшего сервиса на основе матрицы старт-назначение\nВ этой работе мы определим ближайшую локацию сервиса относительно жилых домов с использованием матрицы старт-назначение.\n\n\n\n\n\n\nНа заметку\n\n\n\nМатрица старт-назначение - таблица, содержащая в себе значения времени или расстояния перевозки между всеми возможными парами стартовых точек и точек назначения.\n\n\n\n\n\nПример матрицы старт-назначение4\n\n\nПрактическое занятие основано на туториале.\n\n2.1 Исходные данные\nДля расчетов нам необходимо три набора данных:\n\nжилые дома (полигоны) - точки спроса, которые будут служит стартовыми точками для расчета матрицы старт-назначение;\nточки сервиса (точки), которые будут служить конечными точками при расчете матрицы старт-назначение (вы можете выбрать точки сервиса, которые посчитаете нужным);\nулично-дорожная сеть (линейные объекты) для расчета расстояния или времени в пути.\n\nВсе данные следует загрузить из OSM с использованием плагина QuickOSM.\n\n\n\n\n\n\nДополнительно\n\n\n\nКак пользоваться плагином описано по ссылке\n\n\nДля загрузки жилых домов будет использован запрос building=apartments.\nДля точек сервиса можно использовать одно из значений ключа amenity (подробнее здесь) или shop (подробнее про него здесь). Здесь будут использованы супермаркеты, поэтому был использован запрос shop=supermarket .\nОбъекты улично-дорожной сети определялись по запросу highway=primary or highway=secondary or highway=tertiary.\n\n\n\n\n\n\nВнимание\n\n\n\nВ нашем пример для построения маршрутов будут учитываться только наиболее крупные городские магистрали для ускорения и упрощения расчетов, что может привести к не очень реалистичной картине доступности сервисов. Если вы хотите выполнить расчет более корректно, лучше будет включить в него и более мелкие улицы. Полный перечень типов дорог и значений ключей для них приведен по ссылке.\n\n\n\n\n\nПодготовленный для анализа проект с загруженными слоями\n\n\n\n\n\n\n\n\nВнимание\n\n\n\nЧем больше будет ваша территория для анализа, тем дольше будет осуществляться расчет. То же самое касается и количества объектов: чем больше у вас домов или точек сервиса, тем дольше будут идти расчеты.\n\n\n\n\n2.2 Расчет матрицы старт-назначение\nДля расчета матрицы воспользуемся уже знакомым нам по прошлому семестру плагином QNEAT3.\nНо предварительно нужно подготовить наши данные о жилых домах: пока они у нас представлены в виде полигонов, но плагин может осуществлять расчеты только между двумя слоями точечных объектов, поэтому необходимо из полигонов получить точки.\nПерейти от точек к полигонам мы можем либо построив центроиды, либо воспользовавшись инструментом Точка на поверхности.\nВ первом варианте мы получим геометрические центры полигонов, но в случае сложной формы зданий, они могу лежать за его пределами, тогда как при использовании инструмента Точка на поверхность полученные точечные объекты будут гарантированно размещены внутри полигонов.\n\n\n\n\n\nВ данном случае было выбрано создавать точки для каждой части мультиполигонов, чтобы не были потеряны отдельные части зданий.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nДля улучшения качества расчетов можно воспользоваться не просто центром здания, а точками подъездов.\n\n\nДалее построим матрицу старт-назначение. Для этого воспользуемся инструментом OD Matrix from Layers as Lines (m:n). В данном случае мы построим не просто таблицу, а векторный линейный слой, в котором будут соединяться все возможные пары дом-супермаркет.\n\n\n\n\n\nВ качестве необходимых параметров следует указать:\n\nnetwork layer - слой, содержащий объекты улично-дорожной сети;\nfrom-point layer - слой стартовых точек;\nunique point ID field - уникальный идентификатор стартовых точек;\nto-point layer - слой конечных точек;\nunique point ID field - уникальный идентификатор конечных точек;\noptimization criterion - показатель, минимизируемый при расчете маршрута: кратчайший или быстрейший).\n\n\n\n\n\n\nВ дополнительных параметрах укажем среднюю скорость пешехода - 5 км/ч (default speed) и стиль генерации линий - по прямой (generated matrix geometry style). Второй вариант генерации линий будет повторять сегменты улично-дорожной сети, но такое построение требует большего времени и ресурса компьютера, поэтому остановимся на более простом варианте.\nПо результатам расчета вы получите довольно неясную картинку, в которой будет много пересекающихся между собой линий - это графическая интерпретация матрицы старт-назначение.\n\n\n\n\n\nЕсли вы откроете таблицу атрибутов полученного слоя, вы увидите собственно матрицу старт-назначение.\n\n\n\n\n\nОбратите внимание, что расстояние в пути (cost) представлено сразу четырьмя атрибутами:\n\nentry_cost - расстояние, которое нужно пройти, чтобы от стартовой точки попасть на ближайший сегмент улично-дорожной сети;\nnetwork_cost - расстояние, которое будет пройдено только по сегментам улично-дорожной сети;\nexit_cost - расстояние, которое нужно пройти от ближайшего к конечной точке сегмента улично-дорожной сети до конечной точки;\ntotal_cost - сумма перечисленных выше расстояний.\n\n\n\n2.3 Определение ближайшего объекта сервиса\nПоследний шаг нашего расчета - это из всех возможных пар жилой дом-супермаркет найти те, которые расположены ближе всего друг к другу. Для этого мы выполним SQL-запрос.\nВ качестве источника данных следует выбрать вычисленную матрицу старт-назначение (в моем случае это слой Output OD matrix), а сам запрос будет выглядеть следующим образом:\nselect origin_id, destination_id, min(total_cost) as shortest_distance, geometry\nfrom input1 group by origin_id\nТак как структура матрицы стандартна, то и запрос будет выглядеть у всех одинаково.\n\n\n\n\n\n\nДополнительно\n\n\n\nОбратите внимание на то, что в запросе использован поиск минимального значения для поля total_cost, так как нам необходимо найти ближайшие к жилым домам супермаркеты, кроме того здесь использован псевдоним этого поля (задается с помощью as).\nТакже следует отметить, что необходимо включать в запрос поле geometry, так как без него будет осуществлен только поиск прочих атрибутов и геометрия будет исключена.\n\n\nВ результате выполнения запроса будет получен новый слой, показывающий жители каких домов наиболее вероятно будут ходить в какие магазины, так как эти магазины являются к ним ближайшими. Также этот результат можно рассматривать как зоны обслуживания магазинов.\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nПроцесс может быть автоматизирован с помощью создания геомодели.\nПример геомодели для этого расчета можно скачать по ссылке."
  },
  {
    "objectID": "02-location-allocation.html#footnotes",
    "href": "02-location-allocation.html#footnotes",
    "title": "Анализ размещения-распределения",
    "section": "Сноски",
    "text": "Сноски\n\n\nОдин из классических методов решения медианной задачи описан по ссылке↩︎\nИсточник: https://transportgeography.org/contents/methods/location-allocation-models/weighted-median-location-amazon-distribution-facilities/↩︎\nИсточник: https://www.esri.com/about/newsroom/wp-content/uploads/2018/10/solving-a-public-health-problem.pdf↩︎\nИсточник: https://docs.platform-xyzt.ai/articles/origin-destination/introduction.html↩︎"
  },
  {
    "objectID": "03-gravity-model.html",
    "href": "03-gravity-model.html",
    "title": "Гравитационная модель Хаффа",
    "section": "",
    "text": "В качестве исходных данных нам необходимы:\n\nжилые дома - место жизни наших потенциальных покупателей;\nулично-дорожная сеть, которая будет использоваться для расчета времени в пути от жилого дома до магазина;\nслой с локациями торговых точек.\n\nПервые два слоя необходимо скачать из OSM аналогично исходным данным в предыдущей работе или же можно взять из предыдущей работы готовые данные.\nСлой с локациями торговых точек мы создадим самостоятельно. Для этого в строке меню необходимо выбрать Слой \\(\\longrightarrow\\) Создать слой \\(\\longrightarrow\\) Создать слой GeoPackage.\nДалее в открывшемся окне следует указать характеристики слоя:\n\nбаза данных - это путь к файлу, в котором будет храниться слой;\nимя таблицы - название слоя, которое будет отображаться в панели слоев;\nтип геометрии - нам нужны точечные объекты;\nсистема координат - можно оставить географическую систему координат по умолчанию, она будет совпадать с системой координат данных, скачанных из OSM;\nсписок полей, который будет включать два обязательных для нас поля - name (название магазина, текстовый формат данных) и area (площадь магазина в метрах квадратных, целое число).\n\n\n\n\n\n\nПосле создания слоя, его необходимо будет сделать редактируемым и нарисовать на карте несколько точек в разных частях исследуемой территории и заполнить для них атрибутивные данные - название магазина и площадь.\n\n\n\n\n\n\nВнимание\n\n\n\nНазвания точек должны быть уникальными, в противном случае модель не будет работать."
  },
  {
    "objectID": "03-gravity-model.html#исходные-данные",
    "href": "03-gravity-model.html#исходные-данные",
    "title": "Гравитационная модель Хаффа",
    "section": "",
    "text": "В качестве исходных данных нам необходимы:\n\nжилые дома - место жизни наших потенциальных покупателей;\nулично-дорожная сеть, которая будет использоваться для расчета времени в пути от жилого дома до магазина;\nслой с локациями торговых точек.\n\nПервые два слоя необходимо скачать из OSM аналогично исходным данным в предыдущей работе или же можно взять из предыдущей работы готовые данные.\nСлой с локациями торговых точек мы создадим самостоятельно. Для этого в строке меню необходимо выбрать Слой \\(\\longrightarrow\\) Создать слой \\(\\longrightarrow\\) Создать слой GeoPackage.\nДалее в открывшемся окне следует указать характеристики слоя:\n\nбаза данных - это путь к файлу, в котором будет храниться слой;\nимя таблицы - название слоя, которое будет отображаться в панели слоев;\nтип геометрии - нам нужны точечные объекты;\nсистема координат - можно оставить географическую систему координат по умолчанию, она будет совпадать с системой координат данных, скачанных из OSM;\nсписок полей, который будет включать два обязательных для нас поля - name (название магазина, текстовый формат данных) и area (площадь магазина в метрах квадратных, целое число).\n\n\n\n\n\n\nПосле создания слоя, его необходимо будет сделать редактируемым и нарисовать на карте несколько точек в разных частях исследуемой территории и заполнить для них атрибутивные данные - название магазина и площадь.\n\n\n\n\n\n\nВнимание\n\n\n\nНазвания точек должны быть уникальными, в противном случае модель не будет работать."
  },
  {
    "objectID": "03-gravity-model.html#geomodel",
    "href": "03-gravity-model.html#geomodel",
    "title": "Гравитационная модель Хаффа",
    "section": "2 Построение геомодели",
    "text": "2 Построение геомодели\nВ этой работе мы будем оценивать вероятность посещения того или иного магазина, исходя из их доступности и площади (как прокси-метрики разнообразия ассортимента), с использованием гравитационной модели Хаффа.\n\\[P_{ij} = \\frac{\\frac{S_{j}}{T^\\lambda_{ij}}}{\\sum_{j}^{n}\\frac{S_{j}}{T^\\lambda_{ij}}}\\]\n\n\\(P_{ij}\\) - вероятность того, что покупатель из локации \\(i\\) пойдет в магазин \\(j\\);\n\\(S_{j}\\) - площадь магазина \\(j\\);\n\\(T_{ij}\\) - время/расстояние, которое нужно преодолеть, чтобы попасть в магазин;\n\\(\\lambda\\) - параметр, отражающий влияние времени в пути на покупателя.\n\n\n\n\n\n\n\nВнимание\n\n\n\nМы воспользуемся упрощенной моделью, приняв параметр \\(\\lambda\\) равным единице, так как у нас нет подробных данных о предпочтениях покупателей.\n\n\nДля построения моделей будем использовать редактор моделей.\n\n\n\n\n\n\nДополнительно\n\n\n\nРедактор моделей позволяет выстроить последовательный процесс вычислений из цепочки операций с помощью простого графического интерфейса.\nПолученная геомодель позволяет автоматизировать вычисления и избежать вывода промежуточных результатов.\nПодробнее про построение геомоделей можно в документации\n\n\nОткрыть редактор моделей можно из строки меню Анализ данных \\(\\longrightarrow\\) Конструктор моделей или по клику на кнопку Модели в Панели инструментов анализа.\n\n\n\n\n\nВ открывшемся новом окне основная часть предназначена для отображения модели в графическом виде, слева панель данных и алгоритмов (переключаются по вкладкам внизу панели), свойства и переменные модели, а также история команд.\n\n\n\n\n\n\n2.1 Входные данные\nВ первую очередь зададим для нашей модели входные данные. В нашем случае все входные данные будут представлены в виде векторных слоев:\n\nздания - обязательный параметр, полигоны;\nмагазины - обазятельный параметр, точки;\nулично-дорожная сеть - обязательный параметр, линии.\n\n\n\n\n\n\n\nНа заметку\n\n\n\nОбязательный параметр - это тот, без включения которого в исходные данные запуск модели осуществляться не будет.\n\n\n\n\n\n\n\n\nВнимание\n\n\n\nЖелательно называть входные данные буквами английского алфавита, так как иногда они могут не добавляться в модель или работать некорректно при использовании кириллицы.\n\n\n\n\n\n\n\nВходные данные в модели обозначаются зеленым плюсом перед названием.\n\n\n\n\n\n\n\n2.2 Расчет матрицы старт-назначение между потребителями и сервисами\nТакже как и для анализа размещения-распределения нам необходимо преобразовать полигональные здания в точечные объекты с помощью инструмента Точка на поверхности.\n\n\n\n\n\nВ модели появится первый шаг, соединенный с одним из исходных параметров.\n\n\n\n\n\nДалее мы можем непосредственно рассчитать матрицу старт-назначение с использованием плагина QNEAT3.\n\n\n\n\n\nПараметры здесь указываются аналогично тому, как указывались просто в инструменте для построения матрицы.\nТак как нам здесь нет необходимости впоследствии визуально отображать пути покупателей от жилых домов до магазинов, то строить матрицу будем просто в виде таблицы на основе двух слоев.\n\n\n\n\n\n\nВнимание\n\n\n\nИдентификаторы объектов стартовых и конечных точек должны быть уникальными (внутри слоя естественно).\nВ нашем случае для стартовых точек (домов) будет использовать osm_id, который всегда будет уникальным и есть в этом слое, так как данные брались из OSM, а для магазинов будет использоваться поле имени name (поэтому нам очень важно, чтобы в этом слое названия магазинов были уникальными).\n\n\nТак как в качестве стартовых точек мы используем не непостредственно здания, а результат применения инструмента Точки на поверхности, то необходимо выбрать, что здесь мы хотим использовать результаты выхода этого алгоритма.\n\n\n\n\n\nПолученный результат будет представлен только в виде таблицы без атрибутов, которую можно присоединить к одному из векторных слоев.\nТак как мы будет рассчитывать вероятность посещения того или иного магазина для каждого из жилых домов, то основной расчет вероятности будет осуществляться внутри атрибутов жилых домов. Поэтому значения времени или расстояния из матрицы старт-назначение присоединим к слою жилых домов.\nПрисоединение будет осуществляться по совпадающим значениям полей: у исходного слоя есть osm_id, а в матрице есть origin_id - идентификатор стартовой точки, который был взят из osm_id исходного слоя.\n\n\n\n\n\n\n\n2.3 Расчет вероятности посещения конкретного сервиса\nЕсли мы обратимся к формуле в начале раздела, то увидим, что в формуле используется не только расстояние между потребителями и сервисом, но и площадь сервиса.\nПоэтому атрибуты магазинов тоже следует присоединить к слою жилых домов.\n\n\n\n\n\nПрисоединение здесь будет осуществляться по названию магазина к результатам предыдущего шага, поэтому в качестве связыющих полей будет использовано destination_id и поле name слоя с магазинами.\n\n\n\n\n\n\nНа заметку\n\n\n\nОбратите внимание, что тип объединения здесь один-ко-многим, то есть если с объектом исходного слоя совпадет более одного объекта присоединяемого слоя, то исходный объект будет продублирован и к нему присоединен атрибут второго совпавшего объекта.\nВ нашем случае это необходимо так как нужно рассчитать вероятность для всех магазинов и, если мы присоединим только первый совпавший по атрибуту, то в расчет мы сможем включить только его и таким образом получим безальтернативную вероятность посещения только одного магазина.\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nДля того, чтобы не запутаться в однотипных операциях в одинаковыми названиями, вы можете менять его в графе Описание (Description).\n\n\nСледующим шагом рассчитаем числитель в формуле: \\(\\frac{S_{j}}{T^\\lambda_{ij}}\\), разделив площадь каждого магазина на время в пути до него с помощью калькулятора полей.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nКалькулятор полей здесь устроен почти также как и стандартный калькулятор в таблице атрибутов. Все функции и формулы стандратны.\nОбязательно здесь необходимо указать название нового поля и тип данных.\n\n\nСледующим шагом нужно рассчитать знаменатель модели: \\(\\sum_{j}^{n}\\frac{S_{j}}{T^\\lambda_{ij}}\\).\nДля этого необходимо фактически просуммировать все полученные нами на предыдущем шаге значения, но только для каждого жилого дома и соответствующих магазинов. То есть нам нужно просуммировать не все значения по столбцу, а только значения соответствующие одному жилому дому.\nРасчет осуществим с использованием SQL-запроса и оконной функции внутри него.\n\n\n\n\n\n\nДополнительно\n\n\n\nОконная функция в SQL - функция, которая работает с выделенным набором строк (окном, партицией) и выполняет вычисление для этого набора строк в отдельном столбце.\nОсновное отличие оконной функции от группировки по параметру состоит в том, что количество строк в запросе не уменьшается по сравнении с исходной таблицей.\nПодробнее можно почитать по ссылке.\n\n\nПолучается, что в нашем запросе сначала таблица будет поделена на группы строк, соответствующие одному и тому же жилому дому (имеющие один и тот же индентификатор дома), а потом суммирование значений будет производиться только в пределах этих групп строк.\nСтруктура запроса:\nselect origin_id, destination_id, total_cost, area, area_time, geometry,  sum(area_time) over (partition by origin_id) as summa from input1\n\n\n\n\n\nИ последним шагом рассчитаем вероятность посещения того или иного магазина, еще раз использовав калькулятор полей и поделив друг на друга два полученных нами на последних шагах значения.\n\n\n\n\n\nЭтот результат уже можно рассматривать как итоговый и ввести его название, чтобы это считалось выводом всей модели.\n\n\n\n\n\nПолученная схема модели показана на рисунке ниже.\n\n\n\n\n\nПеред запуском модель можно проверить командой из строки меню Модель \\(\\longrightarrow\\) Проверить модель.\nЗапуск модели осуществляется либо по кнопке , либо из строки меню Модель \\(\\longrightarrow\\) Запустить модель.\nПосле запуска модель выглядит практически как стандартный инструмент из Панели инструментов анализа.\n\n\n\n\n\nПолученный результат на карте будет выглядеть идентично исходному слою жилых зданий, так как использовалась их неизмененная геометрия.\nСамая интересная часть результатов - это атрибутивная таблица со всеми значениями.\n\n\n\n\n\nВ этой таблице как раз можно увидеть повторяемость каждого из зданий (обратите внимание, что в колонке origin_id значения повторяются столько раз, сколько у вас было магазинов в примере):\n\norigin_id - идентификатор дома из исходных данных;\ndestination_id - идентификатор (название) магазина из исходных данных;\ntotal_cost - расстояние от конкретного дома до магазина из матрицы старт-назначение;\narea - площадь магазина из исходных данных;\narea_time - отношение площади магазина к расстоянию, рассчитанное на промежуточном этапе;\nsumma - сумма всех предыдущих значение для каждого дома;\nprobability - вероятность посещения конкретного магазина жителями этого дома.\n\n\n\n\n\n\n\nДополнительно\n\n\n\nПроверить корректность своих расчетов можно проверив два условия:\n\nвероятность (последняя колонка может находиться только в пределах от нуля до единицы);\nсумма вероятностей для каждого дома должна равняться единице.\n\n\n\nВ качестве финального этапа можем разделить полученный в итоге слой так, чтобы для каждого из магазинов был свой отдельный слой.\nДля этого воспользуемся инструментом Разбить векторный слой и разобьем его на отдельные слои по идентификаторам магазинов.\n\n\n\n\n\nЗдесь результат тоже будет выводиться как конечный.\nТаким образом, по результату запуска модели будет выводиться слой, содержащий вероятности по всем домам и магазинам, и слои, содержащие вероятности по отдельным магазинам (этих слоев будет столько, сколько было магазинов в исходном слое).\n\n\n\n\n\n\nДополнительно\n\n\n\nПри необходимости вы можете сделать столько выводов из модели, сколько посчитаете нужным.\n\n\n\n\n\n\n\nОкно запуска модели немного изменится: в нем появится возможность выбора папки для сохранения наших результатов разделения слоя.\n\n\n\n\n\nВ выбранной папке по результатам работы модели появятся файлы с префиксом destination_id_ и названием магазина: .\nАтрибутивная таблица сохранит свою структуру, но, естественно будет содержать только данные по одному из магазинов.\n\n\n\n\n\nПолученная модель может быть сохранена как отдельный файл в формате .model3 (Модель \\(\\longrightarrow\\) Сохранить модель как) или как часть проекта (Модель \\(\\longrightarrow\\) Сохранить модель в проекте).\n\n\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nЕсли бы было известно количество жителей в каждом доме, то можно было бы рассчитать потенциальное число покупателей для каждого из магазинов по формуле:\n\\[\nE_{ij} = P_{ij}C_{i}\n\\]\nгде \\(E_{ij}\\) - предполагаемое количество покупателей из локации \\(i\\), которые пойдут в магазин \\(j\\);\n\\(P_{ij}\\) - вероятность того, что покупатель из локации \\(i\\) пойдет в магазин \\(j\\);\n\\(C_{i}\\) - количество покупателей в локации \\(i\\).\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nРабочий пример геомодели можно скачать по ссылке.\nОбратите внимание на названия полей для таблицы в магазинами в геомодели - они такие же, как описаны выше в тексте, если вы называли их по-другому, то их нужно исправить в геомодели."
  },
  {
    "objectID": "01-remote-sensing-basics.html#временное-разрешение",
    "href": "01-remote-sensing-basics.html#временное-разрешение",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Временное разрешение",
    "text": "Временное разрешение\nВременное разрешение определяет, как часто датчик получает изображение определенной области на поверхности Земли.\nЗависит от высоты орбиты, количества спутников, ширины полосы охвата.\n\nИсточник: https://portal.tpu.ru/SHARED/o/OST/teaching1/IPRSD/RS_Lecture2.pdf"
  },
  {
    "objectID": "01-remote-sensing-basics.html#спектральное-разрешение",
    "href": "01-remote-sensing-basics.html#спектральное-разрешение",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Спектральное разрешение",
    "text": "Спектральное разрешение\nСоответствует количеству диапазонов электромагнитного спектра и размеру зон съемки, регистрируемых съемочной аппаратурой.\n\n\nСъемочная аппаратура и снимки, получаемые с ее помощью, делятся на:\n\nмонохроматические (однозональные, интегральные или панхроматические);\nмультиспектральные (от 2 до 10 регистрируемых диапазонов);\nгиперспектральные (может быть более 100 зон).\n\n\n\n\n\nИсточник: https://eo.belspo.be/en/iii21-spectral-resolutionИсточник: https://eo.belspo.be/en/iii21-spectral-resolution"
  },
  {
    "objectID": "01-remote-sensing-basics.html#пространственное-разрешение",
    "href": "01-remote-sensing-basics.html#пространственное-разрешение",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Пространственное разрешение",
    "text": "Пространственное разрешение\nПространственное разрешение (размер пиксела) — это параметр, который связан с размером пиксела — областью на поверхности земли, которая покрывается одним пикселом. Например, если площадь покрыта пикселом размером 1 на 1 метр, то пространственное разрешение будет 1 метр. Чем выше разрешение изображения, тем меньше размер пиксела, тем выше детальность.\nРазличают системы (и космические снимки):\n\nнизкого (R &gt; 500);\nсреднего (20 ≤R ≤ 500 м);\nвысокого ( &lt; 20 м);\nсверхвысокого ( R ≤ 2 м) пространственного разрешения."
  },
  {
    "objectID": "01-remote-sensing-basics.html#радиометрическое-разрешение",
    "href": "01-remote-sensing-basics.html#радиометрическое-разрешение",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Радиометрическое разрешение",
    "text": "Радиометрическое разрешение\nРадиометрическое разрешение снимков определяется шириной динамического диапазона используемого датчика (количеством уровней дискретизации, соответствующих переходу от яркости абсолютно черного к абсолютно белому цвету.\nРадиометрическое разрешение указывается числом бит. РР 8 бит соответствует 256 уровням градации яркости.\n\nИсточник: https://www.usgs.gov/media/images/radiometric-resolution-example"
  },
  {
    "objectID": "01-remote-sensing-basics.html#классификация-по-уровням-обработки",
    "href": "01-remote-sensing-basics.html#классификация-по-уровням-обработки",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Классификация по уровням обработки",
    "text": "Классификация по уровням обработки"
  },
  {
    "objectID": "01-remote-sensing-basics.html#использование-материалов-дзз",
    "href": "01-remote-sensing-basics.html#использование-материалов-дзз",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Использование материалов ДЗЗ",
    "text": "Использование материалов ДЗЗ"
  },
  {
    "objectID": "01-remote-sensing-basics.html#сегментация-и-классификация-изображений",
    "href": "01-remote-sensing-basics.html#сегментация-и-классификация-изображений",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Сегментация и классификация изображений",
    "text": "Сегментация и классификация изображений\n\nКлассификация присваивает метки и классы областям на изображении и предоставляет информацию о классе объекта ‑ имя и прогнозную вероятность (уровень достоверности);\nобнаружение/распознавание объектов (object detection) заключается в локализации и идентификации конкретных объектов, представляющих интерес, при которой получают не только класс объекта, но и его местоположение на изображении;\nсегментация – процесс разбиения изображения на значимые области для идентификации объектов, представляющих интерес, в ходе этого процесса информация дополняется формой объекта."
  },
  {
    "objectID": "01-remote-sensing-basics.html#footnotes",
    "href": "01-remote-sensing-basics.html#footnotes",
    "title": "Общие сведения о дистанционном зондировании",
    "section": "Сноски",
    "text": "Сноски\n\n\nTomlin, Dana. 2012. GIS and Cartographic Modeling. 2nd Editio. ESRI Press\nhttps://gis-lab.info/qa/vi.html\nhttps://www.usgs.gov/landsat-missions/landsat-surface-reflectance-derived-spectral-indices"
  },
  {
    "objectID": "Homework.html",
    "href": "Homework.html",
    "title": "Homework assignment / Домашнее задание",
    "section": "",
    "text": "В рамках домашнего задания вам нужно выбрать набор данных, построить для него матрицу пространственных весов и протестировать датасет на пространственную автокорреляцию.\nВ качестве исходных данных вы можете взять любой датасет: ваш собственный, чей-то готовый (например, отсюда) или синтетический. Выбор исходных данных полностью за вами.\nНельзя пользоваться набором данных, который был на занятиях. Такие работы приняты не будут.\nЧто необходимо сделать в работе и отобразить в отчете:\n\nчто за набор данных вы использовали, кратко его описать;\nвизуализировать на карте переменную, которую вы будете тестировать на пространственную автокорреляцию;\nпостроить матрицу весов (можно несколько со сравнением и последующим выбором одной из них);\nпараметры матрицы весов: гистограмма, карта связности, граф связности;\nрассчитать глобальную пространственную автокорреляцию (индекс Морана);\nрассчитать локальню пространственную автокорреляцию и построить кластеры по ее результатам;\nпроанализировать и проинтерпретировать результаты тестирования на пространственную автокорреляцию.\n\nПри необходимости для интерпретации вы можете использовать дополнительные данные.\nОтчет может быть написан в свободной форме.\nОтчет в формате pdf или doc можно загрузить по ссылке.\nСрок сдачи: до 18 мая включительно."
  },
  {
    "objectID": "Homework.html#домашнее-задание",
    "href": "Homework.html#домашнее-задание",
    "title": "Homework assignment / Домашнее задание",
    "section": "",
    "text": "В рамках домашнего задания вам нужно выбрать набор данных, построить для него матрицу пространственных весов и протестировать датасет на пространственную автокорреляцию.\nВ качестве исходных данных вы можете взять любой датасет: ваш собственный, чей-то готовый (например, отсюда) или синтетический. Выбор исходных данных полностью за вами.\nНельзя пользоваться набором данных, который был на занятиях. Такие работы приняты не будут.\nЧто необходимо сделать в работе и отобразить в отчете:\n\nчто за набор данных вы использовали, кратко его описать;\nвизуализировать на карте переменную, которую вы будете тестировать на пространственную автокорреляцию;\nпостроить матрицу весов (можно несколько со сравнением и последующим выбором одной из них);\nпараметры матрицы весов: гистограмма, карта связности, граф связности;\nрассчитать глобальную пространственную автокорреляцию (индекс Морана);\nрассчитать локальню пространственную автокорреляцию и построить кластеры по ее результатам;\nпроанализировать и проинтерпретировать результаты тестирования на пространственную автокорреляцию.\n\nПри необходимости для интерпретации вы можете использовать дополнительные данные.\nОтчет может быть написан в свободной форме.\nОтчет в формате pdf или doc можно загрузить по ссылке.\nСрок сдачи: до 18 мая включительно."
  },
  {
    "objectID": "Homework.html#homework",
    "href": "Homework.html#homework",
    "title": "Homework assignment / Домашнее задание",
    "section": "2 Homework",
    "text": "2 Homework\nAs part of your homework, you need to choose a dataset, calculate a spatial weight matrix for it, and test for spatial autocorrelation.\nYou can use any dataset as input: your own, someone else’s (e.g. from here) or synthetic. The choice of data is entirely up to you.\nYou may not use a dataset that has been used in class. Those submissions will not be accepted.\nWhat you need to do in the work and in the report:\n\nwhich dataset you used, briefly describe it;\nvisualise on the map the variable you are going to test for spatial autocorrelation;\ncalculate a weight matrix (you can construct several with comparison and subsequent selection of one of them);\nparameters of the weight matrix: histogram, connectivity map, connectivity graph;\ncalculate global spatial autocorrelation (Moran index);\ncalculate local spatial autocorrelation (local Moran index);\ncalculate local spatial autocorrelation (local Moran index) and clusters of values;\nanalyze and interpret your results.\n\nYou can use any additional data if it will help you to interpret results.\nYou can submit your free-form written report in pdf or doc file via link.\nSubmission deadline: 18th of May."
  },
  {
    "objectID": "03-remote-sensing-basics.html",
    "href": "03-remote-sensing-basics.html",
    "title": "Основы работы с данными дистанционного зондирования",
    "section": "",
    "text": "После того, как вы скачаете архив со снимками и распакуете его, вы увидите сразу несколько файлов в различных форматах. Основными из них, конечно, являются файлы в формате .geotiff, содержащие в себе собственно снимки.\n\n\n\nПример распакованного архива со снимками Landsat 8\n\n\n\n\n\nПример распакованного архива со снимками Landsat 7\n\n\nВсе снимки миссий Landsat названы с использованием определенной структуры1\nLXSS_LLLL_PPPRRR_YYYYMMDD_yyyymmdd_CC_TX\n\nL = Landsat\nX = сенсор (“C”=OLI/TIRS combined, “O”=OLI-only, “T”=TIRS-only, “E”=ETM+, “T”=“TM, “M”=MSS)\nSS = спутник (”07”=Landsat 7, “08”=Landsat 8)\nLLL = уровень обработки (L1TP/L1GT/L1GS)\nPPP = WRS path\nRRR = WRS row\nYYYYMMDD = дата съемки в формате год, месяц, день\nyyyymmdd - дата обработки в формате год, месяц, день\nCC = номер коллекции (01, 02, …)\nTX = категория коллекции (“RT”=Real-Time, “T1”=Tier 1, “T2”=Tier 2)\n\nExample: LC08_L1GT_029030_20151209_20160131_01_RT\nMeans: Landsat 8; OLI/TIRS combined; processing correction level L1GT; path 029; row 030; acquired December 9, 2015; processed January 31, 2016; Collection 1; Real-Time\nНепосредственно к самим снимкам еще прибавляется номер спектрального канала в виде _B1, где B - band (канал) и цифра - его номер."
  },
  {
    "objectID": "03-remote-sensing-basics.html#именование-снимков",
    "href": "03-remote-sensing-basics.html#именование-снимков",
    "title": "Основы работы с данными дистанционного зондирования",
    "section": "",
    "text": "После того, как вы скачаете архив со снимками и распакуете его, вы увидите сразу несколько файлов в различных форматах. Основными из них, конечно, являются файлы в формате .geotiff, содержащие в себе собственно снимки.\n\n\n\nПример распакованного архива со снимками Landsat 8\n\n\n\n\n\nПример распакованного архива со снимками Landsat 7\n\n\nВсе снимки миссий Landsat названы с использованием определенной структуры1\nLXSS_LLLL_PPPRRR_YYYYMMDD_yyyymmdd_CC_TX\n\nL = Landsat\nX = сенсор (“C”=OLI/TIRS combined, “O”=OLI-only, “T”=TIRS-only, “E”=ETM+, “T”=“TM, “M”=MSS)\nSS = спутник (”07”=Landsat 7, “08”=Landsat 8)\nLLL = уровень обработки (L1TP/L1GT/L1GS)\nPPP = WRS path\nRRR = WRS row\nYYYYMMDD = дата съемки в формате год, месяц, день\nyyyymmdd - дата обработки в формате год, месяц, день\nCC = номер коллекции (01, 02, …)\nTX = категория коллекции (“RT”=Real-Time, “T1”=Tier 1, “T2”=Tier 2)\n\nExample: LC08_L1GT_029030_20151209_20160131_01_RT\nMeans: Landsat 8; OLI/TIRS combined; processing correction level L1GT; path 029; row 030; acquired December 9, 2015; processed January 31, 2016; Collection 1; Real-Time\nНепосредственно к самим снимкам еще прибавляется номер спектрального канала в виде _B1, где B - band (канал) и цифра - его номер."
  },
  {
    "objectID": "03-remote-sensing-basics.html#обрезка-снимка",
    "href": "03-remote-sensing-basics.html#обрезка-снимка",
    "title": "Основы работы с данными дистанционного зондирования",
    "section": "2 Обрезка снимка",
    "text": "2 Обрезка снимка\nСнимок можно открыть как любое растровое изображение через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить растровый слой или просто перетащив его из папки в основное окно программы.\n\n\n\n\n\nТак как эти снимки уже имеют географическую привязку, то они они будут расположены на нужной вам территории.\nКаждый снимок содержит в себе только один канал, поэтому будет показан монохромным изображением.\n\n\n\n\n\nЕсли вам не нужен весь снимок целиком (например, если интересует только конкретный фрагмент города), то его можно обрезать. В QGIS есть два варианта обрезки растра по экстенту и по маске.\n\n\n\n\n\nПри обрезке по охвату растр необходимо просто указать границы обрезки, которые могут быть заданы по текущему виду карты, одному из слоев или просто указаны на карте.\n\n\n\n\n\nОбрезка растра по маске происходит с помощью существующих объектов векторного слоя. Так, например, в качестве маски можно использовать слой с границей города."
  },
  {
    "objectID": "03-remote-sensing-basics.html#создание-цветного-композитного-изображения",
    "href": "03-remote-sensing-basics.html#создание-цветного-композитного-изображения",
    "title": "Основы работы с данными дистанционного зондирования",
    "section": "3 Создание цветного композитного изображения",
    "text": "3 Создание цветного композитного изображения\nПо умолчанию каждый снимок содержит в себе только часть спектра или один канал. Для того, чтобы изображение стало цветным, необходимо собрать цветной композит из отдельных каналов.\n\n\n\n\n\nСделать это можно с использованием инструмента Результат объединения (в строке меню Растр \\(\\longrightarrow\\) Прочее \\(\\longrightarrow\\) Результат объединения).\n\n\n\n\n\nКомбинации каналов2\n\n\n\n\n\n\n\n\nКомбинация Landsat 5,7\nКомбинация Landsat 8\nВозможная информация\n\n\n\n\n4,3,2\n5,4,3\nСтандартная комбинация «искусственные цвета». Растительность отображается в оттенках красного, городская застройка – зелено-голубых, а цвет почвы варьируется от темно до светло коричневого. Лед, снег и облака выглядят белыми или светло голубыми (лед и облака по краям). Хвойные леса будут выглядеть более темно-красными или даже коричневыми по сравнению с лиственными. Эта комбинация очень популярна и используется, главным образом, для изучения состояния растительного покрова, мониторинга дренажа и почвенной мозаики, а также для изучения агрокультур. В целом, насыщенные оттенки красного являются индикаторами здоровой и (или) широколиственной растительности, в то время как более светлые оттенки характеризуют травянистую или редколесья/кустарниковую растительность.\n\n\n3,2,1\n4,3,2\nКомбинация «естественные цвета». В этой комбинации используются каналы видимо диапазона, поэтому объекты земной поверхности выглядят похожими на то, как они воспринимаются человеческим глазом. Здоровая растительность выглядит зеленой, убранные поля – светлыми, нездоровая растительность – коричневой и желтой, дороги – серыми, береговые линии – белесыми. Эта комбинация каналов дает возможность анализировать состояние водных объектов и процессы седиментации, оценивать глубины. Также используется для изучения антропогенных объектов. Вырубки и разреженная растительность детектируются плохо, в отличие от комбинации 4-5-1 или 4-3-2. Облака и снег выглядят одинаково белыми и трудноразличимы. Кроме того, трудно отделить один тип растительности от другого. Эта комбинация не позволяет отличить мелководье от почв в отличие от комбинации 7-5-3.\n\n\n7,4,2\n7,5,3\nЭта комбинация дает изображение близкое к естественным цветам, но в тоже время позволяет анализировать состояние атмосферы и дым. Здоровая растительность выглядит ярко зеленой, травянистые сообщества – зелеными, ярко розовые участки детектируют открытую почву, коричневые и оранжевые тона характерны для разреженной растительности. Сухостойная растительность выглядит оранжевой, вода- голубой. Песок, почва и минералы могут быть представлены очень большим числом цветов и оттенков. Эта комбинация дает великолепный результат при анализе пустынь и опустыненных территорий. Кроме того, может быть использована для изучения сельскохозяйственных земель и водно-болотных угодий. Сгоревшие территории будут выглядеть ярко красными. Эта комбинация используется для изучения динамики пожаров и пост-пожарного анализа территории. Городская застройка отображается в оттенках розово-фиолетового, травянистые сообщества – зелеными и светло зелеными. Светло зеленые точки внутри городских территорий могут быть парками, садами или полями для гольфа (актуально для России :)). Оливково-зеленый цвет характерен для лесных массивов и более темный цвет является индикатором примеси хвойных пород.\n\n\n4,5,1\n5,6,2\nЗдоровая растительность отображается в оттенках красного, коричневого, оранжевого и зеленого. Почвы могут выглядеть зелеными или коричневыми, урбанизированные территории – белесыми, серыми и зелено-голубыми, ярко голубой цвет может детектировать недавно вырубленные территории, а красноватые – восстановление растительности или разреженную растительность. Чистая, глубокая вода будет выглядеть очень темно синей (почти черной), если же это мелководье или в воде содержится большое количество взвесей, то в цвете будут преобладать более светлые синие оттенки. Добавление среднего инфракрасного канала позволяет добиться хорошей различимости возраста растительности. Здоровая растительность дает очень сильное отражение в 4 и 5 каналах. Использование комбинации 3-2-1 параллельно с этой комбинацией позволяет различать затопляемые территории и растительность. Эта комбинация малопригодна для детектирования дорог и шоссе.\n\n\n4,5,3\n5,6,4\nЭта комбинация ближнего, среднего ИК-каналов и красного видимого канала позволяет четко различить границу между водой и сушей и подчеркнуть скрытые детали плохо видимые при использовании только каналов видимого диапазона. С большой точностью будут детектироваться водные объекты внутри суши. Эта комбинация отображает растительность в различных оттенках и тонах коричневого, зеленого и оранжевого. Эта комбинация дает возможность анализа влажности и полезны при изучении почв и растительного покрова. В целом, чем выше влажность почв, тем темнее она будет выглядеть, что обусловлено поглощением водой излучения ИК диапазона.\n\n\n7,5,3\n7,6,4\nЭта комбинация дает изображение близкое к естественным цветам, но в тоже время позволяет анализировать состояние атмосферы и дым. Растительность отображается в оттенках темно и светло зеленого, урбанизированные территории выглядят белыми, зелено-голубыми и малиновыми, почвы, песок и минералы могут быть очень разных цветов. Практически полное поглощение излечения в среднем ИК-диапазоне водой, снегом и льдом позволяет очень четко выделять береговую линию и подчеркнуть водные объекты на снимке. Горячие точки (как, например, кальдеры вулканов и пожары) выглядят красноватыми или желтыми. Одно из возможных применений этой комбинации каналов – мониторинг пожаров. Затопляемые территории выглядят очень темно синими и почти черными, в отличие от комбинации 3-2-1, где они выглядят серыми и плохо различимы.\n\n\n5,4,3\n6,5,4\nКак и комбинация 4-5-1 эта комбинация дает дешифровщику очень много информации и цветовых контрастов. Здоровая растительность выглядит ярко зеленой, а почвы – розовато-лиловыми. В отличие от 7-4-2, включающей 7 канал и позволяющей изучать геологические процессы, эта комбинация дает возможность анализировать сельскохозяйственные угодья. Эта комбинация очень удобна для изучения растительного покрова и широко используется для анализа состояния лесных сообществ.\n\n\n5,4,1\n6,5,2\nКомбинация похожа на 7-4-2, здоровая растительность выглядит ярко зеленой, за исключением того, что эта комбинация лучше для анализа сельскохозяйственных культур.\n\n\n7,5,4\n7,6,5\nЭта комбинация не включает ни одного канала из видимого диапазона, и обеспечивает оптимальный анализ состояния атмосферы. Береговые линии четко различимы. Может быть использован для анализа текстуры и влажности почв. Растительность выглядит голубой.\n\n\n5,3,1\n6,4,2\nЭта комбинация показывает топографические текстуры, в то время как 7-3-1 позволяет различить горные породы.\n\n\n\nСоберем снимок в естественных цветах. Для этого откроем инструмент Результат объединения и в открывшемся окне установим необходимые параметры.\n\n\n\n\n\nВ качестве исходных выберем растры каналов 4, 3 и 2.\n\n\n\n\n\nКаждый входной слой необходимо поместить в отдельный канал.\n\n\n\n\n\n\nВажное уведомление\n\n\n\nОчень важно здесь правильно указать последовательность каналов (сверху вниз): 4-3-2 (то есть красный-синий-зеленый или стандартное изображение RGB).\nПри необходимости каналы можно перетаскивать мышкой в таблице выбора входных слоев.\nЕсли вы укажете другую последовательность, то изображение будет выглядеть пропущенным через цветной фильтр.\n\n\n\nЦветной композит в естественных цветах с правильной последовательностью каналов\n\n\n\n\n\nЦветной композит в естественных цветах с неправильной последовательностью каналов\n\n\n\n\nПолученное изображение можно настраивать по контрасту.\n\n\n\n\n\n\n\n\nСнимок в естественных цветах с настройкой контраста\n\n\n\n\n\nКомпозит в искусственных цветах (5-4-3): растительность отображается в оттенках красного, городская застройка – зелено-голубых, а цвет почвы варьируется от темно до светло коричневого. Лед, снег и облака выглядят белыми или светло голубыми (лед и облака по краям)."
  },
  {
    "objectID": "03-remote-sensing-basics.html#создание-виртуального-растра",
    "href": "03-remote-sensing-basics.html#создание-виртуального-растра",
    "title": "Основы работы с данными дистанционного зондирования",
    "section": "4 Создание виртуального растра",
    "text": "4 Создание виртуального растра\nКроме создания нового файла с растром, содержащим композитное изображение, вы можете создать виртуальный растр, который по своей сути не является растровым файлом, а скорее является каталогом уже имеющихся растров.\nКак правило, виртуальные растры создаются для упрощения работы, чтобы избежать необходимости создания объемных мозаик и больших растровых изображений.\n\n\n\n\n\nОстальные настройки будут аналогичны предыдущему разделу.\n\n\n\n\n\n\n\n\nСнимок в естественных цветах (виртуальный растр)\n\n\n\n\n\n\n\n\nВнимание\n\n\n\nРазница в яркости скорее всего объясняется тем, что при построении композита в виде просто растрового файла исходные растры накладываются друг на друга и смешиваются, тогда как в виртуальном растре они просто размещаются вместе и менее взаимодействуют."
  },
  {
    "objectID": "03-remote-sensing-basics.html#footnotes",
    "href": "03-remote-sensing-basics.html#footnotes",
    "title": "Основы работы с данными дистанционного зондирования",
    "section": "Сноски",
    "text": "Сноски\n\n\nWhat is the naming convention for Landsat Collections Level-1 scenes? - https://www.usgs.gov/faqs/what-naming-convention-landsat-collections-level-1-scenes↩︎\nИнтерпретация комбинаций каналов данных Landsat TM / ETM+ https://gis-lab.info/qa/landsat-bandcomb.html↩︎"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Пространственный анализ урбанизированных территорий",
    "section": "",
    "text": "Материалы для практических занятий по курсу “Пространственный анализ урбанизированных территорий”, весна 2025/2026.\nКурс является продолжением курса по дисциплине “Геоинформатика и геоинформационные системы” и нацелен на изучение методов пространственного анализа территорий с использованием геоинформационных систем.\nЧасть курса будет основана на работе в QGIS, вторая часть, посвященная пространственной статистике будет использовать программу GeoDa.\n\n\n\n\n\n\nЦитирование материалов\n\n\n\nБалтыжакова Т.И. Пространственный анализ урбанизированных территорий : сайт. 2025. — URL: https://baltti.github.io/spatial-analysis/. DOI: 10.5281/zenodo.15535490",
    "crumbs": [
      "Курс лекций",
      "О курсе"
    ]
  },
  {
    "objectID": "08-online-mapping.html",
    "href": "08-online-mapping.html",
    "title": "Онлайн-платформы для создания карт",
    "section": "",
    "text": "Не всегда для подготовки и публикации карт может быть использовано специализированное ПО. С развитием сферы инфографики и визуализации данных некоторые сервисы предлагают возможность создания и подготовки карт прямо в браузере.\nОдним из общедоступных онлайн-сервисов для создания графиков и диаграмм является Datawrapper https://www.datawrapper.de/, который позволяет работать в окне браузера без установки на компьютер.\nПочитать про создание карт и особенности можно в блоге сервиса https://blog.datawrapper.de/category/maps/ или в общей информации о картах https://www.datawrapper.de/maps\nДля начала работы на странице https://www.datawrapper.de/maps нужно нажать кнопку Build your own map, которая переведет вас на страницу создания новой карты https://app.datawrapper.de/select/map.\n\n\n\n\n\n\nВнимание\n\n\n\nРекомендую аккуратно относиться к шаблонам для Российской федерации, так как они могут не соответствовать актуальным границам\n\n\n\n\n\nДля создания плиточной карты России можно воспользоваться онлайн-сервисом Tilemapper, в котором есть шаблон плиточной карты со всеми регионами https://mizinov.pro/tilemapper.\nСервис создан разработчиком Антоном Мизиновым (https://t.me/antonmizinov)."
  },
  {
    "objectID": "08-online-mapping.html#сервисы-визуализации",
    "href": "08-online-mapping.html#сервисы-визуализации",
    "title": "Онлайн-платформы для создания карт",
    "section": "",
    "text": "Не всегда для подготовки и публикации карт может быть использовано специализированное ПО. С развитием сферы инфографики и визуализации данных некоторые сервисы предлагают возможность создания и подготовки карт прямо в браузере.\nОдним из общедоступных онлайн-сервисов для создания графиков и диаграмм является Datawrapper https://www.datawrapper.de/, который позволяет работать в окне браузера без установки на компьютер.\nПочитать про создание карт и особенности можно в блоге сервиса https://blog.datawrapper.de/category/maps/ или в общей информации о картах https://www.datawrapper.de/maps\nДля начала работы на странице https://www.datawrapper.de/maps нужно нажать кнопку Build your own map, которая переведет вас на страницу создания новой карты https://app.datawrapper.de/select/map.\n\n\n\n\n\n\nВнимание\n\n\n\nРекомендую аккуратно относиться к шаблонам для Российской федерации, так как они могут не соответствовать актуальным границам\n\n\n\n\n\nДля создания плиточной карты России можно воспользоваться онлайн-сервисом Tilemapper, в котором есть шаблон плиточной карты со всеми регионами https://mizinov.pro/tilemapper.\nСервис создан разработчиком Антоном Мизиновым (https://t.me/antonmizinov)."
  },
  {
    "objectID": "08-online-mapping.html#платформа-foursquare-studio",
    "href": "08-online-mapping.html#платформа-foursquare-studio",
    "title": "Онлайн-платформы для создания карт",
    "section": "2 Платформа Foursquare studio",
    "text": "2 Платформа Foursquare studio\nFoursquare studio https://studio.foursquare.com/\n\n\n\n\n\n\nНа заметку\n\n\n\nИзначально платформа создавалась как один из проектов для анализа данных Uber и по-прежнему существует в виде сервиса https://kepler.gl/. Большинство функций пришло именно оттуда.\nЭтот сервис также можно использовать для быстрой визуализации пространственных данных, но у него нет бэк-энда, поэтому результаты не сохраняются на платформе.\nУ платформы открытый исходный код, при желании ее можно развернуть на собственном сервере.\nВпоследствии разработчики организовали стартап, который был выкуплен компанией Foursquare.\n\n\nБольшим преимуществом этой платформы, как и большинства других является то, что ваши карты сохраняются в личном кабинете и могут быть доступны с разных девайсов.\nИспользование сервиса бесплатное, но имеет ограничения на количество загружаемых вами данных и количество созданных карт.\n\n\nС примерами карт можно ознакомиться в галерее https://studio.foursquare.com/sample-maps\n\n\n\n\n\n\nДополнительно\n\n\n\nДля платформы разработан модуль для QGIS, позволяющий создавать карты в нем и размещать на платформе.\nДокументацию по нему можно почитать либо на github, либо в документации платформы.\n\n\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nПохожая платформа - Felt https://felt.com/\nОднако эта платформа предоставляет только 14 дней бесплатного пробного использования."
  },
  {
    "objectID": "08-online-mapping.html#отечественные-платформы",
    "href": "08-online-mapping.html#отечественные-платформы",
    "title": "Онлайн-платформы для создания карт",
    "section": "3 Отечественные платформы",
    "text": "3 Отечественные платформы\n\n3.1 NextGIS\nСсылка на платформу https://nextgis.ru/nextgis-com/\n\n\n\n\n\nНаверно, один из самых старых разработчиков геоинформационных продуктов в нашей стране.\nПлатформа является условно бесплатной, так как имеет ограниченную бесплатную версию.\n\n\n\n\n\nВидео туториалы по работе с платформой можно посмотреть на канале https://rutube.ru/u/nextgis/.\nДокументация доступна по ссылке https://docs.nextgis.ru/docs_ngweb/source/index.html.\n\n\n\n\n\n\nДополнительно\n\n\n\nТакже имеет собственную вариацию программы QGIS для совместной работы с платформой.\nИспользуйте настольную программу NextGIS QGIS для управления вашими картами и данными, которые хранятся в облачной Веб ГИС.\n\nПубликация проектов QGIS в вашей Веб ГИС\nМгновенное редактирование веб-карт в облаке через QGIS\n\n\n\n\n\n\n\n\n\n\n\n\n3.2 Геосемантика\nСсылка на платформу https://geosemantica.ru/platforma_geosemantica\nПодробные туториалы по работе с платформой:\n\n\nКак и предыдущая платформа является условно бесплатной.\n\n\n\n\n\n\n\n3.3 EverGIS\nСсылка на платформу https://evergis.ru/\nКажется единственная бесплатная платформа аналогично Foursquare studio.\n\n\n\n\n\n\nЕще большим преимуществом этой платформы является то, что здесь есть некоторые функции пространственного анализа, например:\n\nбуферные зоны\n\n\n\n\nзоны доступности (изохроны)\n\n\n\n\n\n3.4 FlexGIS\nСсылка на платформу https://flexgis.ru/\n\n\n\n\n\n\n\n\n\n\n\n\nОбщественные пространства Перми\n\n\nИнструкции по работе с платформой доступны по ссылке https://flexgis.ru/instructions\n\n\n\n\n\n\n3.4.1 GeoHub\nСсылка на платформу https://geohub.ru/\nДокументация платформы https://docs.geohub.ru/"
  },
  {
    "objectID": "01-point-pattern-analysis.html",
    "href": "01-point-pattern-analysis.html",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "",
    "text": "Для практической работы по теме используется геоинформационная система QGIS."
  },
  {
    "objectID": "01-point-pattern-analysis.html#data",
    "href": "01-point-pattern-analysis.html#data",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "1 Исходные данные",
    "text": "1 Исходные данные\nВ качестве исходных данных для работы будут использованы сведения о преступлениях в Сан-Франциско.\nВсе наборы данных доступен по ссылке.\nВ скачанном архиве вы найдете две папки:\n\nCrime events - векторные слои точечных объектов в формате shapefile для нескольких типов преступлений;\nSF PD Plots - агрегированные по округам данные.\n\nТак как темой занятия является анализ точечных паттернов, то вам понадобится один из слоев из папки Crime events:\n\nsf_cartheft.shp - угоны машин;\nsf_drugs.shp - случаи торговли наркотиками;\nsf_roberry.shp - ограбления;\nsf_vandalism.shp - случаи вандализма.\n\n\n\n\n\n\n\nВнимание\n\n\n\nНе забывайте, что shapefile - это коварный формат и вам нужен не только файл с расширением .shp, но и все другие с таким же именем, но другими расширениями.\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\nОписание атрибута\n\n\n\n\nIncidntNum\nUnique identifier for each incident report\nИдентификатор инцидента\n\n\nX_pr\nProjected X-coordinates\nКоордината Х в прямоугнольной системе координат\n\n\nY_pr\nProjected Y-coordinates\nКоордината Y в прямоугнольной системе координат\n\n\nCategory\nCrime classification (robberies, drugs/narcotics possession or sale, vehicle theft, and vandalism)\nТип преступления\n\n\nDescript\nDescription of the crime\nОписание\n\n\nDayOfWeek\nDay of the week that crime was reported\nДень недели, в который было подано заявление\n\n\nDate\nDate of the report\nДата заявления\n\n\nTime\nTime of report\nВремя заявления\n\n\nPdDistrict\nPolice district\nПолицейский участок\n\n\nResolution\nOutcome of the report, e.g. None, Arrest, Unfounded, etc\nРезультат работы по заявлению\n\n\nLocation\nStreet address where the crime occurred\nНазвание улицы, где произошло преступление\n\n\nX\nX-Coordinates of crime location\nДолгота\n\n\nY\nY-Coordinates of crime location\nШирота\n\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nОткрыть данные вы можете, просто перетащив файл с расширением .shp в пустое окно QGIS или через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить векторный слой.\n\n\nПосле добавления векторного слоя и открытия подложки (опционально), вы должны увидеть что-то похожее на картинку ниже.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nЛокальная оценка плотности по квадрантам рассмотрена по ссылке"
  },
  {
    "objectID": "01-point-pattern-analysis.html#kde",
    "href": "01-point-pattern-analysis.html#kde",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "2 Ядерная оценка плотности",
    "text": "2 Ядерная оценка плотности\n\n\n\n\n\n\nДополнительно\n\n\n\nВизуальную оценка ядерной плотности можно выполнить с помощью стилизации слоя точечных объектов в виде тепловой карты, о чем рассказано по ссылке. Однако в этом случае следует помнить, что полученная карта не является статичной и будет изменяться в зависимости от масштаба на экране, тогда как описанный ниже метод расчета даст статичную карту.\n\n\nДля построения карты ядерной оценки плотности воспользуемся инструментом Тепловая карта (оценка плотности ядер) из панели инструментов анализа.\n\n\n\n\n\n\nДополнительно\n\n\n\nЕсли у вас закрыта Панель инструментов анализа, то вы можете открыть ее заново из строки меню Вид \\(\\longrightarrow\\) Панели \\(\\longrightarrow\\) Инструменты анализа.\n\n\nВ открывшемся окне инструмента следует выбрать параметры расчета1.\n\n\n\n\n\nРассмотрим основные параметры подробнее:\n\nточечный слой - это векторный слой точечных объектов, для которого будет выполняться оценка плотности;\nрадиус - расстояние, в пределах которого будет рассчитываться значение функции плотности;\nпараметры размера растра - так как полученный результат будет представлен в виде непрерывных значений, он будет сформирован в виде растра, поэтому необходимо задать его основные параметры (чем больше строк и полей или чем меньше размер пикселя вы зададите, тем более подробным и качественным получится ваш результат).\n\nОстальные параметры являются не обязательными для настройки, поэтому мы оставим их без изменений.\nПо умолчанию ваш результат будет сохранен в виде временного слоя, но вы можете настроить его сохранение в файл перед выполнением алгоритма или сохранить уже полученный временный слой.\n\n\n\n\n\n\nВнимание\n\n\n\nЗдесь при оценке плотности будут рассчитаны значения функции плотности только в пределах заданного радиуса, поэтому, если вы выберете слишком маленькую его величину, карта может быть не построена.\n\n\nВ результате построения тепловой карты, вы получите следующее изображение (здесь радиус был взят 1000 футов и размер растра примерно 1000 на 1000)."
  },
  {
    "objectID": "01-point-pattern-analysis.html#оценка-точечного-паттерна",
    "href": "01-point-pattern-analysis.html#оценка-точечного-паттерна",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "3 Оценка точечного паттерна",
    "text": "3 Оценка точечного паттерна\nДля того, чтобы количественно оценить тип точечного паттерна, можно оценить разницу между ожидаемым средним расстоянием до ближашего соседа и фактическим.\n\n\n\n\n\n2\nПо результатам оценки наиболее важными параметрами являются:\n\np-value - вероятность того, что процесс является пространственно случайным;\nz-score - стандартное отклонение распределения.\n\nКак правило, высокие положительные значения z-score говорят о том, что точечный паттерн является регулярным, а низкие отрицательные значения - о том, что точечный паттерн кластеризован.\nВ QGIS эта оценка выполняется с помощью инструмента Анализ ближайших соседей из Панели инструментов анализа.\nДля расчетов с его использованием достаточно только выбрать векторный точечный слой и вариант сохранения результата.\n\n\n\n\n\n\nНа заметку\n\n\n\nОбратите внимание, что здесь сохранение результата будет происходить в формате html файла, а не уже привычного нам векторного или растрового слоя, так как здесь просто дается результат расчета численных показателей.\n\n\n\n\n\n\n\nПолученный результат в текстовом виде будет выглядеть вот так:\n\n\n\n\n\nРассмотрим полученные результаты:\n\nнаблюдаемое среднее расстояние - это среднее расстояние до ближайшего соседа;\nожидаемое среднее расстояние - это среднее расстояние до ближайшего соседа, которое было бы при случайном распределении точек;\nиндекс ближайшего соседа - отношение наблюдаемого расстояния к ожидаемому;\nчисло точек - количество объектов в точечном слое;\nz-счет - стандартное отклонение.\n\nВ соответствии с документацией, отрицательные значения говорят о том, что точечный паттерн не является результатом пространственно случайного процесса, тогда как положительные значения могут говорить о том, что процесс скорее регулярен.\n\n\n\n\n\n\n\n\n\n\n\nВнимание\n\n\n\nПолученный результат только говорит о возможности пространственной неслучайности процесса. Наличие конкретных кластеров или регулярность паттерна требует дальнейшей проверки и интерпретации.\n\n\nВ нашем случае, было получено значение z-score = -90.5, что говорит о том, что точечный паттерн скорее всего является кластеризованным."
  },
  {
    "objectID": "01-point-pattern-analysis.html#кластеризация-к-средних",
    "href": "01-point-pattern-analysis.html#кластеризация-к-средних",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "4 Кластеризация К-средних",
    "text": "4 Кластеризация К-средних\nКак было рассмотрено в лекции, кластеризация методом К-средних позволяет получить обособленные друг от друга кластеры, внутри которых будет минимизироваться расстояние от каждого из объектов до центроида кластера (при этом центроид не будет является одним из исходных объектов, а просто будет центром массы всего кластера).\nВ QGIS этот метод реализован в виде инструмента Кластеризация K-means в Панели инструментов анализа.\n\n\n\n\n\nДля выполнения алгоритма достаточно просто выбрать векторный слой с точечными данными для кластеризации и необходимое количество кластеров.\n\n\n\n\n\n\nНа заметку\n\n\n\nДля кластеризации не обязательно использовать только точечные объекты, ее можно выполнить также для линейных и полигональных объектов, но в этих случаях кластеризация будет выполняться не непосредственно для них, а для их центроидов.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nВ нашем случае количество кластеров выбирается произвольно, однако существуют определенные методы расчета наиболее оптимального числа кластеров. Почитать про эти методы можно почитать, например, здесь.\n\n\nВ качестве дополнительных параметров алгоритма можно задать свои имена для полей с номером кластера и размером кластера.\nПо результатам кластеризации вы получите точечный слой, главным отличием которого от исходного будут являться два новых поля:\n\nCLUSTER_ID - порядковый номер кластера (начинаются с 0, так как индексация здесь унаследована от языка программирования);\nCLUSTER-SIZE - размер кластера (количество точек в нем).\n\nДля того, чтобы показать, где расположены точки каждого из кластеров на карте, настроим их символы в окне Свойств слоя. В качестве типа стиля следует выбрать Символизация по уникальным значениям, а в качестве значения - CLUSTER_ID.\n\n\n\n\n\nПосле этого каждый кластер получит свой цвет на карте.\n\n\n\n\n\nКластеризация методом К-средних позволяет сформировать обособленные и компактные кластеры. Проверим, действительно ли это так. Для проверки впишем каждый кластер в выпуклый многоугольник.\nЕсли кластеры действительно компактны и обособлены друг от друга, то полученные многоугольники не будут соприкасаться или пересекаться.\nДля построения выпуклых многоугольников воспользуемся инструментом Минимальная охватывающая геометрия из Панели инструментов анализа. Он позволяет построить нужный тип минимальной охватывающей геометрии.\n\n\n\n\n\nВ качестве параметров здесь следует выбрать\n\nслой, для объектов которого будет строиться минимальная охватывающая геометрия;\nполе классификации - то поле/атрибут, на основе которого объекты будут объединяться в группы для построения минимальной охватывающей геометрии;\nтип геометрии - так как мы хотим получить выпуклые многоугольники вокруг каждого кластера, то нужный тип геометрии - выпуклая оболочка; другие типы геометрии - охват (прямоугольник по минимальным и максимальным координатам слоя), минимальный ориентированный прямоугольник (прямоугольник, ориентированный с учетом разброса наблюдений), минимальная описывающая окружность.\n\n\n\n\n\n\nВ результате будет построен новый векторный слой с полигонами - выпуклыми многоугольниками, описывающими каждый кластер.\n\n\n\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nФакт того, что полученные выпуклые многоугольники не пересекаются между собой, говорит о том, что кластеры обособлены друг от друга.\n\n\n\n\n\n\n\n\nНа заметку\n\n\n\nНа этой карте вы можете заметить еще и то, что некоторые обособленные точки (например, на острове в правом верхнем углу или в левой части) перетягивают в свою сторону центроиды кластеров, что может разбить некоторые довольно плотные группы."
  },
  {
    "objectID": "01-point-pattern-analysis.html#кластеризация-dbscan",
    "href": "01-point-pattern-analysis.html#кластеризация-dbscan",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "5 Кластеризация DBSCAN",
    "text": "5 Кластеризация DBSCAN\nВвиду того, что метод кластеризации К-средних всегда все точки отнесет к тому или иному кластеру, что может привести к некорректной разбивке на группы, он может показывать неудовлетворительные результаты на реальных данных, в которых может присутствовать шум и выбросы.\nВ этих случаях более оптимальным методом кластеризации будет основанный на плотности DBSCAN (Density-based spatial clustering of applications with noise).\nВ QGIS этот алгоритм реализован в виде инструмента Кластеризация DBSCAN.\n\n\n\n\n\nОсновными параметрами являются:\n\nвекторный слой с объектами, для которых выполняется кластеризация;\nминимальный размер кластера - минимальное количество соседей в пределах заданного расстояния, при котором точка будет включена в ядро кластера;\nмаксимальное расстояние между кластеризованными точками - расстояние, в пределах которого будет осуществляться поиск соседей для каждой их точек.\n\nДополнительными параметрами так же, как и для кластеризации К-средних будут являться CLUSTER_ID и CLUSTER-SIZE, а кроме того - возможность рассматривать граничные точки в качестве шума.\n\n\n\n\n\n\nНа заметку\n\n\n\nКак и для кластеризации методом К-средних параметры в нашем случае были выбраны произвольно, но в случае реального исследования они должны быть обоснованы, исходя из знания предметной области и природы простраственного процесса.\n\n\nВ результате снова получим векторный слой с точечными объектами и двумя новыми атрибутами CLUSTER_ID и CLUSTER-SIZE. Обратите внимание, что для некоторых из точек будут пропущены значения этих полей, это значит, что точка не попала ни в один из кластеров и является точкой шума.\nАналогично предыдущему разделу покажем кластеры на карте разными цветами.\n\n\n\n\n\nНа карте видно, что в результате нами были получены небольшие кластеры в местах с наибольшей плотностью наблюдений, тогда как значительное число точек было отнесено к точкам шума, то есть не вошло ни в один из кластеров.\n\n\n\nКластеры\n\n\n\n\n\nТочки шума\n\n\nДля проверки наличия пересечений между кластерами можно аналогично предыдущему разделу построить минимальные охватывающие геометрии каждого из кластеров.\n\n\n\n\n\n\nДополнительно\n\n\n\nТакже имеющаяся в стандартном наборе Панели инструментов анализа кластеризация ST-DBSCAN является вариацией метода DBSCAN, в котором дополнительно учитывается время события. Такой метод кластеризации полезен, если вы знаете или предполагаете, что точечный процесс происходит с разной интенсивностью в разные временные периоды или происходит преимущественно в определенные периоды времени.\nПодробно метод описан в статье"
  },
  {
    "objectID": "01-point-pattern-analysis.html#footnotes",
    "href": "01-point-pattern-analysis.html#footnotes",
    "title": "Анализ точечных паттернов и кластеризация",
    "section": "Сноски",
    "text": "Сноски\n\n\nБолее подробно почитать про параметры можно по ссылке↩︎\nИсточник изображения: https://gistbok-topics.ucgis.org/AM-03-007↩︎"
  },
  {
    "objectID": "References.html",
    "href": "References.html",
    "title": "Список литературы и дополнительные источники",
    "section": "",
    "text": "Самсонов Т.Е. Основы геоинформатики: курс лекций : сайт. 2025. — URL: https://tsamsonov.github.io/gis-course/. Дата публикации: 14.02.2025. DOI: 10.5281/zenodo.7902351\nSergio Rey, Dani Arribas-Bel, Levi John Wolf Geographic Data Science with Python - URL: https://geographicdata.science/book/\nManuel Gimond Intro to GIS and Spatial Analysis - URL: https://mgimond.github.io/Spatial/index.html\nYuan, Y., Qiang, Y., Bin Asad, K., and Chow, T. E. (2020). Point Pattern Analysis. The Geographic Information Science & Technology Body of Knowledge (1st Quarter 2020 Edition), John P. Wilson (ed.). DOI: 10.22224/gistbok/2020.1.13.\nPoint pattern analysis - URL: https://arcg.is/0nO0bH\nFrançois Sémécurbe Beyond the Modifiable Areal Unit Problem! - URL: https://fsemecurbe.github.io/fractal-for-geographers/\nk-FUNCTION AND KERNEL DENSITY ESTIMATION - URL: https://storymaps.arcgis.com/stories/728743b4ae534275a22a15b19e0e781f\nКластеризация в ML: от теоретических основ популярных алгоритмов к их реализации с нуля на Python - URL: https://habr.com/ru/articles/798331/\nИнтересные алгоритмы кластеризации, часть вторая: DBSCAN - URL: https://habr.com/ru/articles/322034/\nОсобенности кластеризации пространственных данных - URL: https://cartetika.ru/tpost/xbr62rng41-osobennosti-klasterizatsii-prostranstven\nКластеризация пространственных данных – k-means и иерархические алгоритмы - URL: https://cartetika.ru/tpost/uun5jy5tk1-klasterizatsiya-prostranstvennih-dannih\nКластеризация пространственных данных – плотностные алгоритмы и DBCSAN - URL: https://cartetika.ru/tpost/k05o2ndpf1-klasterizatsiya-prostranstvennih-dannih\nDr. Jean-Paul Rodrigue Location-Allocation Models - URL: https://transportgeography.org/contents/methods/location-allocation-models/\nUjaval Gandhi Locating Nearest Facility with Origin-Destination Matrix (QGIS3) - URL: https://www.qgistutorials.com/en/docs/3/origin_destination_matrix.html\nMonica Pratt, Harry Moore, and Tim Craig Solving a Public Health Problem Using Location-Allocation - URL: https://www.esri.com/about/newsroom/wp-content/uploads/2018/10/solving-a-public-health-problem.pdf\nLocation-allocation analysis - URL: https://desktop.arcgis.com/en/arcmap/latest/extensions/network-analyst/location-allocation.htm\nGuide to Network Analysis (Part 6 - Solve Location Allocation) - URL: https://developers.arcgis.com/python/latest/guide/part6-solve-location-allocation/\nExercise 9: Choosing optimal store locations using location-allocation - URL: https://desktop.arcgis.com/en/arcmap/latest/extensions/network-analyst/exercise-9-choosing-optimal-store-sites-using-location-allocation.htm\nHaynes, K.E., & Fotheringham, A.S. (1985). Gravity and Spatial Interaction Models. Reprint. Edited by Grant Ian Thrall. WVU Research Repository, 2020. - URL: https://researchrepository.wvu.edu/cgi/viewcontent.cgi?article=1010&context=rri-web-book\nFriske, Wesley & Choi, Sunhee. (2013). Another Look at Retail Gravitation Theory: History, Analysis, and Future Considerations. Academy of Business Disciplines Journal. 5. 88-106.\nArhipova, I., Berzins, G., Erglis, A., Ansonska, E., Binde, J. and Kovalcuks, A. Huff Model for Shopping Centre Assessment using Aggregated Mobile Phone Data. DOI: 10.5220/0009361400910097 In Proceedings of the 2nd International Conference on Finance, Economics, Management and IT Business (FEMIB 2020), pages 91-97. - URL: https://www.scitepress.org/Papers/2020/93614/93614.pdf\nSam Marshall Gravity Model of Spatial Interaction in QGIS. - URL: https://gsmarshall.github.io/gravity/gravity.html\nHuff Model Calibration with ArcGIS Business Analyst Pro. - URL: https://www.esri.com/arcgis-blog/products/bus-analyst/business/huff-model-calibration-with-arcgis-business-analyst-pro/\nAnalyze distance and attractiveness using Huff models in ArcGIS Business Analyst Pro - URL: https://www.esri.com/arcgis-blog/products/bus-analyst/analytics/analyze-distance-and-attractiveness-using-huff-models-in-arcgis-business-analyst-pro/\nКак мы используем модель Хаффа для открытия новых магазинов. - URL: https://habr.com/ru/companies/magnit/articles/717536/\nSteven J. Anderson, John X. Volker, Michael D. Phillips Converse’s Breaking-Point Model Revised - URL: https://www.aabri.com/manuscripts/09219.pdf\n[UCGIS] GIS&T Body of Knowledge - URL: https://gistbok-topics.ucgis.org/UCGIS\nHuff Gravity Model: Store Customer Predictions - URL: https://gisgeography.com/huff-gravity-model/\nРазработка плагина для применения гравитационной модели Хаффа в проектах QGIS / Д. Р. Гусев, А. А. Камышева, А. В. Павлик [и др.]. — Текст : электронный // Математическое и информационное моделирование : материалы Всероссийской конференции молодых ученых, Тюмень, 25 апреля 2024 г. / отв. ред. Л. Н. Бакановская, М. С. Воробьева ; Министерство науки и высшего образования РФ, Тюменский государственный университет, Школа компьютерных наук. — Тюмень : ТюмГУ-Press, 2024. — Вып. 22. — С. 187–190. - URL: https://elib.utmn.ru/jspui/bitstream/ru-tsu/35705/1/miim_2024_187_190.pdf\nElijah Knaap Urban Analysis & Spatial Science - URL: https://knaaptime.com/urban_analysis/\nСяо H. Алгоритмы ГИС (GIS algorithms) / пер. с англ. А. А. Слинкина. – М.: ДМК Пресс, 2021. – 328 с.: ил.\nДжордж Грекусис Методы и практика пространственного анализа. Описание, исследование и объяснение с использованием ГИС (Spatial Analysis Methods and Practice: Describe – Explore – Explain through GIS)  / пер. с анг. А.  Н. Киселева. – М.: ДМК Пресс, 2021. – 500 с.: ил.\nСамсонов Т.Е. Пространственная статистика и моделирование на языке R. М.: Географический факультет МГУ, 2023. - URL: https://tsamsonov.github.io/r-spatstat-course/index.html\nLuc Anselin, Grant Morrison, Angela Li, Karina Acosta Hands-On Spatial Data Science with R - URL: https://spatialanalysis.github.io/handsonspatialdata/index.html\nMoraga, Paula. (2023). Spatial Statistics for Data Science: Theory and Practice with R. Chapman & Hall/CRC Data Science Series. ISBN 9781032633510 - URL: https://www.paulamoraga.com/book-spatial/index.html\nIntroduction to Spatial Data Programming with Python - URL: https://geobgu.xyz/py/\nL. Anselin (2024a). An Introduction to Spatial Data Science with GeoDa. Volume 1: Exploring Spatial Data. CRC/Chapman&Hall, Boca Raton, FL. Online version.\nL. Anselin (2024b). An Introduction to Spatial Data Science with GeoDa. Volume 2: Clustering Spatial Data. CRC/Chapman&Hall, Boca Raton, FL. Online version.\nDr. Kam Tin Seong R for Geospatial Data Science and Analytics - URL: https://r4gdsa.netlify.app/\nA course on Spatial Data Science - URL:https://martinfleischmann.net/sds/",
    "crumbs": [
      "Курс лекций",
      "Литература"
    ]
  },
  {
    "objectID": "04-vegetation-indices.html",
    "href": "04-vegetation-indices.html",
    "title": "Расчет вегетационных индексов",
    "section": "",
    "text": "Вегетационный индекс (ВИ) это показатель, рассчитываемый в результате операций с разными спектральными диапазонами (каналами) ДДЗ, и имеющий отношение к параметрам растительности в данном пикселе снимка. Эффективность ВИ определяется особенностями отражения; эти индексы выведены, главном образом, эмпирически.\nФактически вегетационные индексы как и все спектральные индексы основаны на том, что разные поверхности отражают и поглощают различные части электромагнитного спектра.\nОсновное предположение по использованию ВИ состоит в том, что некоторые математические операции с разными каналами ДЗЗ могут дать полезную информацию о растительности.\n\n\nNDVI (Normalized Difference vegetation index) - самый известный индекс и ему больше всего доверяют. NDVI прост для вычисления, имеет самый широкий динамический диапазон из распространенных ВИ, и лучшую чувствительность к изменениям в растительном покрове. Он умеренно чувствителен к изменениям почвенного и атмосферного фона, кроме случаев с бедной растительностью. Для того чтобы просто посмотреть на растительность на снимке с количественной точки зрения, нет ничего лучшего, чем NDVI, только если вы не имеете территорию с бедной растительностью.\nРассчитывается NDVI по формуле:\n\\[\nNDVI = \\dfrac{NIR - RED}{NIR + RED}\n\\]\nгде \\(NIR\\) - значение в ближайшем инфракрасном диапазоне, \\(RED\\) - значение красного канала.\n\n\n\nИсточник: https://eos.com/ru/make-an-analysis/ndvi/\n\n\n\n\n\nИсточник: https://www.auravant.com/en/articles/precision-agriculture/vegetation-indices-and-their-interpretation-ndvi-gndvi-msavi2-ndre-and-ndwi/\n\n\nИнтерпретация значений2:\n\n0,15 – это самых низкий индекс, который означает, что скорее всего насаждения не смогли пережить холода;\n0,15–0,2 – низкий показатель, означающий, что растения начали зимовку на слишком ранней фенологической стадии;\n0,2–0,3 – это хороший результат, который указывает на то, что с растениями все в порядке и они смогут перейти к стадии вегетации;\n0,3–0,5 – это самый высокий показатель.\n\n\n\n\nТип объекта3\nОтражение в красной области спектра\nОтражение в инфракрасной области спектра\nЗначение NDVI\n\n\n\n\nГустая растительность\n0.1\n0.5\n0.7\n\n\nРазряженная растительность\n0.1\n0.3\n0.5\n\n\nОткрытая почва\n0.25\n0.3\n0.025\n\n\nОблака\n0.25\n0.25\n0\n\n\nСнег и лед\n0.375\n0.35\n-0.05\n\n\nВода\n0.02\n0.01\n-0.25\n\n\nИскусственные материалы (бетон, асфальт)\n0.3\n0.1\n-0.5\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nВегетационные индексы необходимо рассчитывать в период активной вегетации и желательно сравнивать за разные даты, чтобы получить более корректный результат.\n\n\n\n\n\nИсточник: https://www.usgs.gov/landsat-missions/landsat-normalized-difference-vegetation-index\n\n\nPVI (Perpendicular VI) – несколько менее, но тоже широко распространен. Имеет узкий динамический диапазон и меньшую чувствительность и очень чувствителен к изменению атмосферы. Относительно прост в использовании и нахождении почвенной линии, что важно для использования других индексов. Иногда он лучше чем NDVI если вы имеете бедную растительность.\nSAVI (Soil Adjusted VI) - хороший вариант, если цель исследования - разреженная растительность. В этом случае, если вы используете корректирующий фактор L больше чем 0.5, вы должны быть готовы к указанию статьи Huete (1988) и того факта, что корректирующий фактор должен быть больше чем 0.5, если растительный покров мал."
  },
  {
    "objectID": "04-vegetation-indices.html#основные-понятия-и-формулы1",
    "href": "04-vegetation-indices.html#основные-понятия-и-формулы1",
    "title": "Расчет вегетационных индексов",
    "section": "",
    "text": "Вегетационный индекс (ВИ) это показатель, рассчитываемый в результате операций с разными спектральными диапазонами (каналами) ДДЗ, и имеющий отношение к параметрам растительности в данном пикселе снимка. Эффективность ВИ определяется особенностями отражения; эти индексы выведены, главном образом, эмпирически.\nФактически вегетационные индексы как и все спектральные индексы основаны на том, что разные поверхности отражают и поглощают различные части электромагнитного спектра.\nОсновное предположение по использованию ВИ состоит в том, что некоторые математические операции с разными каналами ДЗЗ могут дать полезную информацию о растительности.\n\n\nNDVI (Normalized Difference vegetation index) - самый известный индекс и ему больше всего доверяют. NDVI прост для вычисления, имеет самый широкий динамический диапазон из распространенных ВИ, и лучшую чувствительность к изменениям в растительном покрове. Он умеренно чувствителен к изменениям почвенного и атмосферного фона, кроме случаев с бедной растительностью. Для того чтобы просто посмотреть на растительность на снимке с количественной точки зрения, нет ничего лучшего, чем NDVI, только если вы не имеете территорию с бедной растительностью.\nРассчитывается NDVI по формуле:\n\\[\nNDVI = \\dfrac{NIR - RED}{NIR + RED}\n\\]\nгде \\(NIR\\) - значение в ближайшем инфракрасном диапазоне, \\(RED\\) - значение красного канала.\n\n\n\nИсточник: https://eos.com/ru/make-an-analysis/ndvi/\n\n\n\n\n\nИсточник: https://www.auravant.com/en/articles/precision-agriculture/vegetation-indices-and-their-interpretation-ndvi-gndvi-msavi2-ndre-and-ndwi/\n\n\nИнтерпретация значений2:\n\n0,15 – это самых низкий индекс, который означает, что скорее всего насаждения не смогли пережить холода;\n0,15–0,2 – низкий показатель, означающий, что растения начали зимовку на слишком ранней фенологической стадии;\n0,2–0,3 – это хороший результат, который указывает на то, что с растениями все в порядке и они смогут перейти к стадии вегетации;\n0,3–0,5 – это самый высокий показатель.\n\n\n\n\nТип объекта3\nОтражение в красной области спектра\nОтражение в инфракрасной области спектра\nЗначение NDVI\n\n\n\n\nГустая растительность\n0.1\n0.5\n0.7\n\n\nРазряженная растительность\n0.1\n0.3\n0.5\n\n\nОткрытая почва\n0.25\n0.3\n0.025\n\n\nОблака\n0.25\n0.25\n0\n\n\nСнег и лед\n0.375\n0.35\n-0.05\n\n\nВода\n0.02\n0.01\n-0.25\n\n\nИскусственные материалы (бетон, асфальт)\n0.3\n0.1\n-0.5\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nВегетационные индексы необходимо рассчитывать в период активной вегетации и желательно сравнивать за разные даты, чтобы получить более корректный результат.\n\n\n\n\n\nИсточник: https://www.usgs.gov/landsat-missions/landsat-normalized-difference-vegetation-index\n\n\nPVI (Perpendicular VI) – несколько менее, но тоже широко распространен. Имеет узкий динамический диапазон и меньшую чувствительность и очень чувствителен к изменению атмосферы. Относительно прост в использовании и нахождении почвенной линии, что важно для использования других индексов. Иногда он лучше чем NDVI если вы имеете бедную растительность.\nSAVI (Soil Adjusted VI) - хороший вариант, если цель исследования - разреженная растительность. В этом случае, если вы используете корректирующий фактор L больше чем 0.5, вы должны быть готовы к указанию статьи Huete (1988) и того факта, что корректирующий фактор должен быть больше чем 0.5, если растительный покров мал."
  },
  {
    "objectID": "04-vegetation-indices.html#расчет-индекса-ndvi",
    "href": "04-vegetation-indices.html#расчет-индекса-ndvi",
    "title": "Расчет вегетационных индексов",
    "section": "2 Расчет индекса NDVI",
    "text": "2 Расчет индекса NDVI\nРасчет индекса можно осуществить с помощью Калькулятора растров.\n\n\n\n\n\nТак как здесь будут использоваться снимки Landsat 8, то ближайший инфракрасный спектр - это 5 канал, а красная часть спектра - это 4 канал, которые необходимо будет подставлять в формулу выше.\n\n\n\n\n\n\n\n\n\n\n\nВажное уведомление\n\n\n\nЖелательно сохранять результат в файл, потому что при создании временного растра расчет может быть некорректным.\n\n\n\n\n\n\n\nДля более понятного визуального отображения растительности и прочих объектов на карте NDVI можно составить палитру самостоятельно или использовать уже готовый стиль.\nГотовые стили для карт NDVI можно скачать по ссылкам:\n\nДискретная палитра NDVI https://disk.yandex.ru/d/JyiM2dt6uqI2KQ\nПалитра NDVI https://disk.yandex.ru/d/OjWVAEtcLWt-zw\n\nДля загрузки готового стиля необходимо открыть настройки стиля растрового слоя (либо кликнув по нему дважды левой кнопкой мыши, либо после клика правой кнопкой мыши выбрать пункт Свойства открывшегося контекстного меню). В настройках стиля следует выбрать пункт Форма - Загрузить стиль, после чего найти файл стиля и выбрать его.\n\n\n\n\n\n\n\n\nКарта NDVI с использованием готового стиля\n\n\n\n\n\nКарта значений NDVI с использованием готового стиля с дискретной легендой\n\n\nТакже можно использовать более стандартную шкалу, показанную ниже.\n\n\n\nДискретная шкала NDVI (источник: https://gis-lab.info/qa/ndvi.html)\n\n\n\n\n\n\n\n\nДополнительно\n\n\n\nПри необходимости растр можно далее переклассифицировать, чтобы получить дискретные значения, а потом векторизовать результат.\nТак вы сможете оценить, например, площадь зеленых насаждений в городе.\n\n\n\n\n\n\n\n\n\n\nВ результате вы получите растр с дискретными значениями, вместо непрерывных, который можно легко автоматически векторизовать."
  },
  {
    "objectID": "04-vegetation-indices.html#footnotes",
    "href": "04-vegetation-indices.html#footnotes",
    "title": "Расчет вегетационных индексов",
    "section": "Сноски",
    "text": "Сноски\n\n\nВегетационные индексы - https://gis-lab.info/qa/vi.html↩︎\nЗачем нужен вегетационный индекс NDVI? - https://innoter.com/articles/zachem-nuzhen-vegetatsionnyy-indeks-ndvi/↩︎\nNDVI - теория и практика - https://gis-lab.info/qa/ndvi.html↩︎"
  }
]